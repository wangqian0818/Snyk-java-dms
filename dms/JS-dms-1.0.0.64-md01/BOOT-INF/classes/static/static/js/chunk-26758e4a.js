(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26758e4a"],{"0618":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-table",{ref:"table",staticClass:"AStockOutDetailTable",attrs:{columns:t.columns,dataSource:t.data,rowKey:t.rowKey,bordered:t.bordered,loading:t.loading,size:t.size,"row-selection":t.rowSelection,pagination:{current:t.page,pageSize:t.pageSize,total:t.total,pageSizeOptions:t.pageSizeOptions,onChange:t.onPageChange,onShowSizeChange:t.onShowSizeChange,showSizeChanger:t.showSizeChanger,showQuickJumper:t.showQuickJumper,hideOnSinglePage:t.hideOnSinglePage,showTotal:t.showTotal,size:t.size,showLessItems:t.showLessItems},scroll:{y:t.tableHeight}},scopedSlots:t._u([{key:"number",fn:function(e,a,r){return t.showIndex?[t._v(" "+t._s(r+1)+" ")]:void 0}},t._l(Object.keys(t.$scopedSlots).filter((function(t){return"expandedRowRender"!==t})),(function(e){return{key:e,fn:function(a,r,n){return[t._t(e,null,null,{text:a,record:r,index:n})]}}})),{key:t.$scopedSlots.expandedRowRender?"expandedRowRender":"",fn:function(e,a,r,n){return[t._t(t.$scopedSlots.expandedRowRender?"expandedRowRender":"",null,null,{record:e,index:a,indent:r,expanded:n})]}}],null,!0)},[t._l(Object.keys(t.$slots),(function(e){return a("template",{slot:e},[t._t(e)],2)}))],2)],1)},n=[],i=(a("a9e3"),a("9b10")),o={name:"BFixedTable",mixins:[i["a"]],props:{columns:{type:Array,required:!0},pageSizeOptions:{type:Array,default:function(){return["10","20","50","100","200"]}},showIndex:{type:Boolean,default:!0},rowKey:String,tableHeight:{type:Number,default:550},beautyScroller:{type:Boolean,default:!0},data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},bordered:{type:Boolean,default:!0},initPage:{type:Number,default:1},initPageSize:{type:Number,default:10},showOuterBorder:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},showTotal:{type:Function,default:function(t){return"总共".concat(t,"条")}},showQuickJumper:{type:Boolean,default:!0},showSizeChanger:{type:Boolean,default:!0},hideOnSinglePage:{type:Boolean,default:!1},showLessItems:{type:Boolean,default:!1},size:{type:String,default:"default"},rootData:{type:Object,default:function(){}},rowSelection:{type:Object,default:function(){return null}}},data:function(){return{page:1,pageSize:10}},mounted:function(){this.fixedHeight(),this.updateData(),this.addIndex(),this.beautyScroller&&this.beautyScroll(),this.showOuterBorder&&this.setOutBorder(),this.page=this.initPage,this.pageSize=this.initPageSize},watch:{initPage:function(t){this.page!==t&&(this.page=t,this.updateData())},initPageSize:function(t){this.pageSize!==t&&(this.pageSize=t,this.updateData())},columns:function(){this.addIndex()},total:function(){this.fixedHeight()},tableHeight:function(){this.fixedHeight()}},methods:{addIndex:function(){this.showIndex&&this.columns.length>0&&"序号"!==this.columns[0].title&&this.columns.unshift({title:"序号",scopedSlots:{customRender:"number"},width:80})},fixedHeight:function(){var t=this,e=this.$refs.table.$el;this.total>0?this.modifyStyleByClass(e,"ant-table-body",{"min-height":"".concat(this.tableHeight,"px"),"max-height":"".concat(this.tableHeight,"px")}):(this.modifyStyleByClass(e,"ant-table-body",{"min-height":"0px","max-height":"".concat(this.tableHeight,"px")}),this.$nextTick((function(){t.modifyStyleByClass(e,"ant-table-placeholder",{"min-height":"".concat(t.tableHeight,"px"),"max-height":"".concat(t.tableHeight,"px")})})))},setOutBorder:function(){var t;null===(t=this.$refs.table.$el.classList)||void 0===t||t.add("ant-card-bordered")},beautyScroll:function(){var t=this.$refs.table.$el.querySelector(".ant-table-hide-scrollbar");t&&(t.classList.add("beauty-scroll"),t.style["margin-bottom"]="",t.style["padding-bottom"]="",t.style["min-width"]="");var e=this.$refs.table.$el.querySelector(".ant-table-body");null===e||void 0===e||e.classList.add("beauty-scroll")},onPageChange:function(t,e){this.page=t,this.pageSize=e,this.updateData()},onShowSizeChange:function(t,e){this.page=1,this.pageSize=e,this.updateData()},updateData:function(){this.$emit("change",{page:this.page,pageSize:this.pageSize,rootData:this.rootData})}}},s=o,l=(a("156c"),a("2877")),c=Object(l["a"])(s,r,n,!1,null,"eb2634aa",null);e["a"]=c.exports},"156c":function(t,e,a){"use strict";a("1bbf")},"19f8":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-select",{staticStyle:{height:"34px"},attrs:{filterOption:t.filterOption,"show-search":t.showSearch,disabled:t.disabled,notFoundContent:"无匹配数据",maxTagCount:t.maxTagCount,placeholder:t.placeholder,"show-arrow":!0,allowClear:""},on:{search:function(e){return t.multipleSearch(e)},blur:t.handleOnBlur,change:t.handleChange,dropdownVisibleChange:t.dropdownVisibleChange},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.data_1,(function(e){return a("a-select-option",{key:e[t.optionKey],attrs:{text:e[t.titleKey],title:e[t.titleKey],value:e[t.optionKey]}},[t._v(" "+t._s(e[t.titleKey])+" ")])})),1)},n=[],i=a("2909"),o=(a("a9e3"),a("7db0"),a("d3b7"),a("4de4"),a("fb6a"),a("99af"),a("caad"),a("2532"),{name:"BMultipleSelect",props:{disabled:{type:Boolean,default:!1},strategyData:{type:Array,default:function(){return[]}},optionKey:{type:String,default:"id"},titleKey:{type:String,default:"name"},filterOption:{type:Function,default:function(t,e){var a=e.data,r=a.attrs;return r.text.indexOf(t)>-1}},showSearch:{type:Boolean,default:!0},maxTagCount:{type:Number,default:void 0},placeholder:{type:String,default:""},value:{},selectAllFlag:{type:Boolean,default:!0}},model:{prop:"value",event:"change"},components:{},data:function(){return{data_1:[],model:null,searchValue:"",timer:null}},created:function(){this.model=this.value,this.updateData1ForEcho()},methods:{updateData1ForEcho:function(){var t=this,e=this.strategyData.find((function(e){return e[t.optionKey]===t.model})),a=this.strategyData.filter((function(e){return e[t.optionKey]!==t.model}));this.data_1=e?[e].concat(Object(i["a"])(a)).slice(0,100):a.slice(0,100)},handleChange:function(t){this.model=t,this.$emit("change",this.model,"handleChange"),this.updateData1ForEcho()},multipleSearch:function(t){var e=this;this.searchValue=t,this.timer||(this.timer=setTimeout((function(){e.searchValue1(t),e.timer=null}),300))},searchValue1:function(t){var e=this,a=this.strategyData.filter((function(a){return a[e.titleKey].includes(t)}));this.data_1=a.slice(0,100),this.$forceUpdate()},dropdownVisibleChange:function(){this.searchValue="",this.updateData1ForEcho()},handleOnBlur:function(){}},watch:{value:function(t){this.model=t,this.updateData1ForEcho()},strategyData:function(t){this.updateData1ForEcho()}}}),s=o,l=a("2877"),c=Object(l["a"])(s,r,n,!1,null,"59acc14a",null);e["a"]=c.exports},"1bbf":function(t,e,a){},"23c8":function(t,e,a){"use strict";a("bdf3")},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var r=a("6b75");function n(t){if(Array.isArray(t))return Object(r["a"])(t)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function i(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var o=a("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return n(t)||i(t)||Object(o["a"])(t)||s()}},bdf3:function(t,e,a){},d9f9:function(t,e,a){"use strict";a.d(e,"w",(function(){return i})),a.d(e,"H",(function(){return o})),a.d(e,"I",(function(){return s})),a.d(e,"h",(function(){return l})),a.d(e,"B",(function(){return c})),a.d(e,"J",(function(){return u})),a.d(e,"l",(function(){return m})),a.d(e,"m",(function(){return p})),a.d(e,"a",(function(){return g})),a.d(e,"r",(function(){return y})),a.d(e,"G",(function(){return v})),a.d(e,"x",(function(){return k})),a.d(e,"s",(function(){return b})),a.d(e,"o",(function(){return w})),a.d(e,"C",(function(){return x})),a.d(e,"t",(function(){return S})),a.d(e,"F",(function(){return T})),a.d(e,"n",(function(){return _})),a.d(e,"i",(function(){return M})),a.d(e,"q",(function(){return R})),a.d(e,"y",(function(){return O})),a.d(e,"z",(function(){return C})),a.d(e,"D",(function(){return D})),a.d(e,"A",(function(){return E})),a.d(e,"g",(function(){return I})),a.d(e,"p",(function(){return $})),a.d(e,"j",(function(){return N})),a.d(e,"u",(function(){return U})),a.d(e,"E",(function(){return B})),a.d(e,"c",(function(){return P})),a.d(e,"b",(function(){return V})),a.d(e,"d",(function(){return q})),a.d(e,"e",(function(){return G})),a.d(e,"v",(function(){return F})),a.d(e,"k",(function(){return H})),a.d(e,"f",(function(){return J}));a("99af"),a("d81d"),a("ac1f"),a("1276"),a("b680"),a("a9e3");var r=a("c1df"),n=a.n(r);function i(t){var e={1:"正常",2:"异常",3:"离线",4:"异常及离线"};return e[t]||"未知"}function o(t){var e={"-1":"未下发",1:"已下发",2:"未生效",3:"已生效",4:"已移除",5:"下发审批中",6:"下发审批不通过",7:"下发审批通过",8:"移除审批中",9:"移除审批不通过",10:"移除审批通过",11:"下发失败",12:"移除失败",13:"未审批",14:"申请下发撤回",15:"申请移除撤回"};return e[t]||"-"}function s(t){var e={true:"启用",false:"禁用"};return e[t]||"-"}function l(t){var e={1:"BASE64"};return e[t]||""}function c(t){var e={1:"浏览安全策略",2:"文件传输策略",3:"邮件策略",4:"定制应用策略",5:"内容审查策略",6:"流量控制策略",7:"网络安全策略",8:"域间标记策略",9:"SQL审查策略",10:"RTSP过滤",11:"SIP过滤",12:"应用安全标记",13:"文件名称过滤",14:"文件后缀名过滤",15:"文件类型过滤",16:"虚拟桌面协议过滤策略"};return e[t]||"-"}function u(t){var e={1:"#faa351",3:"#47b596",2:"#f05252"};return'<span style="color: '.concat(e[t]||"#000",';">').concat(o(t),"</span>")}function d(t){var e={false:"否",true:"是"};return e[t]||"-"}function m(t){var e={true:"#12a130",false:"#d42d33"};return'<span style="color: '.concat(e[t]||"#000",';cursor: pointer;">').concat(d(t),"</span>")}function f(t){var e={false:"禁用",true:"启用"};return e[t]||"-"}function p(t){var e={true:"#12a130",false:"#d42d33"};return'<span style="color: '.concat(e[t]||"#000",';cursor: pointer;">').concat(f(t),"</span>")}function h(t){var e={false:"未开启",true:"已开启"};return e[t]||"未开启"}function g(t){var e={true:"#12a130",false:"#d42d33"};return'<span style="color: '.concat(e[t]||"#d42d33",';cursor: pointer;">').concat(h(t),"</span>")}function y(t){var e={1:"限速",2:"限容"};return e[t]||"-"}function v(t){var e={2:"独享模式",1:"共享模式"};return e[t]||"-"}function k(t){var e={1:"信息级",2:"低危级",3:"中危级",4:"高危级",5:"严重级"};return e[t]||"-"}function b(t){var e={1:"转换",2:"透传",3:"去标"};return e[t]||"-"}function w(t){var e={1:"正在执行",2:"执行结束",3:"执行错误",4:"取消执行"};return e[t]||"-"}function x(t,e){return e=e||"YYYY-MM-DD HH:mm:ss",t?n()(t).format(e):"-"}function S(t){var e={1:"type1",2:"type2",3:"type3",4:"type4",5:"type5",6:"type6",7:"type7"};return e[t]||"-"}function T(t){var e={1:"机密性",2:"完整性"};return e[t]||"-"}function _(t){var e={1:"允许",2:"阻断"};return e[t]||"-"}function M(t){var e="";return t=t||[],t.map((function(a,r){e+=a+(t[r+1]?"; ":"")})),e}function L(t){var e={1:"UP",2:"DOWN"};return e[t]||"DOWN"}function R(t){var e={1:"#47b596"};return'<span style="color: '.concat(e[t]||"#f05252",';">').concat(L(t),"</span>")}function O(t){var e={true:"启用",false:"禁用"};return e[t]||"-"}function C(t){var e={true:"#12a130",false:"#d42d33"};return'<span style="color: '.concat(e[t]||"#000",';">').concat(O(t),"</span>")}function D(t){var e={1:"时间模式",2:"超时模式",3:"周期模式"};return e[t]||"-"}function E(t){var e={1:"URI",2:"邮件地址",3:"内容关键字",4:"邮件主题关键字"};return e[t]||"-"}function I(t){var e=t?t.split(","):[],a=[];return e&&e[0]&&e.map((function(t){a.push(j(t))})),z(a)}function j(t){var e={main:"主通道",display:"显示通道",inputs:"输入通道",cursor:"光标通道",playback:"播放通道",record:"录音通道",tunnel:"隧道通道",smartcard:"SMARTCARD通道",usbredir:"USB通道",port:"PORT通道",webdav:"WEBDAV通道"};return e[t]||"-"}function $(t){var e={1:"A->B",2:"B->A"};return e[t]||"-"}function N(t){var e={1:"数据业务",2:"管理业务"};return e[t]||"-"}function A(t){var e={1:"忽略大小写",2:"包含换行符",3:"多行锚定",4:"仅匹配模式",5:"逻辑组合"};return e[t]||"-"}function z(t){var e="";return t.map((function(a,r){e+=a+(t[r+1]?";":"")})),e}function U(t){var e=t?t.split(";"):[],a=[];return e&&e[0]&&e.map((function(t){a.push(A(t))})),z(a)}function B(t){var e=t?t.split(","):[],a=[];return e&&e[0]&&e.map((function(t){a.push(K(t))})),z(a)}function K(t){var e={Insert:"插入",Update:"更新",Delete:"删除"};return e[t]||"-"}function P(t){var e={1:"管控登录告警",2:"域间标记告警",3:"网络访问控制告警",4:"应用安全告警",5:"设备离线告警",6:"设备异常告警",7:"日志容量告警",8:"设备状态告警",9:"入侵检测告警",10:"认证告警",11:"基线核查告警",12:"文件过滤告警",13:"IP/MAC绑定告警",14:"DDoS攻击防护告警",15:"病毒防护告警",16:"WAF告警",17:"关键字过滤告警",18:"自定义协议检查告警",19:"虚拟桌面协议过滤告警",20:"数据加解密告警"};return e[t]||"-"}function V(t){var e={1:"全部",2:"邮件"};return e[t]||"-"}function q(t){var e=t?t.split(";"):[],a=[];return e&&e[0]&&e.map((function(t){a.push(k(Number(t)))})),z(a)}function G(t){var e={1:"登录异常",2:"流量异常",3:"标记拒绝",4:"ACL命中",5:"网页访问拒绝",6:"文件传输拒绝",7:"邮件传输拒绝",8:"定制策略拒绝",9:"DDoS攻击防御",10:"CC攻击防御",11:"WAF防御"};return e[t]||"-"}function F(t){var e={1:"已通知",2:"未通知"};return e[t]||"-"}function H(t){var e={1:"已处理",2:"处理中",3:"未处理"};return e[t]||"-"}function J(t){var e={0:"轮询均衡模式",1:"主备模式",2:"HASH均衡模式",3:"广播模式",4:"动态链接模式",5:"发送负载均衡模式",6:"收发负载均衡模式"};return e[t]||"-"}},ea05:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page-menu"},[a("a-radio-group",{attrs:{value:t.menu},on:{change:t.handleMenuChange}},[t._l(t.menuLists,(function(e,r){return[t.permissionDeviceMenu.includes(e.value)?a("a-radio-button",{key:r,attrs:{value:e.value}},[t._v(t._s(e.menuName))]):t._e()]}))],2)],1),a("a-card",{staticStyle:{clear:"both"}},[a("div",{staticClass:"search"},[a("div",{staticClass:"title"},[t._v("查询条件")]),a("div",{staticClass:"content"},[a("span",[t._v("关键字:")]),a("span",{staticClass:"inner"},[a("a-input",{staticClass:"i-width",attrs:{maxLength:64,placeholder:"请输入关键字"},on:{pressEnter:t.clickSearch},model:{value:t.search.search,callback:function(e){t.$set(t.search,"search",e)},expression:"search.search"}})],1),a("span",{staticClass:"outer"},[a("a-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("查询")])],1),a("span",{staticClass:"outer"},[a("a-button",{staticClass:"button",on:{click:t.resetSearch}},[t._v("重置")])],1)])]),a("div",{staticClass:"body"},[a("a-spin",{attrs:{spinning:t.spinning,tip:"正在导入数据，请稍等！"}},[a("div",{staticClass:"buttons"},[3==t.user.type?[a("a-button",{attrs:{type:"primary",icon:"sync"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("刷新")])]:[t.readOnly?t._e():a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.securityMarkCreate}},[t._v("新建")]),t.readOnly?t._e():a("a-button",{attrs:{type:"primary",icon:"cloud-download"},on:{click:function(e){return t.importData(t.downloadUrl)}}},[t._v("下载模板")]),t.readOnly?t._e():a("a-upload",{attrs:{name:"file",action:""+t.BASE_URL+t.importUrl,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel","show-upload-list":!1},on:{change:t.handleImportChange}},[a("a-button",{attrs:{type:"primary",icon:"import"}},[t._v("批量导入")])],1),t.readOnly?t._e():a("a-button",{attrs:{type:"primary",icon:"export"},on:{click:function(e){return t.exportData(t.exportUrl,1)}}},[t._v("批量导出")]),~[1,2].indexOf(t.menu)&&!t.readOnly?[a("a-button",{attrs:{type:"primary",icon:"delete"},on:{click:t.batchDelete}},[t._v("批量删除")])]:t._e(),a("a-button",{attrs:{type:"primary",icon:"sync"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("刷新")])]],2),a("div",{staticClass:"title"},[t._v("查询结果")]),a("a-row",{staticClass:"table"},[a("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[a("span",{staticStyle:{position:"absolute",top:"-25px",left:"12px",color:"#c8c8c8"}},[t.operations.selectedRowKeys.length>0?[t._v(t._s("已选中 "+t.operations.selectedRowKeys.length+" 项"))]:t._e()],2),a("b-fixed-table",{attrs:{columns:t.columns,rowKey:"id",data:t.table.data,total:t.table.total,"row-selection":1==t.menu||2==t.menu?t.rowSelection:null,loading:t.loading,"init-page":t.page},on:{change:t.tableParamChanged},scopedSlots:t._u([{key:"securityRank",fn:function(e){var r=e.record;return[a("span",[t._v(t._s(t._f("convertSecurityRank")(r.securityRank)))])]}},{key:"categoryCompareType",fn:function(e){var r=e.record;return[0==r.categoryCompareType?a("span",[t._v("子集")]):1==r.categoryCompareType?a("span",[t._v("交集")]):2==r.categoryCompareType?a("span",[t._v("重合")]):3==r.categoryCompareType?a("span",[t._v("不相交")]):a("span",[t._v("-")])]}},{key:"markAction",fn:function(e){var r=e.record;return[a("span",[t._v(t._s(t._f("convertMarkAction")(r.markAction)))])]}},{key:"markType",fn:function(e){var r=e.record;return[a("span",[t._v(t._s(t._f("convertMarkType")(r.markType)))])]}},{key:"visitMode",fn:function(e){var r=e.record;return[a("span",[t._v(t._s(t._f("convertVisitMode")(r.visitMode)))])]}},{key:"category",fn:function(e){var r=e.record;return[null!=r.category?a("span",{attrs:{title:r.category}},[t._v(t._s(r.category))]):a("span",[t._v("-")])]}},{key:"doi",fn:function(e){var r=e.record;return[null!=r.doi?a("span",{attrs:{title:r.doi}},[t._v(t._s(r.doi))]):a("span",[t._v("-")])]}},{key:"markLevel",fn:function(e){var r=e.record;return[null!=r.markLevel?a("span",{attrs:{title:r.markLevel}},[t._v(t._s(r.markLevel))]):a("span",[t._v("-")])]}},{key:"unTagDenyEnable",fn:function(e){var r=e.record;return[1==r.unTagDenyEnable?a("span",{attrs:{title:"开"}},[t._v("开")]):0==r.unTagDenyEnable?a("span",{attrs:{title:"关"}},[t._v("关")]):t._e()]}},{key:"unTagEnable",fn:function(e){var r=e.record;return[1==r.unTagEnable?a("span",{attrs:{title:"开"}},[t._v("开")]):0==r.unTagEnable?a("span",{attrs:{title:"关"}},[t._v("关")]):t._e()]}},{key:"tagEnable",fn:function(e){var r=e.record;return[1==r.tagEnable?a("span",{attrs:{title:"打标"}},[t._v("打标")]):0==r.tagEnable?a("span",{attrs:{title:"透传"}},[t._v("透传")]):a("span",[t._v("-")])]}},{key:"operations",fn:function(e){var r=e.record;return[3==t.user.type?[a("span",[a("span",{staticClass:"oper",on:{click:function(e){return t.securityMarkView(r)}}},[t._v("查看详情")])])]:[t.readOnly?t._e():a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.securityMarkModify(r)}}},[t._v("修改")])]),t.readOnly?t._e():a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper red",on:{click:function(e){return t.securityMarkDelete(r.id)}}},[t._v("删除")])])]]}}])})],1)],1)],1)],1)])],1)},n=[],i=a("5530"),o=(a("d3b7"),a("159b"),a("25eb"),a("a9e3"),a("2f62")),s=a("c2f2"),l=a("1da1"),c=(a("96cf"),a("99af"),a("b775"));function u(t,e,a){return d.apply(this,arguments)}function d(){return d=Object(l["a"])(regeneratorRuntime.mark((function t(e,a,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-area-marks?offset=".concat((e-1)*a,"&limit=").concat(a).concat(r),c["a"].GET));case 1:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function m(t){return f.apply(this,arguments)}function f(){return f=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-area-mark",c["a"].POST,e));case 1:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return h=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-area-mark/".concat(e),c["a"].GET));case 1:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function g(t){return y.apply(this,arguments)}function y(){return y=Object(l["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(c["f"])("strategy/strategy-area-mark/".concat(a),c["a"].DELETE));case 2:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}function v(t){return k.apply(this,arguments)}function k(){return k=Object(l["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.ids,t.abrupt("return",Object(c["f"])("strategy/strategy-area-mark/batch-delete?ids=".concat(a),c["a"].DELETE));case 2:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}function b(t){return w.apply(this,arguments)}function w(){return w=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-area-mark",c["a"].PUT,e));case 1:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function x(t,e,a){return S.apply(this,arguments)}function S(){return S=Object(l["a"])(regeneratorRuntime.mark((function t(e,a,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-marks?offset=".concat((e-1)*a,"&limit=").concat(a).concat(r),c["a"].GET));case 1:case"end":return t.stop()}}),t)}))),S.apply(this,arguments)}function T(t){return _.apply(this,arguments)}function _(){return _=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-mark",c["a"].POST,e));case 1:case"end":return t.stop()}}),t)}))),_.apply(this,arguments)}function M(t){return L.apply(this,arguments)}function L(){return L=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-mark/".concat(e),c["a"].GET));case 1:case"end":return t.stop()}}),t)}))),L.apply(this,arguments)}function R(t){return O.apply(this,arguments)}function O(){return O=Object(l["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.ids,t.abrupt("return",Object(c["f"])("strategy/strategy-mark/batch-delete?ids=".concat(a),c["a"].DELETE));case 2:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}function C(t){return D.apply(this,arguments)}function D(){return D=Object(l["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(c["f"])("strategy/strategy-mark/".concat(a),c["a"].DELETE));case 2:case"end":return t.stop()}}),t)}))),D.apply(this,arguments)}function E(t){return I.apply(this,arguments)}function I(){return I=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-mark",c["a"].PUT,e));case 1:case"end":return t.stop()}}),t)}))),I.apply(this,arguments)}function j(t,e,a){return $.apply(this,arguments)}function $(){return $=Object(l["a"])(regeneratorRuntime.mark((function t(e,a,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-tag-marks?offset=".concat((e-1)*a,"&limit=").concat(a).concat(r),c["a"].GET));case 1:case"end":return t.stop()}}),t)}))),$.apply(this,arguments)}function N(t){return A.apply(this,arguments)}function A(){return A=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-tag-mark/".concat(e),c["a"].GET));case 1:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}function z(){return U.apply(this,arguments)}function U(){return U=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-tag-mark/all",c["a"].GET));case 1:case"end":return t.stop()}}),t)}))),U.apply(this,arguments)}function B(t){return K.apply(this,arguments)}function K(){return K=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-tag-mark",c["a"].POST,e));case 1:case"end":return t.stop()}}),t)}))),K.apply(this,arguments)}function P(t){return V.apply(this,arguments)}function V(){return V=Object(l["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(c["f"])("strategy/strategy-tag-mark/".concat(a),c["a"].DELETE));case 2:case"end":return t.stop()}}),t)}))),V.apply(this,arguments)}function q(t){return G.apply(this,arguments)}function G(){return G=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-tag-mark",c["a"].PUT,e));case 1:case"end":return t.stop()}}),t)}))),G.apply(this,arguments)}function F(t,e,a){return H.apply(this,arguments)}function H(){return H=Object(l["a"])(regeneratorRuntime.mark((function t(e,a,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-app-marks?offset=".concat((e-1)*a,"&limit=").concat(a).concat(r),c["a"].GET));case 1:case"end":return t.stop()}}),t)}))),H.apply(this,arguments)}function J(t){return W.apply(this,arguments)}function W(){return W=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-app-mark",c["a"].POST,e));case 1:case"end":return t.stop()}}),t)}))),W.apply(this,arguments)}function Q(t){return Y.apply(this,arguments)}function Y(){return Y=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-app-mark/".concat(e),c["a"].GET));case 1:case"end":return t.stop()}}),t)}))),Y.apply(this,arguments)}function X(t){return Z.apply(this,arguments)}function Z(){return Z=Object(l["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(c["f"])("strategy/strategy-app-mark/".concat(a),c["a"].DELETE));case 2:case"end":return t.stop()}}),t)}))),Z.apply(this,arguments)}function tt(t){return et.apply(this,arguments)}function et(){return et=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])("strategy/strategy-app-mark",c["a"].PUT,e));case 1:case"end":return t.stop()}}),t)}))),et.apply(this,arguments)}var at=a("0618"),rt=a("8cff"),nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.form.init.show?a("div",[a("a-modal",{attrs:{closable:!0,title:t.form.init.title,width:t.form.init.width,"mask-closable":!1,footer:"view"===t.form.name||"import"===t.form.name||"batchDelete"===t.form.name?null:void 0},model:{value:t.form.init.show,callback:function(e){t.$set(t.form.init,"show",e)},expression:"form.init.show"}},["delete"===t.form.name?a("div",[t._v(" 确定删除？ ")]):"import"===t.form.name||"batchDelete"===t.form.name?a("div",[a("div",{staticStyle:{height:"50px","line-height":"50px","font-size":"16px",color:"#0ab1c5"}},[a("span",[t._v(t._s(t.form.init.data.msg))])]),a("a-table",{attrs:{pagination:{pageSize:20,size:"small"},rowKey:"number",columns:t.importColumns,"data-source":t.form.init.data.rows}})],1):a("a-form-model",{ref:"form",attrs:{labelAlign:"right",model:t.form.init.data,rules:t.form.init.rules,"label-col":{span:t.form.init.labelSpan||6},"wrapper-col":{span:t.form.init.wrapperSpan||17}}},[void 0!==t.form.init.data.name?a("a-form-model-item",{attrs:{label:"名称",prop:"name"}},[a("a-input",{staticClass:"dialog-input-height",attrs:{disabled:"create"!==t.form.name,placeholder:"请输入名称",maxLength:20},model:{value:t.form.init.data.name,callback:function(e){t.$set(t.form.init.data,"name",e)},expression:"form.init.data.name"}})],1):t._e(),a("a-form-model-item",{attrs:{label:"标记",prop:"strategyMarkId",rules:1==t.form.init.data.markAction?t.select:null}},[a("LazyLoadingSelect",{attrs:{value:t.form.init.data.strategyMarkId,strategyData:t.strategyMarkList,"option-key":"id",disabled:"view"==t.form.name,placeholder:"请选择"},on:{change:t.handleMarkChange}})],1),void 0!==t.form.init.data.categoryCompareType?a("a-form-model-item",{attrs:{label:"类别比对方式",prop:"categoryCompareType"}},[a("a-select",{attrs:{disabled:"view"==t.form.name},model:{value:t.form.init.data.categoryCompareType,callback:function(e){t.$set(t.form.init.data,"categoryCompareType",e)},expression:"form.init.data.categoryCompareType"}},[a("a-select-option",{attrs:{value:2}},[t._v("重合")])],1)],1):t._e(),void 0!==t.form.init.data.markAction?a("a-form-model-item",{attrs:{label:"标记动作",prop:"markAction"}},[a("a-select",{attrs:{disabled:"view"==t.form.name},on:{change:t.markActionChange},model:{value:t.form.init.data.markAction,callback:function(e){t.$set(t.form.init.data,"markAction",e)},expression:"form.init.data.markAction"}},[a("a-select-option",{attrs:{value:""}},[t._v("请选择")]),a("a-select-option",{attrs:{value:3}},[t._v("去标")]),a("a-select-option",{attrs:{value:1}},[t._v("打标")])],1)],1):t._e(),a("a-form-model-item",{attrs:{label:"反向标记",prop:"sessionReverseTransferStrategyMarkId",rules:1==t.form.init.data.reverseMarkAction?t.select:null}},[a("LazyLoadingSelect",{attrs:{value:t.form.init.data.sessionReverseTransferStrategyMarkId,strategyData:t.strategyMarkList_1,"option-key":"id",disabled:"view"==t.form.name,placeholder:"请选择"},on:{change:t.handlesessionReverseTransMarkChange}})],1),void 0!==t.form.init.data.reverseMarkAction?a("a-form-model-item",{attrs:{label:"反向标记动作",prop:"reverseMarkAction"}},[a("a-select",{attrs:{disabled:""},model:{value:t.form.init.data.reverseMarkAction,callback:function(e){t.$set(t.form.init.data,"reverseMarkAction",e)},expression:"form.init.data.reverseMarkAction"}},[a("a-select-option",{attrs:{value:""}},[t._v("请选择")]),a("a-select-option",{attrs:{value:3}},[t._v("去标")]),a("a-select-option",{attrs:{value:1}},[t._v("打标")])],1)],1):t._e()],1),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary",loading:t.form.init.confirmLoading},on:{click:function(e){return t.clickSave()}}},[t._v(t._s("create"===t.form.name||"modify"===t.form.name?"保存":"确定"))]),a("a-button",{on:{click:function(e){return t.clickCancel()}}},[t._v("取消")])],1)],2)],1):t._e()},it=[],ot=a("2909"),st=(a("b0c0"),a("4de4"),a("caad"),a("2532"),a("a00a")),lt=a("d7b0"),ct=(a("905c"),a("19f8")),ut={name:"AreaMarkDialog",components:{LazyLoadingSelect:ct["a"]},mixins:[s["a"]],comments:{},filters:{},props:{},data:function(){return{select:st["a"].select,state:"",params:"",parent:"",systemType:"",NetworkAreaList:[],sourceBusinessGroupList:[],destinationBusinessGroupList:[],strategyMarkList:[],strategyMarkList_1:[],form:{create:{title:"新建",width:550,request:m,show:!0,confirmLoading:!1,data:{id:"",categoryCompareType:2,markAction:3,name:"",sessionReverseCategoryCompareType:0,sessionReverseTransferStrategyMarkId:"",sessionReverseTransferStrategyMarkName:"",strategyMarkId:"",strategyMarkName:"",transferStrategyMarkId:"",transferStrategyMarkName:"",securityRank:1,reverseMarkAction:1},rules:{name:st["a"].name,sourceBusinessGroupId:st["a"].select,destinationBusinessGroupId:st["a"].select,securityRank:st["a"].select,markAction:st["a"].select}},modify:{title:"修改",width:550,request:b,show:!0,confirmLoading:!1,data:{id:"",categoryCompareType:"",markAction:3,name:"",sessionReverseCategoryCompareType:"",sessionReverseStrategyMarkId:"",sessionReverseStrategyMarkName:"",sessionReverseTransferStrategyMarkId:"",sessionReverseTransferStrategyMarkName:"",strategyMarkId:"",strategyMarkName:"",transferStrategyMarkId:"",transferStrategyMarkName:"",securityRank:"",reverseMarkAction:1},rules:{name:st["a"].name,sourceBusinessGroupId:st["a"].select,destinationBusinessGroupId:st["a"].select,securityRank:st["a"].select,markAction:st["a"].select}},view:{title:"查看详情",width:550,request:"",show:!0,data:{id:"",categoryCompareType:"",markAction:"",name:"",sessionReverseCategoryCompareType:"",sessionReverseStrategyMarkId:"",sessionReverseStrategyMarkName:"",sessionReverseTransferStrategyMarkId:"",sessionReverseTransferStrategyMarkName:"",strategyMarkId:"",strategyMarkName:"",transferStrategyMarkId:"",transferStrategyMarkName:"",securityRank:"",reverseMarkAction:""},rules:{}},delete:{title:"删除",width:420,isDelete:!0,request:g,show:!0,confirmLoading:!1,data:{id:""},rules:{}},batchDelete:{title:"批量删除",width:700,show:!0,data:{msg:"",rows:[]},rules:{}},import:{title:"导入",width:700,show:!0,data:{msg:"",rows:[]},rules:{}}}}},created:function(){this.systemType=localStorage.getItem("systemType"),this.showDialog(this.state,this.params),"create"!==this.state&&"modify"!==this.state&&"view"!==this.state||this.updateSelectLists()},methods:{getOKText:function(){var t="确定";switch(this.form.init.name){case"delete":t="确定";break;case"create":t="保存";break}return t},handleMarkChange:function(t){this.form.init.data.strategyMarkId=t},handlesessionReverseTransMarkChange:function(t){this.form.init.data.sessionReverseTransferStrategyMarkId=t},beforeShowDialog:function(){},close:function(){this.form.init.show=!1},update:function(){var t=this;t.parent.update()},updateSelectLists:function(){this.updateNetworkAreas(),this.updateMarks()},markActionChange:function(t){1!==t&&(this.form.init.data.transferStrategyMarkId="",this.form.init.data.transferStrategyMarkName="",this.form.init.data.sessionReverseTransferStrategyMarkId="",this.form.init.data.sessionReverseTransferStrategyMarkName=""),1==t?this.form.init.data.reverseMarkAction=3:3==t&&(this.form.init.data.reverseMarkAction=1)},updateNetworkAreas:function(){var t=this;Object(lt["f"])().then((function(e){t.NetworkAreaList=Object(ot["a"])(e.data)||[]}))},updateMarks:function(){var t=this;Object(lt["e"])().then((function(e){var a=e.data.filter((function(t){var e,a;return!(null!==(e=t.confidentiality)&&void 0!==e&&e.includes("-")||null!==(a=t.integrity)&&void 0!==a&&a.includes("-"))}));t.strategyMarkList_1=Object(ot["a"])(a),t.strategyMarkList=Object(ot["a"])(e.data)}))},handleSourceNetworkAreaChange:function(t,e){var a=e.data;this.form.init.data.sourceNetworkAreaName=a.attrs.text},handleDestinationNetworkAreaChange:function(t,e){var a=e.data;this.form.init.data.destinationNetworkAreaName=a.attrs.text},handleSourceBusinessGroupChange:function(t,e){var a=e.data;this.form.init.data.sourceBusinessGroupName=a.attrs.text},handleDestinationBusinessGroupChange:function(t,e){var a=e.data;this.form.init.data.destinationBusinessGroupName=a.attrs.text},handleStrategyMarkChange:function(t,e){var a=e.data;this.form.init.data.strategyMarkName=a.attrs.text},handleTransferStrategyMarkChange:function(t,e){e.data},handleSessionReverseStrategyMarkChange:function(t,e){e.data},handleSessionReverseTransferStrategyMarkChange:function(t,e){var a=e.data;this.form.init.data.sessionReverseTransferStrategyMarkName=a.attrs.text}}},dt=ut,mt=a("2877"),ft=Object(mt["a"])(dt,nt,it,!1,null,"200dad1e",null),pt=ft.exports,ht=new rt["a"](pt),gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.form.init.show?a("div",[a("a-modal",{attrs:{closable:!0,title:t.form.init.title,width:t.form.init.width,"mask-closable":!1,footer:"view"===t.form.name||"import"===t.form.name||"batchDelete"===t.form.name?null:void 0},model:{value:t.form.init.show,callback:function(e){t.$set(t.form.init,"show",e)},expression:"form.init.show"}},["delete"===t.form.name?a("div",[t._v("确定删除？")]):"import"===t.form.name||"batchDelete"===t.form.name?a("div",[a("div",{staticStyle:{height:"50px","line-height":"50px","font-size":"16px",color:"#0ab1c5"}},[a("span",[t._v(t._s(t.form.init.data.msg))])]),a("a-table",{attrs:{pagination:{pageSize:20,size:"small"},rowKey:"number",columns:t.importColumns,"data-source":t.form.init.data.rows}})],1):a("a-form-model",{ref:"form",attrs:{model:t.form.init.data,rules:t.form.init.rules,"label-col":{span:t.form.init.labelSpan||6},"wrapper-col":{span:t.form.init.wrapperSpan||17}}},[void 0!==t.form.init.data.name?a("a-form-model-item",{attrs:{label:"名称",prop:"name"}},[a("a-input",{staticClass:"dialog-input-height",attrs:{disabled:"create"!==t.form.name,placeholder:"请输入名称",maxLength:20},model:{value:t.form.init.data.name,callback:function(e){t.$set(t.form.init.data,"name",e)},expression:"form.init.data.name"}})],1):t._e(),void 0!==t.form.init.data.markType?a("a-form-model-item",{attrs:{label:"标记类型",prop:"markType"}},[a("a-select",{attrs:{disabled:"view"==t.form.name},on:{change:t.changeType},model:{value:t.form.init.data.markType,callback:function(e){t.$set(t.form.init.data,"markType",e)},expression:"form.init.data.markType"}},[a("a-select-option",{attrs:{value:7}},[t._v("type7")])],1)],1):t._e(),7!==t.form.init.data.markType&&void 0!==t.form.init.data.visitMode?a("a-form-model-item",{attrs:{label:"强访模式",prop:"visitMode"}},[a("a-select",{attrs:{disabled:"view"==t.form.name},model:{value:t.form.init.data.visitMode,callback:function(e){t.$set(t.form.init.data,"visitMode",e)},expression:"form.init.data.visitMode"}},[a("a-select-option",{attrs:{value:1}},[t._v("机密性")])],1)],1):t._e(),1!==t.form.init.data.visitMode&&7!==t.form.init.data.markType||void 0===t.form.init.data.confidentiality?t._e():a("a-form-model-item",{attrs:{label:"机密性密级",prop:"confidentiality",rules:1==t.form.init.data.markType?t.ci:t.ci4}},[a("a-input",{staticStyle:{width:"100%"},attrs:{disabled:"view"==t.form.name,placeholder:"请输入机密性密级",maxLength:28},model:{value:t.form.init.data.confidentiality,callback:function(e){t.$set(t.form.init.data,"confidentiality",e)},expression:"form.init.data.confidentiality"}})],1),2!==t.form.init.data.visitMode&&7!==t.form.init.data.markType||void 0===t.form.init.data.integrity?t._e():a("a-form-model-item",{attrs:{label:"完整性密级",prop:"integrity",rules:t.ci4}},[a("a-input",{staticStyle:{width:"100%"},attrs:{disabled:"view"==t.form.name,placeholder:"请输入完整性密级",maxLength:28},model:{value:t.form.init.data.integrity,callback:function(e){t.$set(t.form.init.data,"integrity",e)},expression:"form.init.data.integrity"}})],1),void 0!==t.form.init.data.category?a("a-form-model-item",{attrs:{label:"类别列表",prop:"category"}},[a("a-input",{attrs:{disabled:"view"==t.form.name,placeholder:"多个类别请使用英文分号 , 隔开"},model:{value:t.form.init.data.category,callback:function(e){t.$set(t.form.init.data,"category",e)},expression:"form.init.data.category"}})],1):t._e(),void 0!==t.form.init.data.doi?a("a-form-model-item",{attrs:{label:"DOI",prop:"doi"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{maxLength:10,disabled:"view"==t.form.name,precision:0},model:{value:t.form.init.data.doi,callback:function(e){t.$set(t.form.init.data,"doi",e)},expression:"form.init.data.doi"}})],1):t._e()],1),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary",loading:t.form.init.confirmLoading},on:{click:function(e){return t.clickSave()}}},[t._v(t._s("create"===t.form.name||"modify"===t.form.name?"保存":"确定"))]),a("a-button",{on:{click:function(e){return t.clickCancel()}}},[t._v("取消")])],1)],2)],1):t._e()},yt=[],vt=a("b85c"),kt=(a("ac1f"),a("1276"),a("6062"),a("3ca3"),a("ddb0"),a("00b4"),{name:"MarkDialog",components:{},mixins:[s["a"]],comments:{},filters:{},props:{},data:function(){var t=this;function e(e,a,r){var n=!1;if(a){var i=a.split(",");if(4!==i.length)n=!0;else{var o,s=new Set,l=Object(vt["a"])(i);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(!/^0x[0-9a-fA-F]{1,16}$/.test(c)){n=!0;break}s.add(c)}}catch(m){l.e(m)}finally{l.f()}if(1==s.size&&s.has("0x0")&&(n=!0),!n){var u=+i[3],d=1===t.form.init.data.markType?0x4000000000000000:0xffffffffff;u>d&&(n=!0)}}}else n=!0;n?r(!0):r()}var a=[].concat(Object(ot["a"])(st["a"].input),[{message:"请输入正确的类别格式，范围为(0x0,0x0,0x0,0x0—0xffffffffffffffff,0xffffffffffffffff,0xffffffffffffffff,0xffffffffff),不能全为0x0",trigger:"blur",validator:e}]);return{state:"",params:"",parent:"",snList:[],networkAreaList:[],ci:st["a"].ci,ci4:st["a"].ci4,form:{create:{title:"新建",width:450,request:T,show:!0,confirmLoading:!1,data:{id:"",name:"",markType:7,visitMode:1,integrity:null,confidentiality:null,category:"",doi:12},rules:{name:st["a"].name,category:a,doi:st["a"].format8}},modify:{title:"修改",width:450,request:E,show:!0,confirmLoading:!1,data:{id:"",name:"",markType:7,visitMode:1,integrity:null,confidentiality:null,category:"",doi:12},rules:{name:st["a"].name,category:a,doi:st["a"].format8}},view:{title:"查看详情",width:450,request:"",show:!0,data:{id:"",name:"",markType:7,visitMode:1,integrity:null,confidentiality:null,category:"",doi:12},rules:{}},delete:{title:"删除",width:420,isDelete:!0,request:C,show:!0,confirmLoading:!1,data:{id:""},rules:{}},batchDelete:{title:"批量删除",width:700,show:!0,data:{msg:"",rows:[]},rules:{}},import:{title:"导入",width:700,show:!0,data:{msg:"",rows:[]},rules:{}}}}},created:function(){this.showDialog(this.state,this.params)},methods:{getOKText:function(){var t="确定";switch(this.form.init.name){case"delete":t="确定";break;case"create":t="保存";break}return t},changeType:function(){this.$refs["form"].clearValidate(),this.form.init.data.confidentiality="",this.form.init.data.integrity=""},beforeShowDialog:function(){},beforeSave:function(t){if("modify"===this.form.name||"create"===this.form.name){var e="";if(7==t.markType)if(void 0!=t.integrity&&""!=t.integrity||void 0!=t.confidentiality&&""!=t.confidentiality){if(void 0!=t.integrity&&""!=t.integrity){var a=this.testCi(t.integrity);0==a&&(this.$message.error("完整性密级输入有误"),e=!0)}if(void 0!=t.confidentiality&&""!=t.confidentiality){var r=this.testCi(t.confidentiality);0==r&&(this.$message.error("机密性密级输入有误"),e=!0)}}else this.$message.error("标记类型为type7时，机密性密级和完整性密级至少填一个"),e=!0;return e}},testCi:function(t){var e=!1,a=function(t){return/^\d{1,3}$/.test(t)||(e=!0),e||(t=+t,(t<1||t>255)&&(e=!0)),e};if(t)if(t.includes("-")){var r=t.split("-");if(2!==r.length&&(e=!0),!e)if(r[0]=Number.parseInt(r[0]),r[1]=Number.parseInt(r[1]),r[0]<=r[1]){var n,i=Object(vt["a"])(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(e=a(o),e)break}}catch(s){i.e(s)}finally{i.f()}}else e=!0}else e=a(t);return!e},close:function(){this.form.init.show=!1},update:function(){var t=this;t.parent.update()}}}),bt=kt,wt=Object(mt["a"])(bt,gt,yt,!1,null,"e175e042",null),xt=wt.exports,St=new rt["a"](xt),Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.form.init.show?a("div",[a("a-modal",{attrs:{closable:!0,title:t.form.init.title,width:t.form.init.width,"mask-closable":!1,footer:"view"===t.form.name||"import"===t.form.name?null:void 0},model:{value:t.form.init.show,callback:function(e){t.$set(t.form.init,"show",e)},expression:"form.init.show"}},["delete"===t.form.name?a("div",[t._v("确定删除？")]):"import"===t.form.name?a("div",[a("div",{staticStyle:{height:"50px","line-height":"50px","font-size":"16px",color:"#0ab1c5"}},[a("span",[t._v(t._s(t.form.init.data.msg))])]),a("a-table",{attrs:{pagination:{pageSize:20,size:"small"},rowKey:"number",columns:t.importColumns,"data-source":t.form.init.data.rows}})],1):a("a-form-model",{ref:"form",attrs:{model:t.form.init.data,rules:t.form.init.rules,"label-col":{span:t.form.init.labelSpan||8},"wrapper-col":{span:t.form.init.wrapperSpan||16}}},[void 0!==t.form.init.data.name?a("a-form-model-item",{attrs:{label:"策略名称",prop:"name"}},[a("a-input",{staticClass:"dialog-input-height",attrs:{disabled:"create"!==t.form.name,placeholder:"请输入名称",maxLength:20},model:{value:t.form.init.data.name,callback:function(e){t.$set(t.form.init.data,"name",e)},expression:"form.init.data.name"}})],1):t._e(),void 0!==t.form.init.data.unTagDenyEnable?a("a-form-model-item",{attrs:{label:"无标记阻断开关",prop:"unTagDenyEnable"}},[a("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关"},model:{value:t.form.init.data.unTagDenyEnable,callback:function(e){t.$set(t.form.init.data,"unTagDenyEnable",e)},expression:"form.init.data.unTagDenyEnable"}})],1):t._e(),void 0!==t.form.init.data.allowMarksList?a("a-form-model-item",{attrs:{label:"放行标记对象",prop:"allowMarksList"}},[a("a-select",{attrs:{placeholder:"请选择","filter-option":t.filterOption,mode:"multiple",maxTagCount:1},on:{search:function(e){return t.multipleSearch(e)},change:t.choseAllow,dropdownVisibleChange:t.dropdownVisibleChange,blur:function(){return t.handleOnBlur()}},scopedSlots:t._u([{key:"dropdownRender",fn:function(e){return a("div",{},[a("v-nodes",{attrs:{vnodes:e}}),a("a-divider",{staticStyle:{margin:"4px 0"}}),a("div",{staticStyle:{padding:"0 17px",float:"right",display:"inline-block"}},[a("a",{staticClass:"ant-calendar-time-picker-btn",staticStyle:{display:"inline-block",padding:"5px 8px 6px",height:"36px"},on:{click:function(e){return t.selectAll(1)}}},[t._v("全选")]),a("a",{staticClass:"margin5 ant-calendar-time-picker-btn",staticStyle:{"margin-left":"10px",display:"inline-block",padding:"5px 8px 6px",height:"36px"},on:{click:function(e){return t.deselectAll(1)}}},[t._v("清空")])])],1)}}],null,!1,4173774912),model:{value:t.form.init.data.allowMarksList,callback:function(e){t.$set(t.form.init.data,"allowMarksList",e)},expression:"form.init.data.allowMarksList"}},t._l(t.markTagList_1,(function(e){return a("a-select-option",{key:e.id,attrs:{text:e.name,disabled:t.canUse1(e.id)}},[t._v(t._s(e.name))])})),1)],1):t._e(),void 0!==t.form.init.data.denyMarksList?a("a-form-model-item",{attrs:{label:"阻断标记对象",prop:"denyMarksList"}},[a("a-select",{attrs:{placeholder:"请选择","filter-option":t.filterOption,mode:"multiple",maxTagCount:1},on:{change:t.choseDeny,search:function(e){return t.multipleSearch(e)},dropdownVisibleChange:t.dropdownVisibleChange,blur:function(){return t.handleOnBlur()}},scopedSlots:t._u([{key:"dropdownRender",fn:function(e){return a("div",{},[a("v-nodes",{attrs:{vnodes:e}}),a("a-divider",{staticStyle:{margin:"4px 0"}}),a("div",{staticStyle:{padding:"0 17px",float:"right",display:"inline-block"}},[a("a",{staticClass:"ant-calendar-time-picker-btn",staticStyle:{display:"inline-block",padding:"5px 8px 6px",height:"36px"},on:{click:function(e){return t.selectAll(2)}}},[t._v("全选")]),a("a",{staticClass:"margin5 ant-calendar-time-picker-btn",staticStyle:{"margin-left":"10px",display:"inline-block",padding:"5px 8px 6px",height:"36px"},on:{click:function(e){return t.deselectAll(2)}}},[t._v("清空")])])],1)}}],null,!1,2877187488),model:{value:t.form.init.data.denyMarksList,callback:function(e){t.$set(t.form.init.data,"denyMarksList",e)},expression:"form.init.data.denyMarksList"}},t._l(t.markTagList_1,(function(e){return a("a-select-option",{key:e.id,attrs:{text:e.name,disabled:t.canUse2(e.id)}},[t._v(t._s(e.name))])})),1)],1):t._e(),void 0!==t.form.init.data.unTagEnable?a("a-form-model-item",{attrs:{label:"去标记开关",prop:"unTagEnable"}},[a("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关"},model:{value:t.form.init.data.unTagEnable,callback:function(e){t.$set(t.form.init.data,"unTagEnable",e)},expression:"form.init.data.unTagEnable"}})],1):t._e(),void 0!==t.form.init.data.tagEnable?a("a-form-model-item",{attrs:{label:"标记动作",prop:"tagEnable"}},[a("a-select",{attrs:{placeholder:"请选择"},on:{change:t.choseTag},model:{value:t.form.init.data.tagEnable,callback:function(e){t.$set(t.form.init.data,"tagEnable",e)},expression:"form.init.data.tagEnable"}},[a("a-select-option",{attrs:{value:1}},[t._v("打标")]),a("a-select-option",{attrs:{value:0}},[t._v("透传")])],1)],1):t._e(),a("a-form-model-item",{attrs:{label:""}},[a("h4",{staticStyle:{"font-weight":"bold","font-size":"15px"}},[t._v("转换后标记")])]),void 0!==t.form.init.data.markType?a("a-form-model-item",{attrs:{label:"标记类型",prop:"markType"}},[a("a-input",{attrs:{disabled:1!=t.form.init.data.tagEnable,placeholder:"数字，范围：0-4294967295",maxLength:10},model:{value:t.form.init.data.markType,callback:function(e){t.$set(t.form.init.data,"markType",e)},expression:"form.init.data.markType"}})],1):t._e(),void 0!==t.form.init.data.markLevel?a("a-form-model-item",{attrs:{label:"标记级别",prop:"markLevel"}},[a("a-input",{attrs:{disabled:1!=t.form.init.data.tagEnable,placeholder:"数字，范围：0-4294967295",maxLength:10},model:{value:t.form.init.data.markLevel,callback:function(e){t.$set(t.form.init.data,"markLevel",e)},expression:"form.init.data.markLevel"}})],1):t._e(),void 0!==t.form.init.data.info?a("a-form-model-item",{attrs:{label:"应用层信息",prop:"info"}},[a("a-input",{attrs:{maxLength:8,placeholder:"请输入字符串，长度范围0-8",disabled:1!=t.form.init.data.tagEnable},model:{value:t.form.init.data.info,callback:function(e){t.$set(t.form.init.data,"info",e)},expression:"form.init.data.info"}})],1):t._e(),void 0!==t.form.init.data.udpThreshold?a("a-form-model-item",{attrs:{label:"UDP阈值",prop:"udpThreshold"}},[a("a-input",{attrs:{maxLength:5,placeholder:"数字，范围：1-60000",disabled:1!=t.form.init.data.tagEnable},model:{value:t.form.init.data.udpThreshold,callback:function(e){t.$set(t.form.init.data,"udpThreshold",e)},expression:"form.init.data.udpThreshold"}})],1):t._e()],1),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary",loading:t.form.init.confirmLoading},on:{click:function(e){return t.clickSave()}}},[t._v(t._s("create"===t.form.name||"modify"===t.form.name?"保存":"确定"))]),a("a-button",{on:{click:function(e){return t.clickCancel()}}},[t._v("取消")])],1)],2)],1):t._e()},_t=[],Mt=(a("a434"),a("fb6a"),a("d81d"),a("a15b"),{name:"applicationMarkDialog",components:{VNodes:{functional:!0,render:function(t,e){return e.props.vnodes}}},mixins:[s["a"]],comments:{},filters:{},props:{},data:function(){return{selectedIntfaceName1:null,selectedIntfaceName2:null,markTagList:[],markTagList_1:[],form:{create:{title:"新建",width:450,request:J,show:!0,confirmLoading:!1,data:{id:"",name:"",unTagEnable:!1,tagEnable:0,markType:"",unTagDenyEnable:!1,markLevel:"",info:"",allowMarks:"",allowMarksList:[],denyMarks:"",denyMarksList:[],securityRank:1,udpThreshold:""},rules:{name:st["a"].name,securityRank:st["a"].select,udpThreshold:st["a"].format20,markType:st["a"].format19,markLevel:st["a"].format19}},modify:{title:"修改",width:450,request:tt,show:!0,confirmLoading:!1,data:{id:"",name:"",unTagEnable:!1,tagEnable:0,markType:"",unTagDenyEnable:!1,markLevel:"",info:"",allowMarks:"",allowMarksList:[],denyMarks:"",denyMarksList:[],securityRank:1,udpThreshold:""},rules:{name:st["a"].name,securityRank:st["a"].select,udpThreshold:st["a"].format20,markType:st["a"].format19,markLevel:st["a"].format19}},view:{title:"查看详情",width:450,request:"",show:!0,data:{id:"",name:"",unTagEnable:!1,tagEnable:0,markType:"",unTagDenyEnable:!1,markLevel:"",info:"",allowMarks:"",allowMarksList:[],denyMarks:"",denyMarksList:[],securityRank:1,udpThreshold:""},rules:{}},delete:{title:"删除",width:420,isDelete:!0,request:X,show:!0,confirmLoading:!1,data:{id:""},rules:{}},import:{title:"导入",width:700,show:!0,data:{msg:"",rows:[]},rules:{}}}}},created:function(){this.showDialog(this.state,this.params)},methods:{getOKText:function(){var t="确定";switch(this.form.init.name){case"delete":t="确定";break;case"create":t="保存";break}return t},choseAllow:function(t){var e=this;this.form.init.data.allowMarksList=t,this.form.init.data.allowMarksList.length>64&&(this.$message.error("标记对象最多选择64个"),this.form.init.data.allowMarksList=this.form.init.data.allowMarksList.splice(0,64)),this.selectedIntfaceName2=new Set,this.markTagList.forEach((function(a){t.forEach((function(t){a.id==t&&e.selectedIntfaceName2.add(a.id)}))}))},choseDeny:function(t){var e=this;this.form.init.data.denyMarksList=t,this.form.init.data.denyMarksList.length>64&&(this.$message.error("标记对象最多选择64个"),this.form.init.data.denyMarksList=this.form.init.data.denyMarksList.splice(0,64)),this.selectedIntfaceName1=new Set,this.markTagList.forEach((function(a){t.forEach((function(t){a.id==t&&e.selectedIntfaceName1.add(a.id)}))}))},canUse1:function(t){return this.selectedIntfaceName1.has(t)},canUse2:function(t){return this.selectedIntfaceName2.has(t)},choseTag:function(t){this.$refs["form"].clearValidate(),this.form.init.data.markType="",this.form.init.data.markLevel="",this.form.init.data.info="",this.form.init.data.udpThreshold="",1==t&&(this.form.init.data.udpThreshold=1024)},multipleSearch:function(t,e){this.valueSearch=t;var a=this;this.timer||(this.timer=setTimeout((function(){a.searchValue1(t,e),a.timer=null}),300))},searchValue1:function(t){var e=this.markTagList,a=[];e.forEach((function(e){e.name.indexOf(t)>-1&&a.push(e)})),this.markTagList_1=a.slice(0,100),this.$forceUpdate()},dropdownVisibleChange:function(){this.searchValue=""},selectAll:function(t){var e,a=this,r=[];if(1==t)this.form.init.data.allowMarksList=[],a.markTagList_1.forEach((function(t){a.selectedIntfaceName1.has(t.id)||r.push(t.id)})),r.length>64&&(r=r.slice(0,64),a.$message.warning("最多选64个")),r.forEach((function(t){a.selectedIntfaceName2.add(t)})),(e=a.form.init.data.allowMarksList).push.apply(e,Object(ot["a"])(r));else if(2==t){var n;a.form.init.data.denyMarksList=[],a.markTagList_1.forEach((function(t){a.selectedIntfaceName2.has(t.id)||r.push(t.id)})),r.length>64&&(r=r.slice(0,64),a.$message.warning("最多选64个")),r.forEach((function(t){a.selectedIntfaceName1.add(t)})),(n=a.form.init.data.denyMarksList).push.apply(n,Object(ot["a"])(r))}a.valueSearch=""},deselectAll:function(t){1==t?(this.form.init.data.allowMarksList=[],this.selectedIntfaceName2=new Set):2==t&&(this.form.init.data.denyMarksList=[],this.selectedIntfaceName1=new Set),this.valueSearch=""},handleOnBlur:function(){this.markTagList_1=this.markTagList.slice(0,100),this.$forceUpdate()},beforeShowDialog:function(t,e){var a=this;"delete"!=this.state&&(this.selectedIntfaceName1=new Set,this.selectedIntfaceName2=new Set,z().then((function(t){a.markTagList=t.data,a.markTagList_1=t.data.slice(0,100)})),"view"!=t&&"modify"!=t||(""==e.data.allowMarks?this.form.init.data.allowMarksList=[]:this.form.init.data.allowMarksList=e.data.allowMarks.split(",").map((function(t){return a.selectedIntfaceName2.add(Number.parseInt(t)),Number.parseInt(t)})),""==e.data.denyMarks?this.form.init.data.denyMarksList=[]:this.form.init.data.denyMarksList=e.data.denyMarks.split(",").map((function(t){return a.selectedIntfaceName1.add(Number.parseInt(t)),Number.parseInt(t)}))))},beforeSave:function(t){"delete"!=this.state&&(t.allowMarksList.length>0?t.allowMarks=t.allowMarksList.join(","):t.allowMarks="",t.denyMarksList.length>0?t.denyMarks=t.denyMarksList.join(","):t.denyMarks="")},close:function(){this.form.init.show=!1},update:function(){var t=this;t.parent.update()}}}),Lt=Mt,Rt=Object(mt["a"])(Lt,Tt,_t,!1,null,"e587dc36",null),Ot=Rt.exports,Ct=new rt["a"](Ot),Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.form.init.show?a("div",[a("a-modal",{attrs:{closable:!0,title:t.form.init.title,width:t.form.init.width,"mask-closable":!1,footer:"view"===t.form.name||"import"===t.form.name?null:void 0},model:{value:t.form.init.show,callback:function(e){t.$set(t.form.init,"show",e)},expression:"form.init.show"}},["delete"===t.form.name?a("div",[t._v("确定删除？")]):"import"===t.form.name?a("div",[a("div",{staticStyle:{height:"50px","line-height":"50px","font-size":"16px",color:"#0ab1c5"}},[a("span",[t._v(t._s(t.form.init.data.msg))])]),a("a-table",{attrs:{pagination:{pageSize:20,size:"small"},rowKey:"number",columns:t.importColumns,"data-source":t.form.init.data.rows}})],1):a("a-form-model",{ref:"form",attrs:{model:t.form.init.data,rules:t.form.init.rules,"label-col":{span:t.form.init.labelSpan||8},"wrapper-col":{span:t.form.init.wrapperSpan||16}}},[void 0!==t.form.init.data.name?a("a-form-model-item",{attrs:{label:"名称",prop:"name"}},[a("a-input",{staticClass:"dialog-input-height",attrs:{disabled:"create"!==t.form.name,placeholder:"请输入名称",maxLength:20},model:{value:t.form.init.data.name,callback:function(e){t.$set(t.form.init.data,"name",e)},expression:"form.init.data.name"}})],1):t._e(),void 0!==t.form.init.data.markType?a("a-form-model-item",{attrs:{label:"标记类型",prop:"markType"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"数字，范围：0-4294967295",maxLength:10},model:{value:t.form.init.data.markType,callback:function(e){t.$set(t.form.init.data,"markType",e)},expression:"form.init.data.markType"}})],1):t._e(),void 0!==t.form.init.data.markLevel?a("a-form-model-item",{attrs:{label:"标记级别",prop:"markLevel"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"数字，范围：0-4294967295",maxLength:10},model:{value:t.form.init.data.markLevel,callback:function(e){t.$set(t.form.init.data,"markLevel",e)},expression:"form.init.data.markLevel"}})],1):t._e()],1),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary",loading:t.form.init.confirmLoading},on:{click:function(e){return t.clickSave()}}},[t._v(t._s("create"===t.form.name||"modify"===t.form.name?"保存":"确定"))]),a("a-button",{on:{click:function(e){return t.clickCancel()}}},[t._v("取消")])],1)],2)],1):t._e()},Et=[],It={name:"markObjDialog",components:{},mixins:[s["a"]],comments:{},filters:{},props:{},data:function(){return{form:{create:{title:"新建",width:450,request:B,show:!0,confirmLoading:!1,data:{id:"",name:"",markLevel:"",markType:""},rules:{name:st["a"].name,markLevel:st["a"].format21,markType:st["a"].format21}},modify:{title:"修改",width:450,request:q,show:!0,confirmLoading:!1,data:{id:"",name:"",markLevel:"",markType:""},rules:{name:st["a"].name,markLevel:st["a"].format21,markType:st["a"].format21}},view:{title:"查看详情",width:450,request:"",show:!0,data:{id:"",name:"",markLevel:"",markType:""},rules:{}},delete:{title:"删除",width:420,isDelete:!0,request:P,show:!0,confirmLoading:!1,data:{id:""},rules:{}},import:{title:"导入",width:700,show:!0,data:{msg:"",rows:[]},rules:{}}}}},created:function(){this.showDialog(this.state,this.params)},methods:{getOKText:function(){var t="确定";switch(this.form.init.name){case"delete":t="确定";break;case"create":t="保存";break}return t},beforeShowDialog:function(){},beforeSave:function(){},close:function(){this.form.init.show=!1},update:function(){var t=this;t.parent.update()}}},jt=It,$t=Object(mt["a"])(jt,Dt,Et,!1,null,"b17b8034",null),Nt=$t.exports,At=new rt["a"](Nt),zt=a("d9f9"),Ut=[{title:"策略名称",dataIndex:"name"},{title:"标记",dataIndex:"strategyMarkName"},{title:"类别比对方式",ellipsis:!0,scopedSlots:{customRender:"categoryCompareType"}},{title:"标记动作",ellipsis:!0,scopedSlots:{customRender:"markAction"}},{title:"反向标记",dataIndex:"sessionReverseTransferStrategyMarkName"},{title:"操作",scopedSlots:{customRender:"operations"}}],Bt=[{title:"标记名称",dataIndex:"name"},{title:"标记类型",ellipsis:!0,scopedSlots:{customRender:"markType"}},{title:"类别列表",ellipsis:!0,scopedSlots:{customRender:"category"}},{title:"DOI",ellipsis:!0,scopedSlots:{customRender:"doi"}},{title:"操作",scopedSlots:{customRender:"operations"}}],Kt=[{title:"策略名称",dataIndex:"name"},{title:"无标记阻断开关",ellipsis:!0,scopedSlots:{customRender:"unTagDenyEnable"}},{title:"去标记开关",ellipsis:!0,scopedSlots:{customRender:"unTagEnable"}},{title:"标记动作",ellipsis:!0,scopedSlots:{customRender:"tagEnable"}},{title:"操作",scopedSlots:{customRender:"operations"}}],Pt=[{title:"标记名称",dataIndex:"name"},{title:"标记级别",ellipsis:!0,scopedSlots:{customRender:"markLevel"}},{title:"标记类型",ellipsis:!0,scopedSlots:{customRender:"markType"}},{title:"操作",scopedSlots:{customRender:"operations"}}],Vt={1:{columns:Ut,list:u,dialog:ht,downloadUrl:"strategy/area-mark.xlsx",importUrl:"strategy/strategy-area-mark/import-data",exportUrl:"strategy/strategy-area-mark/export-data",getRecord:p,batchDeleteUrl:v},2:{columns:Bt,list:x,dialog:St,downloadUrl:"strategy/mark.xlsx",importUrl:"strategy/strategy-mark/import-data",exportUrl:"strategy/strategy-mark/export-data",getRecord:M,batchDeleteUrl:R},3:{columns:Kt,list:F,dialog:Ct,downloadUrl:"strategy/strategy-app-mark.xlsx",importUrl:"strategy/strategy-app-mark/import-data",exportUrl:"strategy/strategy-app-mark/export-data",getRecord:Q},4:{columns:Pt,list:j,dialog:At,downloadUrl:"strategy/strategy-tag-mark.xlsx",importUrl:"strategy/strategy-tag-mark/import-data",exportUrl:"strategy/strategy-tag-mark/export-data",getRecord:N}},qt="ssm:m",Gt={name:"SecurityMark",mixins:[s["a"]],components:{BFixedTable:at["a"]},filters:{convertSecurityRank:zt["x"],convertMarkAction:zt["s"],convertMarkType:zt["t"],convertVisitMode:zt["F"]},props:{},data:function(){return{readOnly:!1,permissionDeviceMenu:[],menuLists:[{id:1,value:1,menuName:"域间标记策略"},{id:2,value:2,menuName:"标记"},{id:3,value:3,menuName:"应用安全标记策略"},{id:4,value:4,menuName:"标记对象"}],menu:"",dialog:"",columns:"",tableList:"",loading:!1,spinning:!1,table:{data:[],total:0}}},created:function(){var t=this,e=JSON.parse(localStorage.getItem("security-mark"));e.forEach((function(e){var a="";a=Number.parseInt(e.index),t.permissionDeviceMenu.push(a)})),this.menu=+sessionStorage.getItem(qt)||Number.parseInt(this.permissionDeviceMenu[0]),this.switchMenu(this.menu)},watch:{$route:function(t,e){var a=this;e.path!==t.path&&this.$nextTick((function(){a.dialog&&a.dialog.close()}))},menu:function(t){var e=this,a=JSON.parse(localStorage.getItem("security-mark"));a.forEach((function(a){Number.parseInt(a.index)==t&&(e.readOnly=JSON.parse(a.readonly))}))}},computed:Object(i["a"])({},Object(o["b"])("account",["user"])),mounted:function(){},methods:{handleImportChange:function(t){this.spinning=!0,"done"==t.file.status&&t.file.response.state&&("SUCCESS"==t.file.response.state&&(t.file.response.data.rows.length>0?(this.spinning=!1,this.dialog.open({state:"import",params:t.file.response.data,parent:this}),this.clickSearch()):(this.$message.success(t.file.response.data.msg),this.spinning=!1,this.clickSearch())),"FAIL"==t.file.response.state&&(this.$message.error(t.file.response.msg),this.spinning=!1,this.clickSearch()))},securityMarkCreate:function(){this.dialog.open({state:"create",parent:this})},securityMarkModify:function(t){var e=this;e.$confirm({content:"如当前策略已与已下发的业务关联，保存后将自动下发，确定修改？",okText:"确认",cancelText:"取消",onOk:function(){e.getRecord?e.getRecord(t.id).then((function(t){var a=t.data;e.dialog.open({state:"modify",parent:e,params:a})})):e.dialog.open({state:"modify",parent:e,params:t})},onCancel:function(){}})},securityMarkView:function(t){this.dialog.open({state:"view",parent:this,params:t})},securityMarkDelete:function(t){this.dialog.open({state:"delete",parent:this,params:{id:t}})},handleMenuChange:function(t){this.switchMenu(t.target.value)},switchMenu:function(t){this.menu=t;var e=Vt[this.menu];this.columns=e.columns,this.tableList=e.list,this.dialog=e.dialog,this.downloadUrl=e.downloadUrl,this.importUrl=e.importUrl,this.exportUrl=e.exportUrl,this.getRecord=e.getRecord,1!=t&&2!=t||(this.batchDeleteUrl=e.batchDeleteUrl,this.operations={selectedRowKeys:[],page:1,selectedRows:[],state:!1,loading:!1}),this.table.data=[],this.table.total=0,sessionStorage.setItem(qt,this.menu),this.tableList&&this.update(1)},update:function(t,e){var a=this;1!=a.menu&&2!=a.menu||(a.operations={selectedRowKeys:[],page:1,selectedRows:[],state:!0,loading:!1}),this.page=t||this.page,this.pageSize=e||this.pageSize,this.loading=!0,this.tableList(this.page,this.pageSize,this.searchParams).then((function(t){var e=t.data;e&&(a.table.total=null==e.total?0:e.total,a.table.data=e.rows,a.loading=!1)})).catch((function(){a.loading=!1}))},batchDelete:function(){var t=this;if(1==t.menu||2==t.menu){var e="".concat(t.operations.selectedRowKeys)||"";if(!e)return t.$message.warn("请选择需要批量删除的项！");t.$confirm({content:"确认批量删除吗？",okText:"确认",cancelText:"取消",onOk:function(){t.batchDeleteUrl({ids:e}).then((function(e){var a=e.data,r=e.state,n=e.msg;"SUCCESS"==r?(a.rows.length>0?t.dialog.open({state:"batchDelete",params:a,parent:t}):t.$message.success("批量删除成功！"),t.update(1)):t.$message.error(n)}))},onCancel:function(){}})}}},destroyed:function(){sessionStorage.removeItem(qt)},beforeDestroy:function(){this.dialog&&this.dialog.close()}},Ft=Gt,Ht=(a("23c8"),Object(mt["a"])(Ft,r,n,!1,null,"13bfe8db",null));e["default"]=Ht.exports}}]);