(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53a712d2"],{"06ac":function(t,e,a){},"0ecd":function(t,e,a){},"10d2":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"device-channel-selector"},[a("a-cascader",{staticStyle:{width:"100%"},attrs:{options:t.processedOptions,placeholder:"请选择设备与通道","field-names":{label:"name",value:"id",children:"children"},disabled:t.disabled,allowClear:!1},on:{change:t.handleChange},model:{value:t.selectedValue,callback:function(e){t.selectedValue=e},expression:"selectedValue"}})],1)},i=[],r=a("3835"),o=a("b85c"),s=a("2909"),c=a("5530"),l=(a("25eb"),a("a9e3"),a("d81d"),a("99af"),a("b0c0"),a("d7b0")),d={name:"DeviceChannelSelector",props:{showAllChannels:{type:Boolean,default:!1},clearOnInit:{type:Boolean,default:!1},flag:{type:Boolean,default:!1},activeKeyFlag:{type:String,default:""}},data:function(){var t=localStorage.getItem("dmsType"),e=3;return"1"!==t&&"2"!==t||(e=Number.parseInt(t,10)),{selectedValue:[],dmsType:e,disabled:!1,loading:!1,options:[]}},created:function(){var t=this;this.loading=!0,Object(l["d"])(this.activeKeyFlag).then((function(e){var a=e.data;t.options=a||[],t.loading=!1})).catch((function(){t.options=[],t.loading=!1}))},computed:{processedOptions:function(){return this.showAllChannels&&0!==this.options.length?this.options.map((function(t){var e={id:"",name:"全部通道"};return Object(c["a"])(Object(c["a"])({},t),{},{children:t.children?[e].concat(Object(s["a"])(t.children)):[]})})):this.options}},watch:{options:{immediate:!0,handler:function(t){t&&t.length>0?this.setDefaultSelection():this.selectedValue=[]}},dmsType:function(){this.setDefaultSelection()}},methods:{findNodeById:function(t,e){var a,n=Object(o["a"])(t);try{for(n.s();!(a=n.n()).done;){var i=a.value;if(i.id===e)return i;if(i.children&&i.children.length>0){var r=this.findNodeById(i.children,e);if(r)return r}}}catch(s){n.e(s)}finally{n.f()}return null},getChannelInfoByValue:function(t){if(!t||t.length<2)return null;var e=Object(r["a"])(t,2),a=e[0],n=e[1],i=this.findNodeById(this.options,a);if(!i||!i.children)return null;var o=this.findNodeById(i.children,n);return o?{sn:o.sn||"",channelName:o.name||"",channelType:o.channelType||"",deviceNodeName:o.deviceNodeName||"",deviceType:o.deviceType||"",deviceId:a,channelInfoId:n}:null},setDefaultSelection:function(){var t=this;this.loading=!0,this.$nextTick((function(){if(t.clearOnInit)return t.selectedValue=[],void(t.loading=!1);if(0===t.processedOptions.length)return t.selectedValue=[],void(t.loading=!1);var e=t.processedOptions[0];switch(t.dmsType){case 1:t.disabled=!0,e.children&&e.children.length>0&&(t.selectedValue=[e.id,e.children[0].id]);break;case 2:e.children&&e.children.length>0&&(t.selectedValue=[e.id,e.children[0].id]);break;case 3:e.children&&e.children.length>0&&(t.selectedValue=[e.id,e.children[0].id]);break;default:t.selectedValue=[]}if(t.loading=!1,t.selectedValue.length>0){var a=t.getChannelInfoByValue(t.selectedValue);t.$emit("change",t.selectedValue,a)}}))},resetSelection:function(){this.selectedValue=[],this.setDefaultSelection()},clearSelection:function(){this.selectedValue=[]},handleChange:function(t){this.selectedValue=t;var e=this.getChannelInfoByValue(t);this.$emit("change",t,e)},getSelectedValue:function(){return this.selectedValue},getSelectedChannelInfo:function(){return this.getChannelInfoByValue(this.selectedValue)}}},u=d,p=(a("296d"),a("2877")),f=Object(p["a"])(u,n,i,!1,null,"5ab0cc82",null);e["a"]=f.exports},"1c9b":function(t,e,a){"use strict";a("6026")},"1d49":function(t,e,a){"use strict";a("458e")},"25d0":function(t,e,a){"use strict";a("a8cb")},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var n=a("6b75");function i(t){if(Array.isArray(t))return Object(n["a"])(t)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function r(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var o=a("06c5");a("d9e2");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return i(t)||r(t)||Object(o["a"])(t)||s()}},"296d":function(t,e,a){"use strict";a("e9bd")},3319:function(t,e,a){"use strict";a("4901")},"39af":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page-menu"},[a("a-radio-group",{attrs:{value:t.menu},on:{change:t.handleMenuChange}},[t._l(t.menuLists,(function(e,n){return[t.permissionDeviceMenu.includes(e.value)?a("a-radio-button",{key:n,attrs:{value:e.value}},[t._v(t._s(e.menuName))]):t._e()]}))],2)],1),"1"==t.menu?a("BdeviceBasic",{key:"deviceBasic"}):"2"==t.menu?a("BdeviceInterface",{key:"deviceInterface"}):"3"==t.menu?a("BdeviceRouterConfig",{key:"deviceRouterConfig"}):"4"==t.menu?a("BdeviceBackup",{key:"deviceBackup"}):"6"==t.menu?a("BdeviceMaintenance",{key:"deviceMaintenance"}):"8"==t.menu?a("BdeviceTool",{key:"deviceTool"}):t._e()],1)},i=[],r=(a("d3b7"),a("159b"),a("25eb"),a("a9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{staticClass:"container"},[3==t.dmsType?a("div",{staticClass:"search"},[a("div",{staticClass:"title"},[t._v("查询条件")]),a("div",{ref:"search",staticClass:"content"},[a("span",[t._v("关键字")]),[a("span",{staticClass:"inner"},[a("a-input",{staticClass:"i-width",attrs:{maxLength:64,placeholder:"请输入关键字"},on:{pressEnter:t.clickSearch},model:{value:t.search.search,callback:function(e){t.$set(t.search,"search",e)},expression:"search.search"}})],1),a("span",{staticClass:"outer"},[a("a-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("查询")])],1),a("span",{staticClass:"outer"},[a("a-button",{staticClass:"button",on:{click:t.resetSearch}},[t._v("重置")])],1)]],2)]):t._e(),a("div",{staticClass:"body"},[a("a-spin",{attrs:{spinning:t.spinning,tip:"正在导入数据，请稍等！"}},[a("div",{staticClass:"buttons"},[a("a-button",{attrs:{type:"primary",icon:"sync"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("刷新")])],1),a("div",{staticClass:"title"},[t._v("查询结果")]),a("a-row",{staticClass:"table"},[a("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[a("b-fixed-table",{attrs:{columns:t.columns,rowKey:"id","row-selection":null,data:t.table.data,total:t.table.total,"table-height":550,loading:t.loading,"init-page":t.page,size:"default"},on:{change:t.tableParamChanged},scopedSlots:t._u([{key:"runningState",fn:function(e){var n=e.record;return[a("span",[t._v(t._s(t._f("convertRunningState")(n.runningState)))])]}},{key:"fastTransmissionSwitch",fn:function(e){var n=e.record;return["1"!=n.deviceType||t.readOnly?"1"!=n.deviceType||t.readOnly?t._e():a("span",{domProps:{innerHTML:t._s(t.converFastTransmissionHtml(n.fastpath))}}):a("span",{domProps:{innerHTML:t._s(t.converFastTransmissionHtml(n.fastpath))},on:{click:function(e){return t.fastTransmission(n)}}})]}},{key:"workState",fn:function(e){var n=e.record;return[a("span",{domProps:{innerHTML:t._s(t.convertWorkStateHtml(n.workState))}})]}},{key:"sn",fn:function(e){var n=e.record;return[a("span",[t._v(t._s(n.sn))])]}},{key:"deleting",fn:function(e){var n=e.record;return[0==n.deleting?a("span",{staticStyle:{color:"#47b596"}},[t._v("正常")]):a("span",{staticClass:"oper red"},[t._v("删除中")])]}},{key:"operations",fn:function(e){var n=e.record;return[a("span",[a("span",{staticClass:"oper",on:{click:function(e){return t.borderDeviceTime(n.id)}}},[t._v("时间配置")])]),8!=n.deviceType?a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.linkTest(n)}}},[t._v("连通性检测")])]):t._e(),8!=n.deviceType?a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.borderDeviceState(n.id)}}},[t._v("设备状态")])]):t._e(),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.borderDeviceDetail(n.id)}}},[t._v("设备详情")])]),8==n.deviceType?a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.borderDeviceChannelsMgr(n.sn)}}},[t._v("通道管理")])]):t._e(),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper purple",on:{click:function(e){return t.borderDeviceReset(n.id)}}},[t._v("恢复出厂设置")])]),a("a-tooltip",{attrs:{placement:"top",overlayClassName:"bgc_tooltip"}},[a("template",{slot:"title"},[a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.restart(n.id)}}},[t._v("重启")])]),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.constantPowerOff(n.id)}}},[t._v("软关机")])])]),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper purple"},[t._v("电源")])])],2),t.readOnly?t._e():a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.borderDeviceModify(n)}}},[t._v("修改")])]),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper red",on:{click:function(e){return t.borderDeviceDelete(n)}}},[t._v("删除")])])]}}])})],1)],1)],1)],1)])],1)}),o=[],s=a("5530"),c=a("c2f2"),l=a("b7b6"),d=a("0618"),u=a("8cff"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.form.init.show?a("div",[a("a-modal",{attrs:{closable:!0,title:t.form.init.title,width:t.form.init.width,"mask-closable":!1,footer:"import"===t.form.name||"channel"===t.form.name||"detail"===t.form.name?null:void 0},model:{value:t.form.init.show,callback:function(e){t.$set(t.form.init,"show",e)},expression:"form.init.show"}},["delete"===t.form.name?a("div",[t._v("确定删除？")]):"Reset"===t.form.name?a("div",{staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(t.title))]):"import"===t.form.name?a("div",[a("div",{staticStyle:{height:"50px","line-height":"50px","font-size":"16px",color:"#0ab1c5"}},[a("span",[t._v(t._s(t.form.init.data.msg))])]),a("a-table",{attrs:{pagination:{pageSize:20,size:"small"},rowKey:"number",columns:t.importColumns,"data-source":t.form.init.data.rows}})],1):"channel"===t.form.name?a("div",[a("a-table",{attrs:{pagination:!1,rowKey:"sn",columns:t.channelColumns,"data-source":t.form.init.data.rows},scopedSlots:t._u([{key:"runningState",fn:function(e){return[a("span",[t._v(t._s(t._f("convertRunningState")(e.runningState)))])]}},{key:"operations",fn:function(e){return[a("span",[a("span",{staticClass:"oper",on:{click:function(a){return t.channelTime(e.id)}}},[t._v("时间配置")])]),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(a){return t.channelLinkTest(e)}}},[t._v("连通性检测")])]),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(a){return t.channelState(e.id)}}},[t._v("通道状态")])]),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(a){return t.channelModify(e)}}},[t._v("修改")])]),1!=t.dmsType?a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper red",on:{click:function(a){return t.channelDelete(e.id)}}},[t._v("删除")])]):t._e(),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper purple",on:{click:function(a){return t.channelReset(e.id)}}},[t._v("恢复出厂设置")])]),a("a-tooltip",{attrs:{placement:"top",overlayClassName:"bgc_tooltip"}},[a("template",{slot:"title"},[a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(a){return t.channelRestart(e.id)}}},[t._v("重启")])]),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(a){return t.channelConstantPowerOff(e.id)}}},[t._v("软关机")])])]),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper purple"},[t._v("电源")])])],2)]}}],null,!1,3174823646)})],1):"state"===t.form.name?a("div",{staticClass:"device-status"},[a("a-row",{attrs:{gutter:[48,48]}},[a("a-col",{attrs:{span:8}},[2===t.form.init.data.runningState?a("div",[a("a-tooltip",{attrs:{overlayClassName:"device-status-tooltip","get-popup-container":t.getPopupContainer}},[a("template",{slot:"title"},[a("div",[t._v("异常原因: "+t._s(t.form.init.data.abnormalInfo||"-"))])]),a("div",{staticClass:"item",class:t.getRunningStateClass(t.form.init.data.runningState)},[a("h4",[t._v("运行状态")]),a("div",{staticClass:"content"},[t._v(t._s(t._f("runningStateFilter")(t.form.init.data.runningState)))])])],2)],1):a("div",{staticClass:"item",class:t.getRunningStateClass(t.form.init.data.runningState)},[a("h4",[t._v("运行状态")]),a("div",{staticClass:"content"},[t._v(t._s(t._f("runningStateFilter")(t.form.init.data.runningState)))])])]),a("a-col",{attrs:{span:8}},[a("div",{staticClass:"item"},[a("h4",[t._v("工作模式状态")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.init.data.workingMode||"-"))])])]),a("a-col",{attrs:{span:8}},[a("div",{staticClass:"item",class:t.getAuthModuleStateClass(t.form.init.data.authModuleState)},[a("h4",[t._v("认证模块状态")]),a("div",{staticClass:"content"},[t._v(t._s(t._f("authModuleStateFilter")(t.form.init.data.authModuleState)))])])])],1),a("a-row",{attrs:{gutter:[48,48]}},[a("a-col",{attrs:{span:8}},[a("div",{staticClass:"item"},[a("h4",[t._v("CPU状态")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.init.data.cpu||"-"))])])]),a("a-col",{attrs:{span:8}},[a("div",{staticClass:"item"},[a("h4",[t._v("内存状态")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.init.data.mem||"-"))])])]),a("a-col",{attrs:{span:8}},[a("div",{staticClass:"item"},[a("h4",[t._v("存储状态")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.init.data.disk||"-"))])])]),a("a-col",{attrs:{span:24}},[a("div",{staticClass:"item"},[a("h4",[t._v(" 安全策略状态 "),a("span",{staticStyle:{"font-size":"12px",color:"#797778"}},[t._v("(显示工作状态的策略类型)")])]),a("div",{staticClass:"content"},[t._v(t._s(t.form.init.data.securityStrategies||"-"))])])])],1)],1):a("a-form-model",{ref:"form",attrs:{model:t.form.init.data,rules:t.form.init.rules,"label-col":{span:t.form.init.labelSpan||8},"wrapper-col":{span:t.form.init.wrapperSpan||16}}},[[void 0!==t.form.init.data.name?a("a-form-model-item",{attrs:{label:"设备名称",prop:"name"}},[a("a-input",{staticClass:"dialog-input-height",attrs:{placeholder:"请输入名称",disabled:"modify"!==t.form.name,maxLength:20},model:{value:t.form.init.data.name,callback:function(e){t.$set(t.form.init.data,"name",e)},expression:"form.init.data.name"}})],1):t._e(),void 0!==t.form.init.data.networkAreaId&&"8"!=t.form.init.data.deviceType?a("a-form-model-item",{attrs:{label:"所属网络域",prop:"networkAreaId"}},[a("a-select",{attrs:{"show-search":!0,disabled:"modify"!==t.form.name,"filter-option":t.filterOption},on:{change:t.networkAreaChange},model:{value:t.form.init.data.networkAreaId,callback:function(e){t.$set(t.form.init.data,"networkAreaId",e)},expression:"form.init.data.networkAreaId"}},t._l(t.networkAreaList,(function(e,n){return a("a-select-option",{key:n,attrs:{text:e.name,value:e.id}},[t._v(t._s(e.name))])})),1)],1):t._e(),void 0!==t.form.init.data.typeName?a("a-form-model-item",{attrs:{label:"设备类型",prop:"typeName"}},[a("a-input",{staticClass:"dialog-input-height",attrs:{disabled:""},model:{value:t.form.init.data.typeName,callback:function(e){t.$set(t.form.init.data,"typeName",e)},expression:"form.init.data.typeName"}})],1):t._e(),void 0!==t.form.init.data.sn?a("a-form-model-item",{attrs:{label:"SN号",prop:"sn"}},[a("a-input",{staticClass:"dialog-input-height",attrs:{disabled:""},model:{value:t.form.init.data.sn,callback:function(e){t.$set(t.form.init.data,"sn",e)},expression:"form.init.data.sn"}})],1):t._e(),void 0!==t.form.init.data.productModel?a("a-form-model-item",{attrs:{label:"设备型号",prop:"productModel"}},[a("a-input",{staticClass:"dialog-input-height",attrs:{placeholder:"请输入设备型号",disabled:"modify"!==t.form.name,maxLength:30},model:{value:t.form.init.data.productModel,callback:function(e){t.$set(t.form.init.data,"productModel",e)},expression:"form.init.data.productModel"}})],1):t._e(),void 0!==t.form.init.data.deviceVersion?a("a-form-model-item",{attrs:{label:"设备版本",prop:"deviceVersion"}},[a("a-input",{staticClass:"dialog-input-height",attrs:{placeholder:"请输入设备版本",disabled:"modify"!==t.form.name,maxLength:10},model:{value:t.form.init.data.deviceVersion,callback:function(e){t.$set(t.form.init.data,"deviceVersion",e)},expression:"form.init.data.deviceVersion"}})],1):t._e(),void 0!==t.form.init.data.introduction?a("a-form-model-item",{attrs:{label:"产品简介",prop:"introduction"}},[a("a-textarea",{attrs:{placeholder:"请输入产品简介",disabled:"modify"!==t.form.name,rows:2,maxLength:50},model:{value:t.form.init.data.introduction,callback:function(e){t.$set(t.form.init.data,"introduction",e)},expression:"form.init.data.introduction"}})],1):t._e(),void 0!==t.form.init.data.timeType?a("a-form-model-item",{attrs:{label:"类型",prop:""}},[a("a-select",{on:{change:t.changeTimeType},model:{value:t.form.init.data.timeType,callback:function(e){t.$set(t.form.init.data,"timeType",e)},expression:"form.init.data.timeType"}},[a("a-select-option",{attrs:{value:1}},[t._v("时间")]),a("a-select-option",{attrs:{value:2}},[t._v("NTP")])],1)],1):t._e(),1===t.form.init.data.timeType?a("a-form-model-item",{attrs:{label:"时间",prop:"time2"}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{"show-time":"",locale:t.locale},model:{value:t.form.init.data.time2,callback:function(e){t.$set(t.form.init.data,"time2",e)},expression:"form.init.data.time2"}})],1):t._e(),2===t.form.init.data.timeType?a("a-form-model-item",{attrs:{label:"服务器",prop:"server"}},[a("a-input",{attrs:{maxLength:28},model:{value:t.form.init.data.server,callback:function(e){t.$set(t.form.init.data,"server",e)},expression:"form.init.data.server"}})],1):t._e(),2===t.form.init.data.timeType?a("a-form-model-item",{attrs:{label:"同步周期(分钟)",prop:"period"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{maxLength:10},model:{value:t.form.init.data.period,callback:function(e){t.$set(t.form.init.data,"period",e)},expression:"form.init.data.period"}})],1):t._e()]],2),a("template",{slot:"footer"},["state"!==t.form.name?a("a-button",{attrs:{loading:t.form.init.confirmLoading,type:"primary"},on:{click:function(e){return t.clickSave()}}},[t._v(" "+t._s("create"===t.form.name||"modify"===t.form.name?"保存":"time"===t.form.name?"保存及下发":"确定")+" ")]):t._e(),"state"!==t.form.name?a("a-button",{on:{click:function(e){return t.clickCancel()}}},[t._v("取消")]):t._e(),"state"===t.form.name?a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.clickCancel()}}},[t._v("关闭")]):t._e()],1)],2)],1):t._e()},f=[],m=a("2909"),h=(a("a15b"),a("b0c0"),a("99af"),a("a00a")),v=a("1da1"),g=(a("96cf"),a("b775"));function b(t){return y.apply(this,arguments)}function y(){return y=Object(v["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(g["f"])("device/border-device-basic/recover/".concat(a,"?type=channel"),g["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}function w(t){return k.apply(this,arguments)}function k(){return k=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-basic/reset/".concat(e,"?type=channel"),g["a"].PUT));case 1:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}function x(t){return _.apply(this,arguments)}function _(){return _=Object(v["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,n=e.action,t.abrupt("return",Object(g["f"])("device/border-device-basic/close/".concat(a,"?action=").concat(n,"&type=channel"),g["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),_.apply(this,arguments)}function C(t){return S.apply(this,arguments)}function S(){return S=Object(v["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(g["f"])("device/border-device-basic/channel-delete/".concat(a),g["a"].DELETE));case 2:case"end":return t.stop()}}),t)}))),S.apply(this,arguments)}function I(t){return T.apply(this,arguments)}function T(){return T=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-basic/time-config/".concat(e,"?type=channel"),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}function R(t){return O.apply(this,arguments)}function O(){return O=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-basic/time-config",g["a"].PUT,e));case 1:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}function D(t){return L.apply(this,arguments)}function L(){return L=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-basic-state/".concat(e,"?type=channel"),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),L.apply(this,arguments)}function j(t){return A.apply(this,arguments)}function A(){return A=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-basic/channel-update",g["a"].POST,e));case 1:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}var $=a("40a7"),E=a("290c"),N=a("d9f9"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.form.init.show?a("div",[a("a-modal",{attrs:{closable:!0,title:t.form.init.title,width:t.form.init.width,"mask-closable":!1,footer:"import"===t.form.name?null:void 0},model:{value:t.form.init.show,callback:function(e){t.$set(t.form.init,"show",e)},expression:"form.init.show"}},["Reset"===t.form.name?a("div",{staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(t.title))]):"delete"===t.form.name?a("div",[t._v("确定删除？")]):"state"===t.form.name?a("div",{staticClass:"device-status"},[a("a-row",{attrs:{gutter:[48,48]}},[a("a-col",{attrs:{span:8}},[2===t.form.init.data.runningState?a("div",[a("a-tooltip",{attrs:{overlayClassName:"device-status-tooltip","get-popup-container":t.getPopupContainer}},[a("template",{slot:"title"},[a("div",[t._v("异常原因: "+t._s(t.form.init.data.abnormalInfo||"-"))])]),a("div",{staticClass:"item",class:t.getRunningStateClass(t.form.init.data.runningState)},[a("h4",[t._v("运行状态")]),a("div",{staticClass:"content"},[t._v(t._s(t._f("runningStateFilter")(t.form.init.data.runningState)))])])],2)],1):a("div",{staticClass:"item",class:t.getRunningStateClass(t.form.init.data.runningState)},[a("h4",[t._v("运行状态")]),a("div",{staticClass:"content"},[t._v(t._s(t._f("runningStateFilter")(t.form.init.data.runningState)))])])]),a("a-col",{attrs:{span:8}},[a("div",{staticClass:"item"},[a("h4",[t._v("工作模式状态")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.init.data.workingMode||"-"))])])]),a("a-col",{attrs:{span:8}},[a("div",{staticClass:"item",class:t.getAuthModuleStateClass(t.form.init.data.authModuleState)},[a("h4",[t._v("认证模块状态")]),a("div",{staticClass:"content"},[t._v(t._s(t._f("authModuleStateFilter")(t.form.init.data.authModuleState)))])])])],1),a("a-row",{attrs:{gutter:[48,48]}},[a("a-col",{attrs:{span:8}},[a("div",{staticClass:"item"},[a("h4",[t._v("CPU状态")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.init.data.cpu||"-"))])])]),a("a-col",{attrs:{span:8}},[a("div",{staticClass:"item"},[a("h4",[t._v("内存状态")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.init.data.mem||"-"))])])]),a("a-col",{attrs:{span:8}},[a("div",{staticClass:"item"},[a("h4",[t._v("存储状态")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.init.data.disk||"-"))])])]),a("a-col",{attrs:{span:24}},[a("div",{staticClass:"item"},[a("h4",[t._v(" 安全策略状态 "),a("span",{staticStyle:{"font-size":"12px",color:"#797778"}},[t._v("(显示工作状态的策略类型)")])]),a("div",{staticClass:"content"},[t._v(t._s(t.form.init.data.securityStrategies||"-"))])])])],1)],1):"detail"===t.form.name?a("div",[a("h4",{staticStyle:{"font-weight":"bold","font-size":"16px"}},[t._v("基本信息")]),a("table",{staticClass:"detail-table",staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("th",{attrs:{colspan:"2"}}),a("th",{staticStyle:{"text-align":"left"},attrs:{colspan:"1"}})])]),a("tbody",t._l(t.detailMap,(function(e,n){return a("tr",{key:n},["wafVersion"===n?a("td",{staticClass:"title",attrs:{rowspan:"2"}},[t._v(t._s(e.title))]):t._e(),"virusFactory"===n?a("td",{staticClass:"title",attrs:{rowspan:"3"}},[t._v(t._s(e.title))]):t._e(),"wafVersion"===n||"virusVersion"===n||"virusFactory"==n?a("td",{staticClass:"title"},[t._v(t._s(e.label))]):t._e(),"wafVersion"===n?a("td",{staticClass:"content"},[t._v(t._s(t.form.init.data.info[n]||"-"))]):t._e(),"virusVersion"===n?a("td",{staticClass:"content"},[t._v(t._s(t.form.init.data.info[n]||"-"))]):t._e(),"virusFactory"===n?a("td",{staticClass:"content"},[t._v(t._s(t.form.init.data.info[n]||"-"))]):t._e(),"wafDate"===n||"virusDate"===n?a("td",{staticClass:"title",attrs:{colspan:"1"}},[t._v(t._s(e.label))]):t._e(),"wafDate"===n?a("td",{staticClass:"content",attrs:{colspan:"1"}},[t._v(t._s(t.form.init.data.info[n]||"-"))]):t._e(),"virusDate"===n?a("td",{staticClass:"content",attrs:{colspan:"1"}},[t._v(t._s(t.form.init.data.info[n]||"-"))]):t._e(),"wafVersion"!==n&&"virusVersion"!==n&&"wafDate"!==n&&"virusDate"!==n&&"virusFactory"!==n?a("td",{staticClass:"title",attrs:{colspan:"2"}},[t._v(t._s(e.label))]):t._e(),"wafVersion"!==n&&"virusVersion"!==n&&"wafDate"!==n&&"virusDate"!==n&&"virusFactory"!==n?a("td",{staticClass:"content",attrs:{colspan:"1"}},[t._v(" "+t._s(t.form.init.data.info[n]||"-")+" ")]):t._e()])})),0)])]):a("a-form-model",{ref:"form",attrs:{model:t.form.init.data,rules:t.form.init.rules,"label-col":{span:t.form.init.labelSpan||8},"wrapper-col":{span:t.form.init.wrapperSpan||16}}},[void 0!==t.form.init.data.networkAreaId?a("a-form-model-item",{attrs:{label:"所属网络域",prop:"networkAreaId"}},[a("a-select",{attrs:{"show-search":!0,disabled:"modify"!==t.form.name,"filter-option":t.filterOption},model:{value:t.form.init.data.networkAreaId,callback:function(e){t.$set(t.form.init.data,"networkAreaId",e)},expression:"form.init.data.networkAreaId"}},t._l(t.networkAreaList,(function(e,n){return a("a-select-option",{key:n,attrs:{text:e.name,value:e.id}},[t._v(t._s(e.name))])})),1)],1):t._e(),void 0!==t.form.init.data.timeType?a("a-form-model-item",{attrs:{label:"类型",prop:""}},[a("a-select",{on:{change:t.changeTimeType},model:{value:t.form.init.data.timeType,callback:function(e){t.$set(t.form.init.data,"timeType",e)},expression:"form.init.data.timeType"}},[a("a-select-option",{attrs:{value:1}},[t._v("时间")]),a("a-select-option",{attrs:{value:2}},[t._v("NTP")])],1)],1):t._e(),1===t.form.init.data.timeType?a("a-form-model-item",{attrs:{label:"时间",prop:"time2"}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{"show-time":"",locale:t.locale},model:{value:t.form.init.data.time2,callback:function(e){t.$set(t.form.init.data,"time2",e)},expression:"form.init.data.time2"}})],1):t._e(),2===t.form.init.data.timeType?a("a-form-model-item",{attrs:{label:"服务器",prop:"server"}},[a("a-input",{attrs:{maxLength:28},model:{value:t.form.init.data.server,callback:function(e){t.$set(t.form.init.data,"server",e)},expression:"form.init.data.server"}})],1):t._e(),2===t.form.init.data.timeType?a("a-form-model-item",{attrs:{label:"同步周期(分钟)",prop:"period"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{maxLength:10},model:{value:t.form.init.data.period,callback:function(e){t.$set(t.form.init.data,"period",e)},expression:"form.init.data.period"}})],1):t._e()],1),a("template",{slot:"footer"},["detail"!==t.form.name&&"state"!==t.form.name?a("a-button",{attrs:{loading:t.form.init.confirmLoading,type:"primary"},on:{click:function(e){return t.clickSave()}}},[t._v(" "+t._s("time"===t.form.name?"保存及下发":"确定")+" ")]):t._e(),"detail"!==t.form.name&&"state"!==t.form.name?a("a-button",{on:{click:function(e){return t.clickCancel()}}},[t._v("取消")]):t._e(),"detail"===t.form.name||"state"===t.form.name?a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.clickCancel()}}},[t._v("关闭")]):t._e()],1)],2)],1):t._e()},B=[],M={productName:{label:"产品名称",unit:""},productModel:{label:"产品型号",unit:""},productVersion:{label:"产品版本",unit:""}},z={name:"DeviceChannelDialog",components:{},mixins:[c["a"]],filters:{convertRunningState:N["w"],haStateFilter:function(t){var e={1:"主设备",2:"备设备"};return e[t]||"-"},authModuleStateFilter:function(t){var e={1:"开启",2:"关闭"};return e[t]||"-"},runningStateFilter:function(t){var e={1:"正常",2:"异常",3:"离线",4:"异常及离线"};return e[t]||"-"},securityStrategiesFilter:function(t){var e;return t=null===(e=t)||void 0===e?void 0:e.join(", "),t||"-"}},props:{},data:function(){return{locale:$["a"],detailMap:M,title:"",networkAreaList:[],form:{Reset:{title:"恢复出厂设置",width:550,request:b,show:!0,data:{id:""},rules:{}},modify:{title:"修改",width:450,request:j,show:!0,data:{id:"",networkAreaId:""},rules:{networkAreaId:h["a"].select}},time:{title:"时间配置",width:450,request:R,labelSpan:8,wrapperSpan:16,show:!0,data:{id:"",channelInfoId:"",type:"channel",timeType:1,time:"",time2:"",server:"",period:1},rules:{time2:h["a"].input,server:h["a"].ip1,period:h["a"].format7}},state:{title:"通道状态",width:1100,request:R,labelSpan:5,wrapperSpan:18,show:!0,data:{abnormalInfo:null,authModuleState:null,haState:null,cpu:null,mem:null,disk:null,runningState:null,securityStrategies:null,sn:null,workLoad:null,workingMode:null}},delete:{title:"删除",width:420,isDelete:!0,request:C,show:!0,data:{id:""},rules:{}},detail:{title:"通道详情",width:550,request:"",labelSpan:5,wrapperSpan:18,show:!0,data:{id:"",info:{}}}}}},created:function(){this.showDialog(this.state,this.params),"time"===this.state?(this.form.init.data.timeType=1,this.params.time||(this.form.init.data.timeType=2)):"modify"===this.state&&this.updateNetworkAreaList();var t=localStorage.getItem("systemType");this.title="device"==t?"1）执行恢复出厂设置操作后，所有配置数据将被清除，请谨慎操作！\n2）恢复出厂设置时不能断电。\n3）恢复出厂设置完成后，将自动重启系统。":"1）执行恢复出厂设置操作后，设备相关的所有配置数据将被清除，请谨慎操作！\n2）恢复出厂设置时不能断电。"},methods:{updateNetworkAreaList:function(){var t=this;Object(l["m"])().then((function(e){var a=e.data;t.networkAreaList=[{id:"",name:"请选择网络域"}].concat(Object(m["a"])(a))}))},getRunningStateClass:function(t){var e={1:"success",2:"error",3:"warning"};return e[t]||"-"},getAuthModuleStateClass:function(t){var e={1:"success",2:"error"};return e[t]||"-"},getWorkLoadClass:function(t){var e={"高":"error","中":"warning","低":"success"};return e[t]||"-"},changeTimeType:function(){this.$refs["form"].clearValidate()},getOKText:function(){var t="确定";switch(this.form.init.name){case"delete":t="确定";break;case"time":t="保存及下发";break}return t},beforeSave:function(t){if("time"===this.form.name){var e=t.time2;t.time=e.valueOf(),1===t.timeType?(t.server=null,t.period=null):t.time=null,delete t["time2"]}},close:function(){this.form.init.show=!1},update:function(){var t=this;t.parent.update()},getPopupContainer:function(t){return t.parentElement}}},V=z,H=(a("1c9b"),a("25d0"),a("2877")),U=Object(H["a"])(V,P,B,!1,null,"dc5d0898",null),K=U.exports,F=new u["a"](K),q=a("8449"),W=a("c1df"),Y=a.n(W),G=[{title:"设备名称",width:"10%",dataIndex:"deviceName"},{title:"通道名称",width:"10%",dataIndex:"name"},{title:"通道类型",width:"10%",dataIndex:"typeName"},{title:"节点类型",width:"10%",dataIndex:"deviceNodeName"},{title:"运行状态",width:"10%",scopedSlots:{customRender:"runningState"}},{title:"槽位ID",width:"10%",dataIndex:"slotId"},{title:"操作",width:"40%",scopedSlots:{customRender:"operations"}}],Z={name:"BorderDeviceBasicDialog",components:{ARow:E["a"]},mixins:[c["a"]],filters:{convertRunningState:N["w"],haStateFilter:function(t){var e={1:"主设备",2:"备设备"};return e[t]||"-"},authModuleStateFilter:function(t){var e={1:"开启",2:"关闭"};return e[t]||"-"},runningStateFilter:function(t){var e={1:"正常",2:"异常",3:"离线",4:"异常及离线"};return e[t]||"-"},securityStrategiesFilter:function(t){var e;return t=null===(e=t)||void 0===e?void 0:e.join(", "),t||"-"}},props:{},data:function(){return{dialog:F,linkDialog:q["a"],locale:$["a"],snList:[{id:"",value:"请选择SN号"}],networkAreaList:[],deviceTypeList:[],title:"",channelColumns:G,form:{modify:{title:"修改",width:450,request:l["f"],show:!0,data:{id:"",name:"",deviceType:"",networkAreaId:"",networkAreaName:"",productModel:"",deviceVersion:"",introduction:""},rules:{name:h["a"].name,networkAreaId:h["a"].select,productModel:h["a"].input,deviceVersion:h["a"].input}},Reset:{title:"恢复出厂设置",width:550,request:l["h"],show:!0,data:{id:""},rules:{}},time:{title:"时间配置",width:450,request:l["l"],labelSpan:8,wrapperSpan:16,show:!0,data:{deviceId:"",channelInfoId:"",id:"",timeType:1,time:"",time2:"",server:"",period:1,type:""},rules:{time2:h["a"].input,server:h["a"].ip1,period:h["a"].format7}},state:{title:"设备状态",width:1100,request:l["l"],labelSpan:5,wrapperSpan:18,show:!0,data:{abnormalInfo:null,authModuleState:null,haState:null,cpu:null,mem:null,disk:null,runningState:null,securityStrategies:null,sn:null,workLoad:null,workingMode:null}},detail:{title:"设备详情",width:550,request:"",labelSpan:5,wrapperSpan:18,show:!0,data:{deviceType:"",deviceVersion:"",id:"",introduction:"",manufacturingDate:"",name:"",networkAreaId:"",networkAreaName:"",productModel:"",runningState:"",sn:"",typeName:""}},channel:{title:"通道管理",width:1e3,request:"",labelSpan:5,wrapperSpan:18,show:!0,data:{sn:"",rows:[]}},delete:{title:"删除",width:420,isDelete:!0,request:l["b"],show:!0,data:{id:""},rules:{}},import:{title:"导入",width:700,show:!0,data:{msg:"",rows:[]},rules:{}}}}},created:function(){this.showDialog(this.state,this.params),"detail"===this.state&&this.updateNetworkAreaList(),"modify"===this.state&&this.updateNetworkAreaList(),"time"===this.state&&(this.form.init.data.timeType=1,this.params.time||(this.form.init.data.timeType=2));var t=localStorage.getItem("systemType");this.title="device"==t?"1）执行恢复出厂设置操作后，所有配置数据将被清除，请谨慎操作！\n2）恢复出厂设置时不能断电。\n3）恢复出厂设置完成后，将自动重启系统。":"1）执行恢复出厂设置操作后，设备相关的所有配置数据将被清除，请谨慎操作！\n2）恢复出厂设置时不能断电。"},methods:{getRunningStateClass:function(t){var e={1:"success",2:"error",3:"warning"};return e[t]||"-"},getAuthModuleStateClass:function(t){var e={1:"success",2:"error"};return e[t]||"-"},getWorkLoadClass:function(t){var e={"高":"error","中":"warning","低":"success"};return e[t]||"-"},networkAreaChange:function(t,e){var a=e.data;this.form.init.data.networkAreaName=a.attrs.text},changeTimeType:function(){this.$refs["form"].clearValidate()},getOKText:function(){var t="确定";switch(this.form.init.name){case"delete":t="确定";break;case"create":t="保存";break;case"time":t="保存及下发";break}return t},beforeSave:function(t){if("time"===this.form.name){var e=t.time2;t.time=e.valueOf(),1===t.timeType?(t.server=null,t.period=null):t.time=null,delete t["time2"]}else"create"===this.form.name&&(t.deviceRemoteLog=!1,t.deviceLog=!1,t.ping=!1,t.ssh=!1,t.ddos=!1,t.waf=!1,t.virus=!1)},close:function(){this.form.init.show=!1},update:function(){var t=this;t.parent.update()},updateNetworkAreaList:function(){var t=this;Object(l["m"])().then((function(e){var a=e.data;t.networkAreaList=[{id:"",name:"请选择网络域"}].concat(Object(m["a"])(a))}))},getPopupContainer:function(t){return t.parentElement},channelLinkTest:function(t){this.linkDialog.open({state:"linkDialog",params:t})},channelTime:function(t){var e=this;I(t).then((function(a){var n=a.data;n.time||(n.time=e.systemTime()),e.dialog.open({state:"time",parent:e,params:Object(s["a"])(Object(s["a"])({id:t},n),{},{time2:Y()(n.time)})})}))},channelReset:function(t){this.dialog.open({state:"Reset",parent:this,params:{id:t}})},channelState:function(t){var e=this;this.loading=!0,D(t).then((function(a){var n=a.data;e.loading=!1,e.dialog.open({state:"state",parent:e,params:Object(s["a"])({id:t},n)})}))},channelModify:function(t){this.dialog.open({state:"modify",parent:this,params:t})},channelDelete:function(t){this.dialog.open({state:"delete",parent:this,params:{id:t}})},channelRestart:function(t){var e=this;e.$confirm({content:"确认设备重启吗？",okText:"确认",cancelText:"取消",onOk:function(){w(t).then((function(t){"SUCCESS"==t.state&&(e.$message.success("设备重启成功！"),"device"==e.systemType&&e.$router.push("/login"))}))},onCancel:function(){}})},channelConstantPowerOff:function(t){var e=this;e.$confirm({content:"确认通道软关机吗？",okText:"确认",cancelText:"取消",onOk:function(){x({id:t,action:"Poweroff"}).then((function(t){"SUCCESS"==t.state&&(e.$message.success("通道软关机成功！"),"device"==e.systemType&&e.$router.push("/login"))}))},onCancel:function(){}})}}},X=Z,Q=(a("3d55"),a("9dea"),Object(H["a"])(X,p,f,!1,null,"cf944382",null)),J=Q.exports,tt=new u["a"](J),et=[{title:"设备名称",dataIndex:"name"},{title:"设备类型",width:"13%",dataIndex:"typeName"},{title:"运行状态",ellipsis:!0,scopedSlots:{customRender:"runningState"}},{title:"操作",width:450,scopedSlots:{customRender:"operations"}}],at="device",nt={name:"BorderDeviceBasic",components:{BFixedTable:d["a"]},mixins:[c["a"]],comments:{},props:{},data:function(){return{readOnly:!1,systemType:"",spinning:!1,select:h["a"].select,input:h["a"].input,format5:h["a"].format5,format6:h["a"].format6,columns:et,tableList:l["e"],dialog:tt,linkDialog:q["a"],getRecord:"",templateUrl:"template/border-device-basic.xlsx",importDataUrl:"".concat(at,"/border-device-basic/import-data"),exportDataUrl:"".concat(at,"/border-device-basic/export-data"),loading:!1,table:{data:[],total:0}}},filters:{convertRunningState:N["w"],convertWorkState:N["H"],convertWorkStateHtml:N["J"]},created:function(){this.systemType=localStorage.getItem("systemType")},watch:{$route:function(t,e){var a=this;e.path!==t.path&&this.$nextTick((function(){a.dialog&&a.dialog.close()}))}},mounted:function(){},methods:{convertWorkStateHtml:N["J"],converFastTransmissionHtml:N["a"],fastTransmission:function(t){var e="";e=1==t.fastpath?"是否关闭快转开关":"是否开启快转开关",this.$confirm({content:e,okText:"确认",cancelText:"取消",onOk:function(){var e=t.id;Object(l["d"])({id:e,enable:!t.fastpath}).then((function(e){var a=e.data;t.fastpath=a.fastpath}))},onCancel:function(){}})},borderDeviceModify:function(t){this.dialog.open({state:"modify",parent:this,params:t})},borderDeviceDelete:function(t,e){var a=t.id;this.dialog.open({state:"delete",parent:this,params:{id:a},item:e})},borderDeviceTime:function(t){var e=this;Object(l["k"])(t).then((function(a){var n=a.data;n.time||(n.time=e.systemTime()),e.dialog.open({state:"time",parent:e,params:Object(s["a"])(Object(s["a"])({id:t},n),{},{time2:Y()(n.time)})})}))},borderDeviceReset:function(t){this.dialog.open({state:"Reset",parent:this,params:{id:t}})},restart:function(t){var e=this;e.$confirm({content:"确认设备重启吗？",okText:"确认",cancelText:"取消",onOk:function(){Object(l["i"])({id:t}).then((function(t){"SUCCESS"==t.state&&(e.$message.success("设备重启成功！"),"device"==e.systemType&&e.$router.push("/login"))}))},onCancel:function(){}})},constantPowerOff:function(t){var e=this;e.$confirm({content:"确认设备软关机吗？",okText:"确认",cancelText:"取消",onOk:function(){Object(l["g"])({id:t,action:"Poweroff"}).then((function(t){"SUCCESS"==t.state&&(e.$message.success("设备软关机成功！"),"device"==e.systemType&&e.$router.push("/login"))}))},onCancel:function(){}})},linkTest:function(t){this.linkDialog.open({state:"linkDialog",params:t})},borderDeviceState:function(t){var e=this;this.loading=!0,Object(l["j"])(t).then((function(a){var n=a.data;e.loading=!1,e.dialog.open({state:"state",parent:e,params:Object(s["a"])({id:t},n)})})).catch((function(){e.loading=!1}))},borderDeviceDetail:function(t){var e=this;Object(l["c"])(t).then((function(t){var a=t.data;e.dialog.open({state:"detail",parent:e,params:a})}))},borderDeviceChannelsMgr:function(t){var e=this;Object(l["a"])(t).then((function(a){var n=a.data;e.dialog.open({state:"channel",parent:e,params:{sn:t,rows:n.rows||[]}})}))},update:function(t,e){var a=this;this.page=t||this.page,this.pageSize=e||this.pageSize,this.loading=!0,this.tableList(this.page,this.pageSize,this.searchParams).then((function(t){var e=t.data;e?(a.table.total=e.total,a.table.data=e.rows,a.loading=!1):(a.table.total=0,a.table.data=[],a.loading=!1)})).catch((function(){a.loading=!1}))}},destroyed:function(){},beforeDestroy:function(){this.dialog&&this.dialog.close()}},it=nt,rt=(a("4487"),Object(H["a"])(it,r,o,!1,null,"aeaf42e4",null)),ot=rt.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{staticClass:"container"},[3==t.dmsType?a("div",{staticClass:"search"},[a("div",{staticClass:"title"},[t._v("查询条件")]),a("div",{ref:"search",staticClass:"content"},[a("span",[t._v("关键字:")]),[a("span",{staticClass:"inner"},[a("a-select",{staticClass:"i-width",attrs:{"aria-placeholder":"请选择设备"},model:{value:t.search.deviceId,callback:function(e){t.$set(t.search,"deviceId",e)},expression:"search.deviceId"}},t._l(t.deviceList,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),a("span",{staticClass:"outer"},[a("a-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("查询")])],1)]],2)]):t._e(),a("div",{staticClass:"body"},[a("a-spin",{attrs:{spinning:t.spinning,tip:"正在导入数据，请稍等！"}},[a("div",{staticClass:"buttons"},[a("a-button",{attrs:{type:"primary",icon:"sync"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("刷新")])],1),a("div",{staticClass:"title"},[t._v('"查询结果"')]),a("div",{ref:"interface",staticClass:"table",staticStyle:{"font-size":"12px"}},[t._l(t.table.data,(function(e){return a("a-card",{key:e.deviceName,staticStyle:{"margin-bottom":"20px"},attrs:{"head-style":{backgroundColor:"#F0F4F5"}}},[a("template",{slot:"title"},[a("span",[t._v(t._s(e.deviceName))]),a("span",{staticStyle:{float:"right",color:"#53a5ba","background-color":"#ffffff",border:"1px solid #53a5ba",padding:"0 10px","border-radius":"15px","font-size":"14px",cursor:"pointer"},on:{click:function(a){return t.interfaceState(e.channelInfoId)}}},[t._v(" 查看状态 ")]),a("span",{staticStyle:{float:"right",color:"#53a5ba","background-color":"#ffffff",border:"1px solid #53a5ba",margin:"0 10px",padding:"0 10px","border-radius":"15px","font-size":"14px",cursor:"pointer"},on:{click:function(a){return t.viewRate(e.channelInfoId)}}},[t._v(" 查看速率 ")])]),a("a-row",{attrs:{gutter:15}},[a("a-col",{attrs:{span:8}},[a("div",{staticClass:"interface-title"},[t._v("接口布局")]),[a("b-interface-layout-1",{attrs:{height:176,width:"100%",data:e.layout}})]],2),a("a-col",{attrs:{span:2}}),a("a-col",{attrs:{span:12}},[a("div",[a("span",{staticClass:"interface-title"},[t._v("物理接口")])]),a("b-fixed-table",{attrs:{size:"small",columns:t.rawColumns,rowKey:"id",data:e.raw.data,total:e.raw.total,"show-index":!1,"table-height":140,"init-page-size":4,"root-data":e,"show-total":null,"show-quick-jumper":!1,"show-size-changer":!1,"show-less-items":!0},on:{change:t.rawInterfaceTableParamChanged},scopedSlots:t._u([{key:"rawIface",fn:function(e){var n=e.record;return[a("span",{attrs:{title:t.convertRawIface(n)}},[t._v(t._s(t.convertRawIface(n)))])]}},{key:"workType",fn:function(e){var n=e.record;return["0"==n.workType?a("span",[t._v("管理口")]):"1"==n.workType?a("span",[t._v("心跳口")]):"2"==n.workType?a("span",[t._v("业务口")]):"3"==n.workType?a("span",[t._v("前置机业务口")]):"4"==n.workType?a("span",[t._v("后置机业务口")]):t._e()]}},{key:"operations",fn:function(n){var i=n.record;return[t.readOnly||"0"==i.workType||"0"==i.external||i.enabled?t._e():a("span",{staticClass:"oper-margin-s"},[a("span",{staticClass:"oper",on:{click:function(e){return t.interfaceUp(i.id)}}},[t._v("启用")])]),!t.readOnly&&"0"!=i.workType&&"0"!=i.external&&i.enabled?a("span",{staticClass:"oper-margin-s"},[a("span",{staticClass:"oper",on:{click:function(e){return t.interfaceDown(i.id)}}},[t._v("禁用")])]):t._e(),t.readOnly||"0"==i.workType||"0"==i.external?t._e():a("span",{staticClass:"oper-margin-s"},[a("span",{staticClass:"oper",on:{click:function(e){return t.borderDeviceDispatch(i.id)}}},[t._v("下发")])]),"0"!=i.external?a("span",{staticClass:"oper-margin-s"},[a("span",{staticClass:"oper",on:{click:function(a){return t.interfaceModify(i,"raw",e)}}},[t._v("修改")])]):t._e()]}}],null,!0)})],1)],1)],2)})),a("div",{directives:[{name:"show",rawName:"v-show",value:this.table.data.length!==this.table.total,expression:"this.table.data.length !== this.table.total"}],staticStyle:{cursor:"pointer",padding:"10px 0","text-align":"center","background-color":"#f8fafb",color:"#449cb3",border:"1px solid #449cb3","font-size":"16px","font-weight":"bold"},on:{click:t.loadMoreInterface}},[t._v(" 加载更多>> ")])],2)])],1)])],1)},ct=[],lt=a("b85c");a("ac1f"),a("841c");function dt(t,e,a){return ut.apply(this,arguments)}function ut(){return ut=Object(v["a"])(regeneratorRuntime.mark((function t(e,a,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-net-ifaces?offset=".concat((e-1)*a,"&limit=").concat(a).concat(n||""),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),ut.apply(this,arguments)}function pt(t,e,a,n){return ft.apply(this,arguments)}function ft(){return ft=Object(v["a"])(regeneratorRuntime.mark((function t(e,a,n,i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-net-iface/raws?offset=".concat((e-1)*a)+"&channelInfoId=".concat(n,"&limit=").concat(a).concat(i||""),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),ft.apply(this,arguments)}function mt(t,e,a,n){return ht.apply(this,arguments)}function ht(){return ht=Object(v["a"])(regeneratorRuntime.mark((function t(e,a,n,i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-net-iface/vlans?offset=".concat((e-1)*a,"&")+"channelInfoId=".concat(n,"&limit=").concat(a).concat(i||""),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),ht.apply(this,arguments)}function vt(t,e,a,n){return gt.apply(this,arguments)}function gt(){return gt=Object(v["a"])(regeneratorRuntime.mark((function t(e,a,n,i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-net-iface/bonds?offset=".concat((e-1)*a,"&")+"channelInfoId=".concat(n,"&limit=").concat(a).concat(i||""),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),gt.apply(this,arguments)}function bt(t){return yt.apply(this,arguments)}function yt(){return yt=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-net-iface",g["a"].PUT,e));case 1:case"end":return t.stop()}}),t)}))),yt.apply(this,arguments)}function wt(t){return kt.apply(this,arguments)}function kt(){return kt=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-net-iface",g["a"].POST,e));case 1:case"end":return t.stop()}}),t)}))),kt.apply(this,arguments)}function xt(t){return _t.apply(this,arguments)}function _t(){return _t=Object(v["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(g["f"])("device/border-device-net-iface/".concat(a),g["a"].DELETE));case 2:case"end":return t.stop()}}),t)}))),_t.apply(this,arguments)}function Ct(t,e,a,n,i){return St.apply(this,arguments)}function St(){return St=Object(v["a"])(regeneratorRuntime.mark((function t(e,a,n,i,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-net-iface/ifaces?id=".concat(e||"","&channelInfoId=").concat(a||"","&workType=").concat(i||"")+"&ifaceType=".concat(n||"","&search=").concat(r||""),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),St.apply(this,arguments)}function It(t,e,a,n){return Tt.apply(this,arguments)}function Tt(){return Tt=Object(v["a"])(regeneratorRuntime.mark((function t(e,a,n,i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-net-iface/state/raw/".concat(e,"?offset=").concat((a-1)*n,"&limit=").concat(n,"&invalid=").concat(i||""),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),Tt.apply(this,arguments)}function Rt(t,e,a,n){return Ot.apply(this,arguments)}function Ot(){return Ot=Object(v["a"])(regeneratorRuntime.mark((function t(e,a,n,i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-net-iface/state/vlan/".concat(e,"?offset=").concat((a-1)*n,"&limit=").concat(n,"&invalid=").concat(i||""),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),Ot.apply(this,arguments)}function Dt(t,e,a,n){return Lt.apply(this,arguments)}function Lt(){return Lt=Object(v["a"])(regeneratorRuntime.mark((function t(e,a,n,i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-net-iface/state/bond/".concat(e,"?offset=").concat((a-1)*n,"&limit=").concat(n,"&invalid=").concat(i||""),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),Lt.apply(this,arguments)}function jt(t){return At.apply(this,arguments)}function At(){return At=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-net-iface/redispatch/".concat(e),g["a"].PUT));case 1:case"end":return t.stop()}}),t)}))),At.apply(this,arguments)}function $t(t){return Et.apply(this,arguments)}function Et(){return Et=Object(v["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,n=e.enable,t.abrupt("return",Object(g["f"])("device/border-device-net-iface/enable/".concat(a,"?enable=").concat(n),g["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),Et.apply(this,arguments)}function Nt(t){return Pt.apply(this,arguments)}function Pt(){return Pt=Object(v["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(g["f"])("device/border-device-net-iface/dispatch/".concat(a),g["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),Pt.apply(this,arguments)}function Bt(t){return Mt.apply(this,arguments)}function Mt(){return Mt=Object(v["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(g["f"])("device/border-device-net-iface/top-ifaces?channelInfoId=".concat(a),g["a"].GET));case 2:case"end":return t.stop()}}),t)}))),Mt.apply(this,arguments)}function zt(t){return Vt.apply(this,arguments)}function Vt(){return Vt=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-net-iface/layout?channelInfoId=".concat(e),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),Vt.apply(this,arguments)}function Ht(t){return Ut.apply(this,arguments)}function Ut(){return Ut=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-net-iface/speed?channelInfoId=".concat(e.channelInfoId,"&startDate=").concat(e.startDate,"&endDate=").concat(e.endDate),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),Ut.apply(this,arguments)}var Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.form.init.show?a("div",[a("a-config-provider",{attrs:{locale:t.zhCN}},[a("a-modal",{ref:"dialog",attrs:{closable:!0,title:t.form.init.title,width:t.form.init.width,"mask-closable":!1},model:{value:t.form.init.show,callback:function(e){t.$set(t.form.init,"show",e)},expression:"form.init.show"}},["dispatch"===t.form.name?a("div",[t._v("确定下发？")]):"enable"===t.form.name?a("div",[t._v("确定启用？")]):"delete"===t.form.name?a("div",[t._v("确定删除？")]):"disable"===t.form.name?a("div",[t._v("确定禁用？")]):"state"===t.form.name?a("div",{ref:"state",staticStyle:{"min-height":"477px"}},[a("a-row",{attrs:{gutter:15}},[a("a-col",{attrs:{span:24}},[a("div",[a("span",{staticClass:"interface-title"},[t._v("物理接口")]),a("a-checkbox",{staticStyle:{"margin-left":"20px"},on:{change:t.onChangeRaw}},[t._v("仅显示未生效")]),t.operations.raw.state?a("span",{staticStyle:{float:"right",display:"inline-block"}},[a("a-button",{attrs:{type:"primary",size:"small",disabled:t.operations.raw.selectedRowKeys.length<1,loading:t.operations.raw.loading},on:{click:t.startRaw}},[t._v("重新下发")]),a("span",{staticStyle:{"margin-left":"8px"}},[t.operations.raw.selectedRowKeys.length>0?[t._v(t._s("选中"+t.operations.raw.selectedRowKeys.length+" 项"))]:t._e()],2)],1):t._e()],1),a("b-fixed-table",{attrs:{id:"rawTable",size:"small",columns:t.rawColumns,rowKey:"id",data:t.form.init.data.raw.data,"row-selection":t.rowSelectionRaw,total:t.form.init.data.raw.total,"show-index":!1,"table-height":310,"init-page":t.operations.raw.page,"init-page-size":8,"root-data":t.form.init.data.raw,"show-total":null,"show-quick-jumper":!1,"show-size-changer":!1,"show-less-items":!0},on:{change:t.rawInterfaceTableParamChanged},scopedSlots:t._u([{key:"ifaceState",fn:function(e){var n=e.record;return[a("span",{domProps:{innerHTML:t._s(t.convertInterfaceStateHtml(n.ifaceState))}})]}},{key:"ipsWorkState",fn:function(e){var n=e.record;return[a("span",{domProps:{innerHTML:t._s(t.convertWorkStateHtml(n.ipsWorkState))}})]}}],null,!1,632543053)})],1)],1)],1):"rate"===t.form.name?a("div",{staticStyle:{"min-height":"477px"}},[a("a-spin",{attrs:{spinning:t.spinning,tip:"正在查询，请稍后！"}},[a("span",{staticClass:"inner"},[a("a-range-picker",{attrs:{"show-time":{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss","allow-clear":!1,"disabled-date":t.disabledDate},on:{ok:t.dateChange},model:{value:t.form.rate.timeRange,callback:function(e){t.$set(t.form.rate,"timeRange",e)},expression:"form.rate.timeRange"}})],1),a("span",{staticStyle:{float:"right"}},[a("a-radio-group",{attrs:{name:"radioGroup","default-value":1},on:{change:t.changeType}},[a("a-radio",{attrs:{value:1}},[t._v("流量速率")]),a("a-radio",{attrs:{value:2}},[t._v("包速率")])],1)],1),0==t.form.init.data.data.length?a("div",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.rateTitle))]):t._l(t.form.init.data.data,(function(e,n){return a("b-multiple-line",{key:n,attrs:{data:t.form.init.data.data[n],"x-data":t.form.init.data.xData[n],width:938,height:362,unitAttribute:t.unitAttribute}})}))],2)],1):a("a-form-model",{ref:"form",attrs:{model:t.form.init.data,rules:t.form.init.rules,"label-col":{span:t.form.init.labelSpan||5},"wrapper-col":{span:t.form.init.wrapperSpan||19}}},[void 0!==t.form.init.data.name?a("a-form-model-item",{attrs:{label:"名称",prop:"name"}},[~t.form.name.indexOf("bond")?a("a-input",{attrs:{placeholder:"请输入名称",disabled:-1!==t.form.name.indexOf("Modify"),maxLength:15},model:{value:t.form.init.data.name,callback:function(e){t.$set(t.form.init.data,"name",e)},expression:"form.init.data.name"}}):a("a-input",{attrs:{placeholder:"请输入名称",disabled:-1!==t.form.name.indexOf("Modify"),maxLength:20},model:{value:t.form.init.data.name,callback:function(e){t.$set(t.form.init.data,"name",e)},expression:"form.init.data.name"}})],1):t._e(),void 0!==t.form.init.data.vlanIds?a("a-form-model-item",{attrs:{label:"VLAN ID",prop:"vlanIds"}},[a("a-input",{attrs:{placeholder:"请输入VLAN ID，多个用英文逗号分割",maxLength:64},model:{value:t.form.init.data.vlanIds,callback:function(e){t.$set(t.form.init.data,"vlanIds",e)},expression:"form.init.data.vlanIds"}})],1):t._e(),void 0!==t.form.init.data.bondMode?a("a-form-model-item",{attrs:{label:"模式",prop:"bondMode"}},[a("a-select",{model:{value:t.form.init.data.bondMode,callback:function(e){t.$set(t.form.init.data,"bondMode",e)},expression:"form.init.data.bondMode"}},[a("a-select-option",{attrs:{value:0}},[t._v("轮询均衡模式")]),a("a-select-option",{attrs:{value:1}},[t._v("主备模式")]),a("a-select-option",{attrs:{value:2}},[t._v("HASH均衡模式")]),a("a-select-option",{attrs:{value:3}},[t._v("广播模式")]),a("a-select-option",{attrs:{value:4}},[t._v("动态链接模式")]),a("a-select-option",{attrs:{value:5}},[t._v("发送负载均衡模式")]),a("a-select-option",{attrs:{value:6}},[t._v("收发负载均衡模式")])],1)],1):t._e(),void 0!==t.form.init.data.rawIface?a("a-form-model-item",{attrs:{label:"接口",prop:"rawIface"}},["raw"===t.form.name?a("a-input",{attrs:{disabled:!0,maxLength:28},model:{value:t.form.init.data.rawIface,callback:function(e){t.$set(t.form.init.data,"rawIface",e)},expression:"form.init.data.rawIface"}}):t._e(),~t.form.name.indexOf("vlan")?a("a-select",{attrs:{"show-search":!0,"filter-option":t.filterOption,disabled:"vlanModify"===t.form.name},on:{change:t.vlanInterfaceChange},model:{value:t.form.init.data.rawIface,callback:function(e){t.$set(t.form.init.data,"rawIface",e)},expression:"form.init.data.rawIface"}},t._l(t.ifaceList,(function(e,n){return a("a-select-option",{key:n,attrs:{text:e.name,value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1):t._e(),~t.form.name.indexOf("bond")?a("b-multiple-select",{staticStyle:{width:"100%"},attrs:{disabled:"bondModify"===t.form.name,placeholder:"请选择接口",maxTagCount:1,data:t.mulselectIfaceList},on:{change:t.bondInterfaceChange},model:{value:t.form.init.data.rawIface,callback:function(e){t.$set(t.form.init.data,"rawIface",e)},expression:"form.init.data.rawIface"}}):t._e()],1):t._e(),void 0!==t.form.init.data.mac?a("a-form-model-item",{attrs:{label:"MAC",prop:"mac"}},[a("a-input",{attrs:{disabled:!0,maxLength:255},model:{value:t.form.init.data.mac,callback:function(e){t.$set(t.form.init.data,"mac",e)},expression:"form.init.data.mac"}})],1):t._e(),"raw"==t.form.name&&void 0!==t.form.init.data.gateway?a("a-form-model-item",{attrs:{label:"网关地址",prop:"gateway"}},[a("a-input",{attrs:{maxLength:20,placeholder:"请输入网关地址"},model:{value:t.form.init.data.gateway,callback:function(e){t.$set(t.form.init.data,"gateway",e)},expression:"form.init.data.gateway"}})],1):t._e(),"raw"==t.form.name&&void 0!==t.form.init.data.ips?a("a-form-model-item",{attrs:{label:"IP",prop:"ips",rules:0==t.form.init.data.workType?t.cidrSingle:t.cidr1}},[a("a-textarea",{attrs:{rows:4,placeholder:0==t.form.init.data.workType?"请输入 IP":"请输入 IP/子网掩码，多个用英文逗号分割"},model:{value:t.form.init.data.ips,callback:function(e){t.$set(t.form.init.data,"ips",e)},expression:"form.init.data.ips"}})],1):"bondCreate"!=t.form.name&&"bondModify"!=t.form.name||void 0===t.form.init.data.ips?t._e():a("a-form-model-item",{attrs:{label:"IP",prop:"ips"}},[a("a-textarea",{attrs:{rows:4,placeholder:"请输入 IP/子网掩码，多个用英文逗号分割"},model:{value:t.form.init.data.ips,callback:function(e){t.$set(t.form.init.data,"ips",e)},expression:"form.init.data.ips"}})],1)],1),a("template",{slot:"footer"},["raw"==t.form.name?a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.clickSave1()}}},[t._v(t._s(t.okTitle))]):"state"!==t.form.name&&"rate"!==t.form.name?a("a-button",{attrs:{type:"primary",loading:t.form.init.confirmLoading},on:{click:function(e){return t.clickSave()}}},[t._v(t._s(t.okTitle))]):t._e(),a("a-button",{on:{click:function(e){return t.clickCancel()}}},[t._v(t._s("state"===t.form.name||"rate"===t.form.name?"关闭":"取消"))])],1)],2)],1)],1):t._e()},Ft=[],qt=(a("fb6a"),a("1276"),a("00b4"),a("d81d"),a("2ca0"),a("caad"),a("2532"),a("6062"),a("3ca3"),a("ddb0"),a("a78e")),Wt=a.n(qt),Yt=a("ba79"),Gt=a("6fdc"),Zt=a("52bd"),Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{style:{width:t.width+"px",height:t.height+"px",padding:"10px 20px"}},[a("v-chart",{staticStyle:{width:"100%",height:"100%"},attrs:{option:t.options}})],1)])},Qt=[],Jt=a("ca00"),te={name:"BMultipleLine",props:{unitAttribute:{type:String,default:"kbps"},xData:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){}},width:{type:Number,default:800},height:{type:Number,default:260},smooth:{type:Boolean,default:!1},lineWidth:{type:Number,default:1},color:{type:Array,default:function(){return["#1f79be","#0ab1c5","#9b52d3","#04a0da","#df9457","#4ab677","#5057e0","#db6053","#91a63e","#409b5a","#208380","#6a7eb1","#e64cb5","#7550a3","#aa9401","#91601b"]}}},data:function(){return{rotate:0}},created:function(){},methods:{},computed:{options:function(){var t=this,e=[],a=[];for(var n in this.data)a.push(n),e.push({type:"line",name:n,smooth:t.smooth,lineStyle:{width:t.lineWidth},showSymbol:!0,symbol:"circle",symbolSize:2,emphasis:{focus:"series"},data:this.data[n]});for(var i=[],r=[],o=0;o<a.length;o++)o%2==0?i.push(a[o]):r.push(a[o]);return{color:t.color,tooltip:{trigger:"axis",formatter:function(e){for(var a=e[0].name,n=0,i=e.length;n<i;n++)a+="<br/>"+e[n].seriesName+" : "+Object(Jt["c"])(e[n].value,"".concat(t.unitAttribute));return a},axisPointer:{type:"shadow",label:{backgroundColor:"#6a7985"}}},legend:[{orient:"horizontal",itemWidth:10,itemHeight:10,right:0,top:0,data:i,type:"scroll"},{orient:"horizontal",itemWidth:10,itemHeight:10,right:0,top:"20",data:r,type:"scroll"}],grid:{left:"5%",top:50,right:"8%",bottom:"15%",containLabel:!0},dataZoom:[{type:"inside",start:0,end:100},{start:0,end:100}],xAxis:[{type:"category",data:t.xData,axisTick:{show:!1},axisLine:{show:!0,lineStyle:{opacity:1,color:["#7dbaca"]}},splitLine:{show:!0},axisLabel:{color:"#546d70"}},{type:"category",data:[],axisTick:{show:!1},position:"top",axisLine:{show:!0,onZero:!1,lineStyle:{opacity:1,color:["#7dbaca"]}},splitLine:{show:!0}}],yAxis:[{type:"value",minInterval:1,axisLine:{show:!0,lineStyle:{opacity:1,color:["#7dbaca"]}},axisTick:{show:!1},splitLine:{show:!0},axisLabel:{color:"#546d70",formatter:function(e){return Object(Jt["b"])(e,"".concat(t.unitAttribute))}}},{type:"value",data:[],axisTick:{show:!1},position:"top",axisLine:{show:!0,onZero:!1,lineStyle:{opacity:1,color:["#7dbaca"]}},splitLine:{show:!0}}],series:e}}}},ee=te,ae=Object(H["a"])(ee,Xt,Qt,!1,null,"7b2d0448",null),ne=ae.exports,ie=[{title:"名称",dataIndex:"name"},{title:"接口",children:[{title:"接口",dataIndex:"ifaces"},{title:"接口状态",ellipsis:!0,scopedSlots:{customRender:"ifaceState"}}]},{title:"IP",children:[{title:"IP",dataIndex:"ips"},{title:"生效状态",ellipsis:!0,scopedSlots:{customRender:"ipsWorkState"}}]}],re=[{title:"VLAN ID",dataIndex:"name"},{title:"接口",dataIndex:"ifaces"},{title:"生效状态",ellipsis:!0,scopedSlots:{customRender:"workState"}}],oe=[{title:"名称",dataIndex:"name"},{title:"模式",width:120,ellipsis:!0,scopedSlots:{customRender:"bondMode"}},{title:"接口",dataIndex:"ifaces"},{title:"IP",children:[{title:"IP",dataIndex:"ips"},{title:"生效状态",ellipsis:!0,scopedSlots:{customRender:"ipsWorkState"}}]},{title:"生效状态",ellipsis:!0,scopedSlots:{customRender:"workState"}}],se={name:"BorderDeviceInterfaceDialog",components:{BFixedTable:d["a"],BMultipleSelect:Gt["a"],BMultipleLine:ne},mixins:[c["a"]],comments:{},filters:{convertBondMode:N["f"],convertTime:N["C"]},props:{},data:function(){var t=this,e=function(e,a,n){var i,r=t.ifaceList,o=t.deviceType1,s=!1,c="",l=Object(lt["a"])(a);try{t:for(l.s();!(i=l.n()).done;){var d,u=i.value,p=Object(lt["a"])(r);try{for(p.s();!(d=p.n()).done;){var f=d.value;if(u===f.id)if(1==o){var m=f.rawName;if(""===c)c=m.slice(0,m.length-3);else if(c!==m.slice(0,m.length-3)){s=!0;break t}}else if(2==o){var h=f.name.split("-");if(""===c)c=h[0];else if(c!==h[0]){s=!0;break t}}}}catch(v){p.e(v)}finally{p.f()}}}catch(v){l.e(v)}finally{l.f()}s?n(!0):n()},a=[{message:"隔离设备不能同时选择A机和B机上接口，网关设备不能同时选择不同卡上的接口",trigger:"blur",validator:e}],n=function(t,e,a){var n,i=e.split(","),r=!1,o=Object(lt["a"])(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!/^\d{1,4}$/.test(s)){r=!0;break}if(s=+s,s<0||s>4094){r=!0;break}}}catch(c){o.e(c)}finally{o.f()}r?a(!0):a()},i=[].concat(Object(m["a"])(h["a"].input),[{message:"VLAN ID 范围为：[0, 4094]",trigger:"blur",validator:n}]);return{systemType:"",cidrSingle:h["a"].cidrSingle,cidr1:h["a"].cidr1,zhCN:Zt["default"],unitAttribute:"kbps",table:{},rawColumns:ie,vlanColumns:re,bondColumns:oe,ifaceList:[{id:"",name:"请选择接口"}],mulselectIfaceList:[],deviceType:"",deviceType1:"",rateTitle:"",spinning:!1,operations:{raw:{selectedRowKeys:[],page:1,selectedRows:[],state:!1,loading:!1},vlan:{selectedRowKeys:[],page:1,selectedRows:[],state:!1,loading:!1},bond:{selectedRowKeys:[],page:1,selectedRows:[],state:!1,loading:!1}},form:{state:{title:"状态",width:1450,request:"",show:!0,data:{channelInfoId:"",raw:{data:[],total:0},vlan:{data:[],total:0},bond:{data:[],total:0}},rules:{name:h["a"].name}},rate:{title:"查看速率",width:1040,request:"",show:!0,timeRange:[Y()().subtract(1,"hours"),Y()()],search:{startDate:Y()().subtract(1,"hours").format("YYYY-MM-DD HH:mm:ss"),endDate:Y()().format("YYYY-MM-DD HH:mm:ss")},data:{type:1,data:[],xData:[]},rules:{}},raw:{title:"修改",width:450,request:bt,show:!0,confirmLoading:!1,data:{id:"",channelInfoId:"",name:"",rawIface:"",ifaceType:1,workType:2,ips:"",mac:"",gateway:""},rules:{gateway:h["a"].ip2}},vlanCreate:{title:"新建",width:450,request:wt,show:!0,confirmLoading:!1,data:{id:"",channelInfoId:"",deviceName:"",vlanIds:"",ifaceIds:"",rawIface:"",ifaceType:2,workType:2},rules:{vlanIds:i,rawIface:h["a"].select}},vlanModify:{title:"修改",width:450,request:bt,show:!0,confirmLoading:!1,data:{id:"",channelInfoId:"",vlanIds:"",ifaceIds:"",rawIface:"",ifaceType:2,workType:2},rules:{vlanIds:i}},bondCreate:{title:"新建",width:450,request:wt,show:!0,confirmLoading:!1,data:{id:"",channelInfoId:"",deviceName:"",name:"",bondMode:0,rawIface:[],ifaceIds:"",ifaceType:3,workType:2,ips:""},rules:{name:h["a"].name,ips:h["a"].cidr,rawIface:a}},bondModify:{title:"修改",width:450,request:bt,show:!0,confirmLoading:!1,data:{id:"",channelInfoId:"",name:"",ifaceIds:"",bondMode:0,rawIface:[],ifaceType:3,workType:2,ips:""},rules:{name:h["a"].name,ips:h["a"].cidr,rawIface:a}},delete:{title:"删除",width:420,request:xt,show:!0,confirmLoading:!1,data:{id:""},rules:{}},dispatch:{title:"下发",width:420,request:Nt,show:!0,confirmLoading:!1,data:{id:""},rules:{}},enable:{title:"启用",width:420,request:$t,show:!0,data:{id:"",enable:""},rules:{}},disable:{title:"禁用",width:420,request:$t,show:!0,data:{id:"",enable:""},rules:{}}}}},computed:{rowSelectionRaw:{get:function(){var t=this.operations.raw.selectedRowKeys;return this.operations.raw.state?{selectedRowKeys:t,onChange:this.onSelectChangeRaw,selections:!0}:null},set:function(){if(!this.operations.raw.state)return this.operations.raw.selectedRowKeys=[],null}},rowSelectionVlan:{get:function(){var t=this.operations.vlan.selectedRowKeys;return this.operations.vlan.state?{selectedRowKeys:t,onChange:this.onSelectChangeVlan,selections:!0}:null},set:function(){if(!this.operations.vlan.state)return this.operations.vlan.selectedRowKeys=[],null}},rowSelectionBond:{get:function(){var t=this.operations.bond.selectedRowKeys;return this.operations.bond.state?{selectedRowKeys:t,onChange:this.onSelectChangeBond,selections:!0}:null},set:function(){if(!this.operations.bond.state)return this.operations.bond.selectedRowKeys=[],null}},okTitle:function(){var t={delete:"确定",dispatch:"下发",create:"保存及下发",raw:"保存及下发",enable:"确定&下发",disable:"确定&下发",vlanCreate:"保存及下发",vlanModify:"保存及下发",bondCreate:"保存及下发",bondModify:"保存及下发",modify:"保存及下发"};return t[this.form.name]||"确定"}},watch:{deviceList:function(){var t,e=Object(lt["a"])(this.deviceList);try{for(e.s();!(t=e.n()).done;){var a=t.value;if(a.id===this.form.init.data.channelInfoId){this.deviceType=a.deviceType;break}}}catch(n){e.e(n)}finally{e.f()}}},created:function(){this.systemType=localStorage.getItem("systemType"),this.params&&("rate"===this.state&&this.params.channelInfoId&&this.deviceIfaceRate1(this.params.channelInfoId),this.showDialog(this.state,this.params),this.table=this.item,"state"===this.state&&(this.form.init.data.raw={data:[],total:0},this.form.init.data.vlan={data:[],total:0},this.form.init.data.bond={data:[],total:0}))},methods:{disabledDate:function(t){return t>Y()().endOf("day")},dateChange:function(t){var e=Date.parse(t[0]),a=Date.parse(t[1]);if(a-e>36e5)return this.$message.error("起始时间不得超过1小时"),void(this.form.rate.timeRange=[Y()().subtract(1,"hours"),Y()()]);this.form.rate.timeRange=t,this.params.channelInfoId&&this.deviceIfaceRate1(this.params.channelInfoId)},timestampToTime:function(t){var e=new Date(t),a=e.getHours()+":",n=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",i=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return a+n+i},deviceIfaceRate1:function(t){var e=this;this.spinning=!0,this.rateTitle="";var a={channelInfoId:t||"",startDate:this.form.rate.timeRange[0].format("YYYY-MM-DD HH:mm:ss")||"",endDate:this.form.rate.timeRange[1].format("YYYY-MM-DD HH:mm:ss")||""};this.form.init.data.data=[],this.form.init.data.xData=[],Ht(a).then((function(t){var a=t.data;if(e.spinning=!1,null!=a)if(a.length>0)for(var n=0;n<a.length;n++){var i,r={},o=[],s=Object(lt["a"])(a[n]);try{for(s.s();!(i=s.n()).done;){var c=i.value,l=e.timestampToTime(c.timestamp);-1===o.indexOf(l)&&o.push(l);var d=[];c.ifname in r?d=r[c.ifname]:r[c.ifname]=d,d.push(c.kbpsTotal)}}catch(u){s.e(u)}finally{s.f()}e.form.init.data.data[n]=r,e.form.init.data.xData[n]=o}else e.rateTitle="暂无数据";else e.rateTitle="暂无数据";e.$forceUpdate()})).catch((function(){e.spinning=!1,e.rateTitle="暂无数据"}))},changeType:function(t){var e=this;this.spinning=!0,this.rateTitle="";var a={channelInfoId:this.params.channelInfoId||"",startDate:this.form.rate.timeRange[0].format("YYYY-MM-DD HH:mm:ss")||"",endDate:this.form.rate.timeRange[1].format("YYYY-MM-DD HH:mm:ss")||""};this.form.init.data.data=[],this.form.init.data.xData=[],1==t.target.value?(this.unitAttribute="kbps",Ht(a).then((function(t){var a=t.data;if(e.spinning=!1,null!=a){if(a.length>0)for(var n=0;n<a.length;n++){var i,r={},o=[],s=Object(lt["a"])(a[n]);try{for(s.s();!(i=s.n()).done;){var c=i.value,l=e.timestampToTime(c.timestamp);-1===o.indexOf(l)&&o.push(l);var d=[];c.ifname in r?d=r[c.ifname]:r[c.ifname]=d,d.push(c.kbpsTotal)}}catch(u){s.e(u)}finally{s.f()}e.form.init.data.data[n]=r,e.form.init.data.xData[n]=o}}else e.rateTitle="暂无数据";e.$forceUpdate()})).catch((function(){e.spinning=!1,e.rateTitle="暂无数据"}))):(this.unitAttribute="pps",Ht(a).then((function(t){var a=t.data;if(e.spinning=!1,null!=a)if(a.length>0)for(var n=0;n<a.length;n++){var i,r={},o=[],s=Object(lt["a"])(a[n]);try{for(s.s();!(i=s.n()).done;){var c=i.value,l=e.timestampToTime(c.timestamp);-1===o.indexOf(l)&&o.push(l);var d=[];c.ifname in r?d=r[c.ifname]:r[c.ifname]=d,d.push(c.ppsTotal)}}catch(u){s.e(u)}finally{s.f()}e.form.init.data.data[n]=r,e.form.init.data.xData[n]=o}else e.rateTitle="暂无数据";e.$forceUpdate()})).catch((function(){e.spinning=!1,e.rateTitle="暂无数据"})))},startRaw:function(){var t=this;this.operations.raw.loading=!0;var e={ids:[]},a="";this.operations.raw.selectedRows.map((function(t){t.map((function(t){e.ids.push(t.id)}))})),a=e.ids.join(","),jt(a).then((function(){var e;t.$message.success("下发成功！"),t.operations.raw.loading=!1,t.operations.raw.selectedRowKeys=[],t.operations.raw.state&&(e=!0),t.rawInterfaceTableParamChanged({rootData:t.form.init.data.raw,page:1,invalid:e||""})}))},onSelectChangeRaw:function(t,e){this.operations.raw.selectedRowKeys=t,this.operations.raw.selectedRows[this.operations.raw.page]=e},onChangeRaw:function(){this.operations.raw.state=!this.operations.raw.state,this.operations.raw.selectedRowKeys=[];var t=!1;this.operations.raw.state&&(t=!0),this.rawInterfaceTableParamChanged({rootData:this.form.init.data.raw,page:1,invalid:t||""})},startVlan:function(){var t=this;this.operations.vlan.loading=!0;var e={ids:[]},a="";this.operations.vlan.selectedRows.map((function(t){t.map((function(t){e.ids.push(t.id)}))})),a=e.ids.join(","),jt(a).then((function(){var e;t.$message.success("下发成功！"),t.operations.vlan.loading=!1,t.operations.vlan.selectedRowKeys=[],t.operations.vlan.state&&(e=!0),t.vlanInterfaceTableParamChanged({rootData:t.form.init.data.vlan,page:1,invalid:e||""})}))},onSelectChangeVlan:function(t,e){this.operations.vlan.selectedRowKeys=t,this.operations.vlan.selectedRows[this.operations.vlan.page]=e},onChangeVlan:function(){var t;this.operations.vlan.state=!this.operations.vlan.state,this.operations.vlan.selectedRowKeys=[],this.operations.vlan.state&&(t=!0),this.vlanInterfaceTableParamChanged({rootData:this.form.init.data.vlan,page:1,invalid:t||""})},startBond:function(){var t=this;this.operations.bond.loading=!0;var e={ids:[]},a="";this.operations.bond.selectedRows.map((function(t){t.map((function(t){e.ids.push(t.id)}))})),a=e.ids.join(","),jt(a).then((function(){var e;t.$message.success("下发成功！"),t.operations.bond.loading=!1,t.operations.bond.selectedRowKeys=[],t.operations.bond.state&&(e=!0),t.bondInterfaceTableParamChanged({rootData:t.form.init.data.bond,page:1,invalid:e||""})}))},onSelectChangeBond:function(t,e){this.operations.bond.selectedRowKeys=t,this.operations.bond.selectedRows[this.operations.bond.page]=e},onChangeBond:function(){var t;this.operations.bond.state=!this.operations.bond.state,this.operations.bond.selectedRowKeys=[],this.operations.bond.state&&(t=!0),this.bondInterfaceTableParamChanged({rootData:this.form.init.data.bond,page:1,invalid:t||""})},convertWorkStateHtml:N["J"],convertInterfaceStateHtml:N["q"],deviceChange:function(t,e){var a=e.data,n=a.key,i=this.deviceList[n];this.deviceType=i.deviceType},vlanInterfaceChange:function(t,e){var a=e.data;a.attrs.text.startsWith("A-")?this.form.init.data.workType=3:a.attrs.text.startsWith("B-")?this.form.init.data.workType=4:this.form.init.data.workType=2},bondInterfaceChange:function(t,e,a){if(e.length>0){var n=a?e[0].name:e[0].data.attrs.text;n.startsWith("A-")?this.form.init.data.workType=3:n.startsWith("B-")?this.form.init.data.workType=4:this.form.init.data.workType=2}"deselectAll"===a&&(this.form.init.data.workType=2)},close:function(){this.form.init.show=!1},update:function(){this.table&&this.parent.updateItemInterfaceList(this.table)},beforeShowDialog:function(t,e){e.data.ifaceType&&this.updateBorderDeviceIfaceList(e.data.id,e.data.channelInfoId,e.data.ifaceType),this.form.name&&(-1!==this.form.name.indexOf("bond")&&e.data.ifaceIds?e.data.rawIface=(e.data.ifaceIds||"").split(",").map((function(t){return+t})):-1!==this.form.name.indexOf("vlan")&&e.data.ifaceIds&&(e.data.rawIface=+e.data.ifaceIds))},clickSave1:function(){var t=this,e=g["a"].PUT;t.$refs["form"].validate((function(a){if(0!=t.form.init.data.workType&&""!=t.form.init.data.ips){var n=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;if(t.form.init.data.ips.includes(",",0)){var i=t.form.init.data.ips.split(","),r=new Set;i.forEach((function(t){r.add(t)})),i.length>8||r.size!==i.length?a=!1:i.forEach((function(t){if(t.includes("/",0)){var e=t.split("/"),i=e.length;n.test(e[0])||(a=!1);var r=e[1],o=/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/;o.test(r)||(a=!1),2===i&&(1>r||r>32)&&(a=!1)}else a=!1}))}else if(t.form.init.data.ips.includes("/",0)){var o=t.form.init.data.ips.split("/"),s=o.length;n.test(o[0])||(a=!1);var c=o[1],l=/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/;l.test(c)||(a=!1),2===s&&(1>c||c>32)&&(a=!1)}else a=!1;0==a&&t.$message.error("IP/子网掩码输入有误,个数不超过8个,不得重复")}a&&Object(g["b"])("device/border-device-net-iface",e,t.form.init.data).then((function(e){0==e.workType&&"device"==t.systemType&&Wt.a.remove(Yt["c"]),t.clickCancel(),t.update()}))}))},beforeSave:function(t){if(-1===this.form.name.indexOf("vlan")&&-1===this.form.name.indexOf("bond")||(2===t.ifaceType?(t.ifaceIds=t.rawIface,t.rawIface=null):3===t.ifaceType&&(t.ifaceIds=t.rawIface.join(","),t.rawIface=null)),"raw"==this.form.name){if(0!=this.form.init.data.workType&&""!=t.ips){var e="",a=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;if(t.ips.includes(",",0)){var n=t.ips.split(",");n.length>8?e=!0:n.forEach((function(t){if(t.includes("/",0)){var n=t.split("/"),i=n.length;a.test(n[0])||(e=!0);var r=n[1],o=/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/;o.test(r)||(e=!0),2===i&&(1>r||r>32)&&(e=!0)}else e=!0}))}else if(t.ips.includes("/",0)){var i=t.ips.split("/"),r=i.length;a.test(i[0])||(e=!0);var o=i[1],s=/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/;s.test(o)||(e=!0),2===r&&(1>o||o>32)&&(e=!0)}else e=!0;return e&&this.$message.error("IP/子网掩码输入有误,个数不超过8个"),e}}else if("bondCreate"==this.form.name||"bondModify"==this.form.name){var c="";if(t.ips.includes(",",0)){var l=t.ips.split(","),d=new Set;l.forEach((function(t){d.add(t)})),(l.length>8||d.size!==l.length)&&(c=!0,this.$message.error("IP/子网掩码个数不超过8个。且不得重复"))}return""!=t.ifaceIds&&null!=t.ifaceIds||(c=!0,this.$message.error("请先选择接口")),c}},updateBorderDeviceIfaceList:function(t,e,a){var n=this;Ct(t,e,a).then((function(t){var e=t.data;e&&e[0]&&e[0].type&&(n.deviceType1=e[0].type),n.mulselectIfaceList=Object(m["a"])(e.map((function(t){return{id:t.id,name:t.name||t.rawIface,rawName:t.rawName}}))),n.ifaceList=[{id:"",name:"请选择接口",rawName:""}].concat(Object(m["a"])(n.mulselectIfaceList))}))},rawInterfaceTableParamChanged:function(t){this.operations.raw.page=t.page,t.rootData.page=t.page,t.rootData.invalid=t.invalid,this.operations.raw.state&&(t.rootData.invalid=!0),this.updateInterfaceList(It,t.rootData)},vlanInterfaceTableParamChanged:function(t){this.operations.vlan.page=t.page,t.rootData.page=t.page,t.rootData.invalid=t.invalid,this.operations.vlan.state&&(t.rootData.invalid=!0),this.updateInterfaceList(Rt,t.rootData)},bondInterfaceTableParamChanged:function(t){this.operations.bond.page=t.page,t.rootData.page=t.page,t.rootData.invalid=t.invalid,this.operations.bond.state&&(t.rootData.invalid=!0),this.updateInterfaceList(Dt,t.rootData)},updateInterfaceList:function(t,e){var a=8;"page"in e||(e.page=1);var n=e.page,i=e.invalid;t(this.form.init.data.channelInfoId,n,a,i).then((function(t){var a=t.data;a&&(e.data=a.rows,e.total=a.total)}))}}},ce=se,le=(a("3b18"),a("ebd8"),Object(H["a"])(ce,Kt,Ft,!1,null,"37243c86",null)),de=le.exports,ue=new u["a"](de),pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{style:t.containerStyle},[a("v-chart",{ref:"chart",staticStyle:{width:"100%",height:"100%"},attrs:{option:t.options,autoresize:""}})],1)])},fe=[],me=["#07776c","#04d0bc","#ff6b22","#ffd906"],he={name:"BInterfaceLayout",props:{data:{type:[Array,Object],default:function(){return{}}},width:{type:[Number,String],default:340},height:{type:[Number,String],default:130}},data:function(){return{rowNum:0,colNum:0,type:1}},computed:{containerStyle:function(){return{width:"string"===typeof this.width?this.width:"".concat(this.width,"px"),height:"string"===typeof this.height?this.height:"".concat(this.height,"px"),border:"2px solid #7abbcc"}},options:function(){return{color:me,textStyle:{color:"#fff"},tooltip:{trigger:"item",formatter:function(t){return"".concat(t.data.name,"<br/>").concat(t.data.mac)}},backgroundColor:"#f5f7f8",xAxis:{show:!1},yAxis:{show:!1},series:[{type:"custom",renderItem:this.renderItem,data:this.data}]}}},watch:{data:{handler:"updateRowCol",immediate:!0,deep:!0}},mounted:function(){window.addEventListener("resize",this.refresh),this.determineType()},beforeDestroy:function(){window.removeEventListener("resize",this.refresh)},methods:{refresh:function(){var t=this;setTimeout((function(){t.$forceUpdate()}),10)},determineType:function(){this.type=this.data.some((function(t){return[3,4].includes(t.type)}))?2:1},updateRowCol:function(){var t=0,e=0,a=1;this.data.forEach((function(n){[2,3,4,5].includes(n.type)&&(n.index=a++),n.row>t&&(t=n.row),n.column>e&&(e=n.column)})),this.rowNum=t,this.colNum=e},getImagePath:function(t){var e=t.type,a=t.status,n=t.row,i=t.ifType,r="/static/img/iface/admin.png";return 0===e||1===e?2===a&&(r="/static/img/iface/admin1.png"):2===e?r=4===i?2===a?"/static/img/iface/business4.png":"/static/img/iface/business3.png":n%2===0?2===a?"/static/img/iface/business2.png":"/static/img/iface/business-r.png":2===a?"/static/img/iface/business1.png":"/static/img/iface/business.png":3===e||4===e?2===a&&(r="/static/img/iface/business1.png"):5===e&&(r="/static/img/iface/none.png"),r},renderItem:function(t,e){var a=t.dataIndex,n=this.data[a],i=n.column,r=n.row,o=n.info,s=this.$refs.chart.getHeight(),c=this.$refs.chart.getWidth(),l=Math.min(c/(this.colNum+3),s/this.rowNum,60),d=(s-l*this.rowNum)/2,u=(c-l*(this.colNum+3))/2,p=u+i*l*1.6,f=d+(r-1)*l;return{type:"group",children:[{type:"image",style:{image:this.getImagePath(n),x:p,y:f,width:l,height:l}},{type:"text",style:{text:o||" ",textFont:e.font({fontSize:12}),x:p,y:f+1.2*l}}]}}}},ve=he,ge=(a("e233"),Object(H["a"])(ve,pe,fe,!1,null,"1221bc7c",null)),be=(ge.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{style:{width:"string"===typeof t.width?t.width:t.width+"px",height:"string"===typeof t.height?t.height:t.height+"px",border:"2px solid #7abbcc"}},[a("v-chart",{ref:"chart",staticStyle:{width:"100%",height:"100%"},attrs:{option:t.options,autoresize:""}})],1)])}),ye=[],we=["#07776c","#04d0bc","#ff6b22","#ffd906"],ke={name:"BInterfaceLayout",props:{data:{type:[Array,Object],default:function(){}},width:{type:[Number,String],default:340},height:{type:[Number,String],default:130}},data:function(){return{rowNum:0,colNum:0,type:1}},mounted:function(){window.addEventListener("resize",this.refresh);var t,e=Object(lt["a"])(this.data);try{for(e.s();!(t=e.n()).done;){var a=t.value;if(3===a.type||4===a.type){this.type=2;break}}}catch(n){e.e(n)}finally{e.f()}},methods:{refresh:function(){var t=this;setTimeout((function(){t.$forceUpdate()}),10)},updateRowCol:function(){var t,e=1,a=Object(lt["a"])(this.data);try{for(a.s();!(t=a.n()).done;){var n=t.value;~[2,3,4,5].indexOf(n.type)&&(n.index=e++),this.rowNum<n.row&&(this.rowNum=n.row),this.colNum<n.column&&(this.colNum=n.column)}}catch(i){a.e(i)}finally{a.f()}}},computed:{options:function(){var t=this;return{color:we,textStyle:{color:"#fff"},tooltip:{trigger:"item",formatter:function(t){return"".concat(t.data.name,"<br/>").concat(t.data.mac)}},backgroundColor:"#f5f7f8",xAxis:{show:!1},yAxis:{show:!1},series:[{type:"custom",renderItem:function(e,a){t.updateRowCol();var n=t.$refs.chart.getHeight(),i=t.$refs.chart.getWidth(),r=e.dataIndex,o=t.data[r],s=o.type,c=o.status,l=o.column,d=o.row,u=o.info,p=t.colNum+3,f=t.rowNum,m=[];if(u.includes("(")){var h=u.indexOf("(");m=[u.substring(0,h),u.substring(h)]}else m=[u];var v=~~(.8*n/f),g=~~(.8*i/p),b=Math.min(g,v);b=b>60?60:b;var y=(n-b*f)/2,w=(i-b*p)/2,k="/static/img/iface/admin_1.png",x=l*b;0===s||1===s?2===c&&(k="/static/img/iface/admin1_1.png"):2===s?(k="/static/img/iface/business_1.png",2===c&&d%2!==0&&(k="/static/img/iface/business1_1.png"),d%2===0&&(k="/static/img/iface/business-r_1.png",2===c&&(k="/static/img/iface/business2_1.png"))):3===s||4===s?(k="/static/img/iface/business_1.png",2===c&&(k="/static/img/iface/business1_1.png")):5===s&&(k="/static/img/iface/none.png",t.type),null==u&&(u=" ");u.length;return{type:"group",children:[{type:"image",style:{image:k,x:w+x,y:y+(d-1)*b,width:b,height:b}},{type:"text",style:{text:"".concat(m[0],"\n").concat(m[1]||""),textFont:a.font({fontSize:11}),x:w+x+b/2,y:y+(d-.45)*b,textAlign:"center",textVerticalAlign:"middle",lineHeight:12}}]}},data:t.data}]}}},destroyed:function(){window.removeEventListener("resize",this.refresh)}},xe=ke,_e=Object(H["a"])(xe,be,ye,!1,null,"8836f3fe",null),Ce=_e.exports,Se=[{title:"名称",dataIndex:"name"},{title:"接口",ellipsis:!0,scopedSlots:{customRender:"rawIface"}},{title:"接口类型",width:"24%",ellipsis:!0,scopedSlots:{customRender:"workType"}},{title:"IP",dataIndex:"ips"},{title:"网关地址",dataIndex:"gateway"},{title:"操作",width:"30%",scopedSlots:{customRender:"operations"}}],Ie=[{title:"VLAN ID",width:"24%",dataIndex:"vlanIds"},{title:"接口",dataIndex:"ifaces"},{title:"数据状态",width:"24%",ellipsis:!0,scopedSlots:{customRender:"deleting"}},{title:"操作",width:"30%",scopedSlots:{customRender:"operations"}}],Te=[{title:"名称",width:80,dataIndex:"name"},{title:"接口",dataIndex:"ifaces"},{title:"IP",width:120,dataIndex:"ips"},{title:"数据状态",width:80,ellipsis:!0,scopedSlots:{customRender:"deleting"}},{title:"操作",width:"30%",scopedSlots:{customRender:"operations"}}],Re={name:"BorderDeviceBasic",components:{BInterfaceLayout1:Ce,BFixedTable:d["a"]},mixins:[c["a"]],comments:{},props:{},data:function(){return{readOnly:!1,spinning:!1,select:h["a"].select,input:h["a"].input,format5:h["a"].format5,format6:h["a"].format6,columns:[],tableList:dt,dialog:ue,getRecord:"",deviceList:[],interfaceList:[],popContainer:null,search:{deviceId:""},rawColumns:Se,vlanColumns:Ie,bondColumns:Te,loading:!1,table:{data:[],total:0}}},filters:{convertExecParam:function(t){var e="".concat(t.params);return e}},created:function(){this.getDeviceInfo()},watch:{$route:function(t,e){var a=this;e.path!==t.path&&this.$nextTick((function(){a.dialog&&a.dialog.close()}))}},mounted:function(){this.popContainer=document.querySelector("#popContainer")},methods:{getDeviceInfo:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g["b"])("device/device-info/all",g["a"].GET);case 3:a=e.sent,t.deviceList=a||[],t.deviceList&&t.deviceList.length>0?t.search.deviceId=t.deviceList[0].id||"":t.search.deviceId="",t.clickSearch(),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),t.deviceList=[],t.search.deviceId="";case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},convertRawIface:function(t){return 3===t.workType?"A-".concat(t.rawIface):4===t.workType?"B-".concat(t.rawIface):t.rawIface},update:function(t,e){var a=this;this.page=t||this.page,this.tableList(this.page,2,this.searchParams).then((function(n){var i,r=n.data;t||e?(i=a.table.data).push.apply(i,Object(m["a"])(r.rows)):a.table.data=r.rows;a.table.total=r.total;var o,s=Object(lt["a"])(r.rows);try{for(s.s();!(o=s.n()).done;){var c=o.value;a.updateItemInterfaceList(c)}}catch(l){s.e(l)}finally{s.f()}a.changeNetworkInterfaceStyle()}))},updateItemInterfaceList:function(t){zt(t.channelInfoId).then((function(e){var a=e.data;t.layout=a})),this.updateInterfaceList(pt,t.channelInfoId,t.raw)},updateInterfaceList:function(t,e,a){var n=4;a&&!("page"in a)&&(a.page=1);var i=a.page;setTimeout((function(){t(i,n,e).then((function(t){var e=t.data;e?(a.data=e.rows,a.total=e.total):(a.data=[],a.total=0)}))}),Math.ceil(500*Math.random()))},rawInterfaceTableParamChanged:function(t){t.rootData.raw.page=t.page,this.updateInterfaceList(pt,t.rootData.channelInfoId,t.rootData.raw)},vlanInterfaceTableParamChanged:function(t){t.rootData.vlan.page=t.page,this.updateInterfaceList(mt,t.rootData.channelInfoId,t.rootData.vlan)},bondInterfaceTableParamChanged:function(t){t.rootData.bond.page=t.page,this.updateInterfaceList(vt,t.rootData.channelInfoId,t.rootData.bond)},updateBorderDeviceTopIface:function(t){var e=this;Bt({id:t}).then((function(t){var a=t.data;e.interfaceList=a}))},beforeClickSearch:function(){this.table.data=[],this.table.total=0},afterClearSearchParams:function(){this.beforeClickSearch()},scrollLoad:function(t){var e=t.target,a=e.scrollHeight-e.scrollTop,n=this.popContainer.clientHeight;a===n&&this.table.data.length<this.table.total&&(this.page++,this.update(this.page,1))},loadMoreInterface:function(){this.table.data.length<this.table.total&&(this.page++,this.update(this.page))},interfaceUp:function(t){this.dialog.open({state:"enable",parent:this,params:{id:t,enable:!0}})},interfaceDown:function(t){this.dialog.open({state:"disable",parent:this,params:{id:t,enable:!1}})},borderDeviceDispatch:function(t){this.dialog.open({state:"dispatch",parent:this,params:{id:t}})},interfaceModify:function(t,e,a){this.dialog.open({state:e,parent:this,params:t,item:a})},interfaceCreate:function(t,e,a,n){this.dialog.open({state:a,title:"新建",parent:this,params:{channelInfoId:t,deviceName:e},item:n})},interfaceState:function(t){this.dialog.open({state:"state",parent:this,params:{channelInfoId:t}})},viewRate:function(t){this.dialog.open({state:"rate",parent:this,params:{channelInfoId:t}})},getDeviceName:function(t,e){var a,n=[],i=Object(lt["a"])(t);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.deviceType===e&&n.push(r.deviceName)}}catch(o){i.e(o)}finally{i.f()}return 0===n.length?"-":n.join(",")},changeNetworkInterfaceStyle:function(){var t=this;this.$nextTick((function(){t.modifyStyleByClass(t.$refs.interface,"ant-table",{"font-size":"12px"}),t.modifyStyleByClass(t.$refs.interface,"ant-table-thead",{"background-color":"#53a5ba",color:"#fff"}),t.modifyStyleByClass(t.$refs.interface,"ant-table-column-title",{color:"#fff"})}))}},destroyed:function(){},beforeDestroy:function(){this.dialog&&this.dialog.close()}},Oe=Re,De=(a("3319"),Object(H["a"])(Oe,st,ct,!1,null,"6c7861a6",null)),Le=De.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{staticClass:"container"},[a("div",{staticClass:"search"},[a("div",{staticClass:"title"},[t._v("查询条件")]),a("div",{ref:"search",staticClass:"content"},[a("span",[t._v("关键字:")]),[1!=t.dmsType?a("span",{staticClass:"inner",staticStyle:{width:"200px"}},[a("b-cascader",{ref:"cascaderRef",attrs:{"show-all-channels":!0,"clear-on-init":!0},on:{change:t.cascaderHandler}})],1):t._e(),a("span",{staticClass:"inner"},[a("a-input",{staticClass:"i-width",attrs:{maxLength:64,placeholder:"请输入关键字"},on:{pressEnter:t.clickSearch},model:{value:t.search.search,callback:function(e){t.$set(t.search,"search",e)},expression:"search.search"}})],1),a("span",{staticClass:"outer"},[a("a-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("查询")])],1),a("span",{staticClass:"outer"},[a("a-button",{staticClass:"button",on:{click:t.resetSearch1}},[t._v("重置")])],1)]],2)]),a("div",{staticClass:"body"},[a("a-spin",{attrs:{spinning:t.spinning,tip:"正在导入数据，请稍等！"}},[a("div",{staticClass:"buttons"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.borderDeviceCreate}},[t._v("新建")]),a("a-button",{attrs:{type:"primary",icon:"cloud-download"},on:{click:function(e){return t.importData(t.templateUrl)}}},[t._v("下载模板")]),a("a-upload",{attrs:{name:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",action:""+t.BASE_URL+t.importDataUrl,"show-upload-list":!1},on:{change:t.handleImportChange}},[a("a-button",{attrs:{type:"primary",icon:"import"}},[t._v("批量导入")])],1),a("a-button",{attrs:{type:"primary",icon:"export"},on:{click:function(e){return t.exportData(t.exportDataUrl)}}},[t._v("批量导出")]),a("a-button",{attrs:{type:"primary",icon:"export"},on:{click:t.batchDispatch}},[t._v("批量下发")]),a("a-button",{attrs:{type:"primary",icon:"export"},on:{click:t.batchRemove}},[t._v("批量移除")]),a("a-button",{attrs:{type:"primary",icon:"delete"},on:{click:t.batchDelete}},[t._v("批量删除")]),a("a-button",{attrs:{type:"primary",icon:"sync"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("刷新")])],1),a("div",{staticClass:"title"},[t._v('"查询结果"')]),a("a-row",{staticClass:"table"},[a("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[a("span",{staticStyle:{position:"absolute",top:"-25px",left:"12px",color:"#c8c8c8"}},[t.operations.selectedRowKeys.length>0?[t._v(t._s("已选中 "+t.operations.selectedRowKeys.length+" 项"))]:t._e()],2),a("b-fixed-table",{attrs:{columns:t.columns,rowKey:"id","row-selection":t.rowSelection,data:t.table.data,total:t.table.total,"table-height":550,loading:t.loading,"init-page":t.page,size:"default"},on:{change:t.tableParamChanged},scopedSlots:t._u([{key:"runningState",fn:function(e){var n=e.record;return[a("span",[t._v(t._s(t._f("convertRunningState")(n.runningState)))])]}},{key:"workState",fn:function(e){var n=e.record;return[a("span",{domProps:{innerHTML:t._s(t.convertWorkStateHtml(n.workState))}})]}},{key:"ipMacWorkState",fn:function(e){var n=e.record;return[a("span",{staticClass:"oper-margin oper"},[a("span",{on:{click:function(e){return t.viewLog(n.id)}}},[t._v("查看")])])]}},{key:"deleting",fn:function(e){var n=e.record;return[0==n.deleting?a("span",{staticStyle:{color:"#47b596"}},[t._v("正常")]):a("span",{staticClass:"oper red"},[t._v("删除中")])]}},{key:"operations",fn:function(e){var n=e.record;return[t.readOnly?t._e():a("span",[a("span",{staticClass:"oper",on:{click:function(e){return t.borderDeviceDispatch(n.id)}}},[t._v("下发")])]),t.readOnly?t._e():a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.borderDeviceRemove(n.id)}}},[t._v("移除")])]),t.readOnly?t._e():a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.borderDeviceModify(n)}}},[t._v("修改")])]),t.readOnly?t._e():a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper red",on:{click:function(e){return t.borderDeviceDelete(n)}}},[t._v("删除")])])]}}])})],1)],1)],1)],1)])],1)},Ae=[],$e=(a("e9c4"),a("c8f0")),Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.form.init.show?a("div",[a("a-modal",{attrs:{closable:!0,title:t.form.init.title,width:t.form.init.width,"mask-closable":!1,footer:"import"===t.form.name||"batchDelete"===t.form.name||"batchDispatch"===t.form.name||"batchRemove"===t.form.name?null:void 0},model:{value:t.form.init.show,callback:function(e){t.$set(t.form.init,"show",e)},expression:"form.init.show"}},["delete"===t.form.name?a("div",[t._v("确定删除？")]):"import"===t.form.name||"batchDelete"===t.form.name||"batchDispatch"===t.form.name||"batchRemove"===t.form.name?a("div",[a("div",{staticStyle:{height:"50px","line-height":"50px","font-size":"16px",color:"#0ab1c5"}},[a("span",[t._v(t._s(t.form.init.data.msg))])]),a("a-table",{attrs:{pagination:{pageSize:20,size:"small"},rowKey:"number",columns:t.importColumns,"data-source":t.form.init.data.rows}})],1):"dispatch"===t.form.name?a("div",[t._v("确定下发？")]):"remove"===t.form.name?a("div",[t._v("确定移除？")]):"detail"===t.form.name?a("div",[a("table",{staticStyle:{width:"100%"}},t._l(t.form.init.data.info,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n))]),a("td",[t._v(t._s(e))])])})),0)]):a("a-form-model",{ref:"form",attrs:{model:t.form.init.data,rules:t.form.init.rules,"label-col":{span:t.form.init.labelSpan||8},"wrapper-col":{span:t.form.init.wrapperSpan||16}}},[void 0!==t.form.init.data.deviceId&&1!=t.dmsType?a("a-form-model-item",{attrs:{label:"设备名称",prop:"deviceId"}},[a("a-cascader",{ref:"cascaderRef",staticStyle:{width:"100%"},attrs:{options:t.options,placeholder:"请选择设备与通道","field-names":{label:"name",value:"id",children:"children"},disabled:"modify"===t.form.name,"allow-clear":""},on:{change:t.handleCascaderChange},model:{value:t.cascaderValue,callback:function(e){t.cascaderValue=e},expression:"cascaderValue"}})],1):t._e(),void 0!==t.form.init.data.destinationIp?a("a-form-model-item",{attrs:{label:"目的地址",prop:"destinationIp"}},[a("a-input",{attrs:{disabled:"modify"===t.form.name,placeholder:"CIDR地址ip/网络前缀所占位数",maxLength:20},model:{value:t.form.init.data.destinationIp,callback:function(e){t.$set(t.form.init.data,"destinationIp",e)},expression:"form.init.data.destinationIp"}})],1):t._e(),void 0!==t.form.init.data.gateway?a("a-form-model-item",{attrs:{label:"网关地址",prop:"gateway"}},[a("a-input",{attrs:{placeholder:"请输入网关地址",maxLength:28},model:{value:t.form.init.data.gateway,callback:function(e){t.$set(t.form.init.data,"gateway",e)},expression:"form.init.data.gateway"}})],1):t._e()],1),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary",loading:t.form.init.confirmLoading},on:{click:function(e){return t.clickSave()}}},[t._v(t._s("create"===t.form.name||"modify"===t.form.name?"保存及下发":"确定"))]),a("a-button",{on:{click:function(e){return t.clickCancel()}}},[t._v("取消")])],1)],2)],1):t._e()},Ne=[],Pe={name:"BorderDeviceRouterDialog",components:{},mixins:[c["a"]],data:function(){return{locale:$["a"],deviceList:[{id:"",name:"请选择设备"}],channelList:[{id:"",name:"请选择通道"}],form:{create:{title:"新建",width:470,request:$e["e"],show:!0,confirmLoading:!1,data:{id:"",deviceType:"",deviceId:"",channelInfoId:"",destinationIp:"",gateway:"",outIfaceId:"",workArea:"",routerTableId:""},rules:{deviceId:h["a"].select,channelInfoId:h["a"].select,destinationIp:h["a"].cidrSingle1,gateway:h["a"].ip1,workArea:h["a"].select}},modify:{title:"修改",width:470,request:$e["i"],show:!0,confirmLoading:!1,data:{id:"",deviceType:"",deviceId:"",channelInfoId:"",deviceName:"",destinationIp:"",gateway:"",outIfaceId:"",workArea:"",routerTableId:""},rules:{channelInfoId:h["a"].select,destinationIp:h["a"].cidrSingle1,gateway:h["a"].ip1,workArea:h["a"].select}},delete:{title:"删除",width:420,isDelete:!0,request:$e["f"],show:!0,confirmLoading:!1,data:{id:""},rules:{}},batchDelete:{title:"批量删除",width:700,show:!0,data:{msg:"",rows:[]},rules:{}},dispatch:{title:"下发",width:420,isDelete:!0,request:$e["g"],show:!0,confirmLoading:!1,data:{id:""},rules:{}},remove:{title:"移除",width:420,isDelete:!0,request:$e["j"],show:!0,confirmLoading:!1,data:{id:""},rules:{}},batchDispatch:{title:"批量下发",width:700,show:!0,data:{msg:"",rows:[]},rules:{}},batchRemove:{title:"批量移除",width:700,show:!0,data:{msg:"",rows:[]},rules:{}},import:{title:"导入",width:700,show:!0,data:{msg:"",rows:[]},rules:{}}}}},watch:{},created:function(){this.showDialog(this.state,this.params),"create"!==this.state&&"modify"!==this.state||this.loadCascaderData()},methods:{beforeShowDialog:function(t,e){var a=this;"modify"===t?(this.form.init.data=Object(s["a"])({},e.data),this.$nextTick((function(){a.setCascaderEchoValue()}))):"create"===t&&(this.cascaderValue=[])},beforeSave:function(t){},close:function(){this.form.init.show=!1},update:function(){this.parent.update()}}},Be=Pe,Me=Object(H["a"])(Be,Ee,Ne,!1,null,"69e6aa0d",null),ze=Me.exports,Ve=new u["a"](ze),He=a("10d2"),Ue="device",Ke="template/border-device-router1.xlsx",Fe="template/border-device-router2.xlsx",qe=[{title:"设备名称",dataIndex:"deviceName"},{title:"目的地址",dataIndex:"destinationIp"},{title:"网关地址",dataIndex:"gateway"},{title:"状态",ellipsis:!0,scopedSlots:{customRender:"workState"}},{title:"数据状态",ellipsis:!0,scopedSlots:{customRender:"deleting"}},{title:"操作",scopedSlots:{customRender:"operations"}}],We={name:"BorderDeviceBasic",components:{BFixedTable:d["a"],BCascader:He["a"]},mixins:[c["a"]],comments:{},props:{},data:function(){return{readOnly:!1,systemType:"",spinning:!1,select:h["a"].select,input:h["a"].input,format5:h["a"].format5,format6:h["a"].format6,columns:qe,tableList:$e["h"],dialog:Ve,batchDeleteUrl:$e["b"],batchDispatchUrl:$e["c"],batchRemoveUrl:$e["d"],getRecord:"",templateUrl:"",importDataUrl:"".concat(Ue,"/border-device-router/import-data"),exportDataUrl:"".concat(Ue,"/border-device-router/export-data"),deviceList:[],search:{deviceId:"",channelInfoId:""},popContainer:null,loading:!1,table:{data:[],total:0}}},filters:{convertRunningState:N["w"],convertWorkState:N["H"],convertWorkStateHtml:N["J"]},created:function(){this.systemType=localStorage.getItem("systemType")},watch:{$route:function(t,e){var a=this;e.path!==t.path&&this.$nextTick((function(){a.dialog&&a.dialog.close()}))}},mounted:function(){this.popContainer=document.querySelector("#popContainer");var t=this.detectDeviceType();this.templateUrl=t?Ke:Fe},methods:{handleImportChange:function(t){this.spinning=!0,"done"==t.file.status&&t.file.response.state&&("SUCCESS"==t.file.response.state&&(t.file.response.data.rows.length>0?(this.spinning=!1,this.dialog.open({state:"import",params:t.file.response.data,parent:this}),this.clickSearch()):(this.$message.success(t.file.response.data.msg),this.spinning=!1,this.clickSearch())),"FAIL"==t.file.response.state&&(this.$message.error(t.file.response.msg),this.spinning=!1,this.clickSearch()))},convertWorkStateHtml:N["J"],cascaderHandler:function(t){this.search.deviceId=t[0],this.search.channelInfoId=t[1]},resetSearch1:function(){this.$refs.cascaderRef&&this.$refs.cascaderRef.resetSelection(),this.search={deviceId:"",channelInfoId:"",search:""},this.clickSearch()},batchDispatch:function(){var t=this,e="".concat(this.operations.selectedRowKeys)||"";if(!e)return this.$message.warn("请选择需要批量下发的项！");t.$confirm({content:"确认批量下发吗？",okText:"确认",cancelText:"取消",onOk:function(){t.batchDispatchUrl({ids:e}).then((function(e){var a=e.data,n=e.state,i=e.msg;"SUCCESS"==n?(a.rows.length>0?t.dialog.open({state:"batchDispatch",params:a,parent:t}):t.$message.success("批量下发成功！"),t.update(1)):t.$message.error(i)}))},onCancel:function(){}})},batchRemove:function(){var t=this,e="".concat(this.operations.selectedRowKeys)||"";if(!e)return this.$message.warn("请选择需要批量移除的项！");t.$confirm({content:"确认批量移除吗？",okText:"确认",cancelText:"取消",onOk:function(){t.batchRemoveUrl({ids:e}).then((function(e){var a=e.data,n=e.state,i=e.msg;"SUCCESS"==n?(a.rows.length>0?t.dialog.open({state:"batchRemove",params:a,parent:t}):t.$message.success("批量移除成功！"),t.update(1)):t.$message.error(i)}))},onCancel:function(){}})},batchDelete:function(){var t=this,e="".concat(t.operations.selectedRowKeys)||"";if(!e)return t.$message.warn("请选择需要批量删除的项！");t.$confirm({content:"确认批量删除吗？",okText:"确认",cancelText:"取消",onOk:function(){t.batchDeleteUrl({ids:e}).then((function(e){var a=e.data,n=e.state,i=e.msg;"SUCCESS"==n?(a.rows.length>0?t.dialog.open({state:"batchDelete",params:a,parent:t}):t.$message.success("批量删除成功！"),t.update()):t.$message.error(i)}))},onCancel:function(){}})},borderDeviceCreate:function(){this.dialog.open({state:"create",parent:this})},borderDeviceModify:function(t){this.dialog.open({state:"modify",parent:this,params:t})},borderDeviceDelete:function(t,e){var a=t.id;this.dialog.open({state:"delete",parent:this,params:{id:a},item:e})},borderDeviceDispatch:function(t){this.dialog.open({state:"dispatch",parent:this,params:{id:t}})},borderDeviceRemove:function(t){this.dialog.open({state:"remove",parent:this,params:{id:t}})},update:function(t,e){var a=this;this.page=t||this.page,this.pageSize=e||this.pageSize,this.operations={selectedRowKeys:[],page:1,selectedRows:[],state:!0,loading:!1},this.table.total=0,this.table.data=[],this.loading=!0;var n=encodeURIComponent(JSON.stringify(this.search));this.tableList(this.page,this.pageSize,n).then((function(t){var e=t.data;e&&(a.table.total=e.total,a.table.data=e.rows)})).finally((function(){a.loading=!1}))}},destroyed:function(){},beforeDestroy:function(){this.dialog&&this.dialog.close()}},Ye=We,Ge=(a("cc3f"),Object(H["a"])(Ye,je,Ae,!1,null,"3a3621a3",null)),Ze=Ge.exports,Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{staticClass:"container"},[3==t.dmsType?a("div",{staticClass:"search"},[a("div",{staticClass:"title"},[t._v("查询条件")]),a("div",{ref:"search",staticClass:"content"},[a("span",[t._v("关键字:")]),[a("span",{staticClass:"inner"},[a("b-cascader",{ref:"cascaderRef",attrs:{"show-all-channels":!0,"clear-on-init":!0},on:{change:t.cascaderHandler}})],1),a("span",{staticClass:"inner"},[a("a-input",{staticClass:"i-width",attrs:{maxLength:64,placeholder:"请输入SN号"},on:{pressEnter:t.clickSearch},model:{value:t.search.search,callback:function(e){t.$set(t.search,"search",e)},expression:"search.search"}})],1),a("span",{staticClass:"outer"},[a("a-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("查询")])],1),a("span",{staticClass:"outer"},[a("a-button",{staticClass:"button",on:{click:t.resetSearch1}},[t._v("重置")])],1)]],2)]):t._e(),a("div",{staticClass:"body"},[a("a-spin",{attrs:{spinning:t.spinning,tip:"正在导入数据，请稍等！"}},[a("div",{staticClass:"buttons"},[t.readOnly?t._e():a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.borderDeviceCreate}},[t._v("新建备份")]),t.readOnly?t._e():a("a-button",{attrs:{type:"primary"},on:{click:t.autoBackupConfig}},[t._v("自动备份")]),t.readOnly?t._e():a("a-button",{attrs:{type:"primary",icon:"sync"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("刷新")])],1),a("div",{staticClass:"title"},[t._v("查询结果")]),a("a-row",{staticClass:"table"},[a("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[a("span",{staticStyle:{position:"absolute",top:"-25px",left:"12px",color:"#c8c8c8"}},[t.operations.selectedRowKeys.length>0?[t._v(t._s("已选中 "+t.operations.selectedRowKeys.length+" 项"))]:t._e()],2),a("b-fixed-table",{attrs:{columns:t.columns,rowKey:"id","row-selection":null,data:t.table.data,total:t.table.total,"table-height":550,loading:t.loading,"init-page":t.page,size:"default"},on:{change:t.tableParamChanged},scopedSlots:t._u([{key:"runningState",fn:function(e){var n=e.record;return[a("span",[t._v(t._s(t._f("convertRunningState")(n.runningState)))])]}},{key:"workState",fn:function(e){var n=e.record;return[a("span",{domProps:{innerHTML:t._s(t.convertWorkStateHtml(n.workState))}})]}},{key:"operations",fn:function(e){var n=e.record;return[t.readOnly?t._e():a("span",[a("span",{staticClass:"oper-margin oper",on:{click:function(e){return t.backupRecovery(n)}}},[t._v("还原")])]),t.readOnly?t._e():a("span",[a("span",{staticClass:"oper-margin oper",on:{click:function(e){return t.BackupRecord(n)}}},[t._v("备份记录")])])]}}])})],1)],1)],1)],1)])],1)},Qe=[];function Je(t,e,a){return ta.apply(this,arguments)}function ta(){return ta=Object(v["a"])(regeneratorRuntime.mark((function t(e,a,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-backups?offset=".concat((e-1)*a,"&limit=").concat(a,"&search=").concat(n||""),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),ta.apply(this,arguments)}function ea(t){return aa.apply(this,arguments)}function aa(){return aa=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-backup",g["a"].POST,e));case 1:case"end":return t.stop()}}),t)}))),aa.apply(this,arguments)}function na(t,e,a){return ia.apply(this,arguments)}function ia(){return ia=Object(v["a"])(regeneratorRuntime.mark((function t(e,a,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-backup/notes?offset=".concat((e-1)*a,"&limit=").concat(a,"&search=").concat(n||""),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),ia.apply(this,arguments)}function ra(){return oa.apply(this,arguments)}function oa(){return oa=Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-backup/restore",g["a"].POST));case 1:case"end":return t.stop()}}),t)}))),oa.apply(this,arguments)}function sa(){return ca.apply(this,arguments)}function ca(){return ca=Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-backup/auto-config",g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),ca.apply(this,arguments)}function la(t){return da.apply(this,arguments)}function da(){return da=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-backup/auto-config",g["a"].PUT,e));case 1:case"end":return t.stop()}}),t)}))),da.apply(this,arguments)}var ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.form.init.show?a("div",[a("a-modal",{attrs:{closable:!0,title:t.form.init.title,width:t.form.init.width,"mask-closable":!1,footer:"backuprecord"==t.form.name?null:void 0},model:{value:t.form.init.show,callback:function(e){t.$set(t.form.init,"show",e)},expression:"form.init.show"}},["delete"===t.form.name?a("div",[t._v("确定删除？")]):"autoBackupConfig"===t.form.name?a("div",[a("a-row",{staticClass:"table"},[a("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},t._l(t.form.init.data.configVOs,(function(e,n){return a("div",{key:n,staticClass:"item"},["backup.ftp.enable"===e.name?a("div",[a("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[t._v(t._s(e.zhName))]),a("a-card-grid",{staticClass:"grid-content",staticStyle:{padding:"15px 10px 5px 10px",height:"52px"},attrs:{hoverable:!1}},[a("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关"},model:{value:t.form.init.data.configVOs[n].val,callback:function(e){t.$set(t.form.init.data.configVOs[n],"val",e)},expression:"form.init.data.configVOs[index].val"}})],1)],1):"backup.ftp.devices"===e.name?a("div",[a("a-card-grid",{staticClass:"grid-title1",attrs:{hoverable:!1}},[t._v(t._s(e.zhName))]),a("a-card-grid",{staticClass:"grid-content",staticStyle:{padding:"15px 10px 5px 10px",height:"152px","overflow-y":"auto"},attrs:{hoverable:!1}},[a("a-tree",{attrs:{checkable:"",checkedKeys:t.checkedKeys,"show-line":"","tree-data":t.deviceList,defaultExpandAll:!0,expandedKeys:t.expandedKeys,replaceFields:{children:"children",title:"name",key:"treeId"}},on:{check:t.onCheck,expand:t.onExpand}})],1)],1):"backup.ftp.interval"===e.name?a("div",[a("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[t._v(t._s(e.zhName))]),a("a-card-grid",{staticClass:"grid-content",staticStyle:{padding:"15px 10px 5px 10px",height:"52px"},attrs:{hoverable:!1}},[a("a-input",{staticStyle:{width:"100%"},attrs:{maxLength:4,placeholder:e.zhName},model:{value:t.form.init.data.configVOs[n].val,callback:function(e){t.$set(t.form.init.data.configVOs[n],"val",e)},expression:"form.init.data.configVOs[index].val"}})],1)],1):"backup.ftp.username"===e.name?a("div",[a("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[t._v(t._s(e.zhName))]),a("a-card-grid",{staticClass:"grid-content",staticStyle:{padding:"15px 10px 5px 10px",height:"52px"},attrs:{hoverable:!1}},[a("a-input",{staticStyle:{width:"100%"},attrs:{maxLength:49,placeholder:e.zhName},model:{value:t.form.init.data.configVOs[n].val,callback:function(e){t.$set(t.form.init.data.configVOs[n],"val",e)},expression:"form.init.data.configVOs[index].val"}})],1)],1):"backup.ftp.password"===e.name?a("div",[a("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[t._v(t._s(e.zhName))]),a("a-card-grid",{staticClass:"grid-content",staticStyle:{padding:"15px 10px 5px 10px",height:"52px"},attrs:{hoverable:!1}},[a("a-input-password",{staticStyle:{width:"100%"},attrs:{maxLength:127,placeholder:e.zhName},model:{value:t.form.init.data.configVOs[n].val,callback:function(e){t.$set(t.form.init.data.configVOs[n],"val",e)},expression:"form.init.data.configVOs[index].val"}})],1)],1):"backup.ftp.path"===e.name?a("div",[a("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[t._v(t._s(e.zhName))]),a("a-card-grid",{staticClass:"grid-content",staticStyle:{padding:"15px 10px 5px 10px",height:"52px"},attrs:{hoverable:!1}},[a("a-input",{staticStyle:{width:"100%"},attrs:{maxLength:248,placeholder:e.zhName},model:{value:t.form.init.data.configVOs[n].val,callback:function(e){t.$set(t.form.init.data.configVOs[n],"val",e)},expression:"form.init.data.configVOs[index].val"}})],1)],1):a("div",[a("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[t._v(t._s(e.zhName))]),a("a-card-grid",{staticClass:"grid-content",staticStyle:{padding:"15px 10px 5px 10px",height:"52px"},attrs:{hoverable:!1}},[a("a-input",{attrs:{placeholder:e.zhName,disabled:!1,maxLength:255},model:{value:t.form.init.data.configVOs[n].val,callback:function(e){t.$set(t.form.init.data.configVOs[n],"val",e)},expression:"form.init.data.configVOs[index].val"}})],1)],1)])})),0)],1)],1):"detail"===t.form.name?a("div",[a("table",{staticStyle:{width:"100%"}},t._l(t.form.init.data.info,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n))]),a("td",[t._v(t._s(e))])])})),0)]):a("a-form-model",{ref:"form",attrs:{model:t.form.init.data,rules:t.form.init.rules,"label-col":{span:t.form.init.labelSpan||5},"wrapper-col":{span:t.form.init.wrapperSpan||19}}},["create"==t.form.name?a("a-form-model-item",{attrs:{label:"设备名称",prop:"channelInfoId"}},[a("b-cascader",{attrs:{"show-all-channels":!1,"clear-on-init":!1},on:{change:t.cascaderHandler}})],1):t._e(),"create"==t.form.name?a("a-form-model-item",{attrs:{label:"备注"}},[a("a-textarea",{attrs:{rows:3,placeholder:"请输入备注",maxLength:256},model:{value:t.form.init.data.description,callback:function(e){t.$set(t.form.init.data,"description",e)},expression:"form.init.data.description"}})],1):t._e(),"recovery"==t.form.name?a("a-form-model-item",[a("p",[t._v("若还原设备的SN号与当前备份文件的SN号不同，是否强制还原:")]),a("a-radio-group",{staticStyle:{margin:"10px"},model:{value:t.form.init.data.snConfirm,callback:function(e){t.$set(t.form.init.data,"snConfirm",e)},expression:"form.init.data.snConfirm"}},[a("a-radio",{attrs:{value:!0}},[t._v("是")]),a("a-radio",{attrs:{value:!1}},[t._v("否")])],1),a("br"),a("a-upload",{attrs:{name:"file",accept:".json","show-upload-list":!1,data:{id:t.form.init.data.id,snConfirm:t.form.init.data.snConfirm+""},action:t.BASE_URL+"device/border-device-backup/restore",disabled:null==t.form.init.data.snConfirm},on:{change:t.uploadRecoverOk}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),t._v(" 上传文件 ")],1)],1)],1):t._e(),"backuprecord"==t.form.name?a("b-fixed-table",{attrs:{columns:t.columns,rowKey:"id",data:t.table.data,total:t.table.total,"table-height":550,"init-page":t.page,"init-page-size":10,size:"default",pagination:!1},on:{change:t.tableParamChanged1},scopedSlots:t._u([{key:"deviceName",fn:function(e){var n=e.record;return[a("span",[t._v(t._s(n.deviceName))])]}},{key:"gmtCreate",fn:function(e){var n=e.record;return[a("span",[t._v(t._s(n.gmtCreate))])]}},{key:"userName",fn:function(e){var n=e.record;return[a("span",[t._v(t._s(n.userName))])]}},{key:"description",fn:function(e){var n=e.record;return[a("span",[t._v(t._s(n.description))])]}},{key:"operations",fn:function(e){var n=e.record;return[a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.download(n.id)}}},[t._v("下载")])]),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.backup(n)}}},[t._v("还原")])]),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper red",on:{click:function(e){return t.deleteBackup(n.id)}}},[t._v("删除")])])]}}],null,!1,516682634)}):t._e()],1),a("template",{slot:"footer"},["recovery"!=t.form.name&&"create"!=t.form.name&&"autoBackupConfig"!=t.form.name?a("a-button",{attrs:{type:"primary",loading:t.form.init.confirmLoading},on:{click:function(e){return t.clickSave()}}},[t._v(" "+t._s("create"===t.form.name?"保存":"确定")+" ")]):t._e(),"create"==t.form.name||"autoBackupConfig"==t.form.name?a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.clickSave1()}}},[t._v("保存")]):t._e(),a("a-button",{on:{click:function(e){return t.clickCancel()}}},[t._v("取消")])],1)],2),a("a-modal",{attrs:{closable:!0,title:"删除","ok-text":"确认","cancel-text":"取消"},on:{ok:t.baclupDelect},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("p",[t._v("确认删除吗？")])]),a("a-modal",{attrs:{closable:!0,title:"还原","ok-text":"确认","cancel-text":"取消"},on:{ok:t.baclupRecord},model:{value:t.visible1,callback:function(e){t.visible1=e},expression:"visible1"}},[a("p",[t._v("若还原设备的SN号与当前备份文件的SN号不同，是否强制还原:")]),a("a-radio-group",{model:{value:t.snConfirm,callback:function(e){t.snConfirm=e},expression:"snConfirm"}},[a("a-radio",{attrs:{value:!0}},[t._v("是")]),a("a-radio",{attrs:{value:!1}},[t._v("否")])],1)],1),a("a-modal",{attrs:{closable:!0,title:"下载","ok-text":"确认","cancel-text":"取消"},on:{ok:t.baclupDownload},model:{value:t.visible2,callback:function(e){t.visible2=e},expression:"visible2"}},[a("p",[t._v("确认下载吗？")])])],1):t._e(),a("a-modal",{attrs:{closable:!0,title:"设备还原："+t.form.init.data.name,width:"50%","mask-closable":!1,footer:null},on:{cancel:t.stopDsq},model:{value:t.recoveryDailog,callback:function(e){t.recoveryDailog=e},expression:"recoveryDailog"}},[a("div",{staticStyle:{height:"600px",overflow:"auto"}},[t._l(t.recoveryInfoList,(function(e){return a("div",{key:e.index,staticClass:"info_row"},[a("span",{staticClass:"info_index"},[t._v(t._s(e.index))]),a("span",{staticClass:"info_type"},[t._v(t._s(e.type))]),a("span",{staticClass:"info_msg"},[t._v(t._s("success"==e.msg?"还原操作完成，等待设备响应...":e.msg))]),a("span",{staticClass:"info_state"},[t._v(t._s(e.state))]),a("span",{staticClass:"info_backMsg"},[t._v(t._s(e.backMsg))]),"0"==e.complet?a("span",{staticClass:"info_complet_wait"},[t._v("等待设备响应....")]):t._e(),"1"==e.complet&&"reset"==e.type?a("span",{staticClass:"info_complet_ok"},[t._v("已完成")]):t._e()])})),a("div",{staticClass:"info_restoreResult",domProps:{innerHTML:t._s(t.restoreResult)}})],2)]),a("a-modal",{attrs:{closable:!0,title:"请确认恢复操作","ok-text":"恢复出厂设置","cancel-text":"保持现状",maskClosable:!1},on:{ok:t.resetDevice},model:{value:t.recoveryDailog2,callback:function(e){t.recoveryDailog2=e},expression:"recoveryDailog2"}},[a("p",[t._v("还原操作失败，设备上可能下发了部分配置，是否需要恢复设备到出厂设置？")])])],1)},pa=[],fa=a("53ca"),ma=(a("4de4"),a("7db0"),a("5319"),a("bc3a")),ha=a.n(ma),va=a("d7b0"),ga={components:{BFixedTable:d["a"],BCascader:He["a"]},name:"BorderDeviceBackupDialog",mixins:[c["a"]],filters:{},props:{},data:function(){return{page:1,restoreResult:"正在还原中，请稍后......<br/>",inRefrush:!1,restoreState:{processOk:!0,sendOk:!1,backOk:!0},deviceId:"",recoveryRefreshDsq:null,recoveryRefreshDsqCount:0,recoveryRefreshing:!1,recoverRecordId:"",recoveryInfoList:[],recoveryDailog:!1,recoveryDailog2:!1,visible:!1,visible1:!1,visible2:!1,snConfirm:!1,checkedKeys:[],expandedKeys:[],locale:$["a"],backupId:"",columns:[{title:"操作时间",width:"15%",ellipsis:!0,scopedSlots:{customRender:"gmtCreate"}},{title:"操作人",width:"8%",dataIndex:"userName"},{title:"系统版本",dataIndex:"dmsVersion"},{title:"设备版本",dataIndex:"deviceVersion"},{title:"备注",dataIndex:"description"},{title:"操作",width:"20%",scopedSlots:{customRender:"operations"}}],table:{data:[],total:0},deviceList:[{id:"",name:"请选择设备"}],deviceType:"",form:{create:{title:"新建",width:450,show:!0,confirmLoading:!1,data:{description:"",id:"",channelInfoId:"",deviceId:"",deviceName:""},rules:{deviceId:h["a"].select}},backuprecord:{title:"备份记录",width:1e3,show:!0,data:{name:""}},autoBackupConfig:{title:"自动备份",width:700,show:!0,data:{configVOs:[]}},recovery:{title:"还原",width:550,request:ra,show:!0,data:{id:"",name:"",snConfirm:!1},rules:{}}}}},watch:{deviceList:function(){var t,e=Object(lt["a"])(this.deviceList);try{for(e.s();!(t=e.n()).done;){var a=t.value;if(a.id===this.form.init.data.channelInfoId){this.deviceType=a.deviceType;break}}}catch(n){e.e(n)}finally{e.f()}}},created:function(){this.showDialog(this.state,this.params),"create"===this.state&&this.updateBorderDeviceList(),"backuprecord"===this.state&&this.params&&this.update(),"autoBackupConfig"===this.state&&this.params&&(this.updateBorderDeviceList(),this.params.configVOs.forEach((function(t){"backup.ftp.enable"==t.name&&("true"==t.val?t.val=!0:"false"==t.val&&(t.val=!1)),"backup.ftp.devices"==t.name&&(""==t.val?t.val=[]:t.val=t.val.split(","))})))},methods:{onCheck:function(t,e){var a=e.checkedNodes,n=t.filter((function(t){return t&&"string"===typeof t&&t.includes("-")})),i=[];a&&a.forEach((function(t){var e,a=null===(e=t.data.props)||void 0===e?void 0:e.dataRef;if(a&&(!a.children||null===a.children)){var n=a.id;n&&!i.includes(n)&&i.push(n)}}));var r=this.form.init.data.configVOs.find((function(t){return"backup.ftp.devices"===t.name}));r.val=n,this.checkedKeys=n},updateBorderDeviceList:function(){var t=this;Object(va["d"])().then((function(e){var a=e.data;t.deviceList=a||[],t.expandedKeys=t.collectAllNodeKeys(t.deviceList),t.$nextTick((function(){var e=t.form.init.data.configVOs.find((function(t){return"backup.ftp.devices"===t.name})),a=e.val.map((function(t){return"object"===Object(fa["a"])(t)&&t.id?t.id:"string"===typeof t||"number"===typeof t?t:""})).filter(Boolean);Array.isArray(a)&&a.length>0?t.checkedKeys=a:t.checkedKeys=[]}))}))},cascaderHandler:function(t){this.form.init.data.deviceId=t[0],this.form.init.data.channelInfoId=t[1]},deviceChange:function(t,e){var a=e.data,n=a.key,i=this.deviceList[n];this.deviceType=i.deviceType,this.form.init.data.deviceName=a.attrs.text},close:function(){this.form.init.show=!1},clickSave1:function(){var t=this;if("create"==this.form.name)this.$refs["form"].validate((function(e){e&&(ea(t.form.init.data).then((function(e){null!=e&&e.state&&"SUCCESS"==e.state&&t.$message.success("备份完成，请到备份记录中查看")})),t.form.init.show=!1,t.parent.update())}));else if("autoBackupConfig"==this.form.name){var e=this,a=!0,n=!1,i=JSON.parse(JSON.stringify(e.form.init.data));i.configVOs.forEach((function(t){if("backup.ftp.devices"==t.name&&(t.length<1?t.val="":t.val=t.val.join(",")),"backup.ftp.enable"==t.name&&(1==t.val?n=!0:0==t.val&&(n=!1)),"backup.ftp.hostname"==t.name)if(1==n)if(""==t.val||void 0==t.val||null==t.val)a=!1,e.$message.error("FTP转存打开时，ftp相关配置必填");else{var i=e.testIP(t.val);0==i&&(a=!1,e.$message.error(t.zhName+"输入有误"),e.loading=!1)}else if(""!==t.val&&void 0!==t.val&&null!==t.val){var r=e.testIP(t.val);0==r&&(a=!1,e.$message.error(t.zhName+"输入有误"),e.loading=!1)}if("backup.ftp.username"==t.name&&1==n&&(""!=t.val&&void 0!=t.val&&null!=t.val||(a=!1,e.$message.error("FTP转存打开时，ftp相关配置必填"))),"backup.ftp.password"==t.name&&1==n&&(""!=t.val&&void 0!=t.val&&null!=t.val||(a=!1,e.$message.error("FTP转存打开时，ftp相关配置必填"))),"backup.ftp.path"==t.name)if(1==n)if(""==t.val||void 0==t.val||null==t.val)a=!1,e.$message.error("FTP转存打开时，ftp相关配置必填");else{var o=e.testPath(t.val);0==o&&(a=!1,e.$message.error(t.zhName+'输入有误,输入样式为“/”开始并且"/"结尾，根目录输入“/”,不能输入数字、字母、中文、"_"和"-"以外的特殊字符'),e.loading=!1)}else if(""!==t.val&&void 0!==t.val&&null!==t.val){var s=e.testPath(t.val);0==s&&(a=!1,e.$message.error(t.zhName+'输入有误,输入样式为“/”开始并且"/"结尾，根目录输入“/”,不能输入数字、字母、中文、"_"和"-"以外的特殊字符'),e.loading=!1)}if("backup.ftp.port"==t.name)if(1==n)if(""==t.val||void 0==t.val||null==t.val)a=!1,e.$message.error("FTP转存打开时，ftp相关配置必填");else{var c=e.testPort(t.val);0==c&&(a=!1,e.$message.error("".concat(t.zhName,"为正整数，且范围在[1-65535]之间，请重新输入")),e.loading=!1)}else if(""!==t.val&&void 0!==t.val&&null!==t.val){var l=e.testPort(t.val);0==l&&(a=!1,e.$message.error("".concat(t.zhName,"为正整数，且范围在[1-65535]之间，请重新输入")),e.loading=!1)}if("backup.ftp.interval"==t.name)if(1==n)if(""==t.val||void 0==t.val||null==t.val)a=!1,e.$message.error("FTP转存打开时，ftp相关配置必填");else{var d=e.testNum(t.val);0==d&&(a=!1,e.$message.error("".concat(t.zhName,"为正整数，且范围在[1-365]之间，请重新输入")),e.loading=!1)}else if(""!==t.val&&void 0!==t.val&&null!==t.val){var u=e.testNum(t.val);0==u&&(a=!1,e.$message.error("".concat(t.zhName,"为正整数，且范围在[1-365]之间，请重新输入")),e.loading=!1)}})),a&&la(i).then((function(e){null!=e&&e.state&&"SUCCESS"==e.state&&(t.$message.success("自动备份配置完成"),t.form.init.show=!1)}))}},testIP:function(t){var e=/^(([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])$/;return!!e.test(t)},testPort:function(t){return!!/^[0-9]+?$/.test(t)&&(t=Number.parseInt(t),!(t>65535||t<1))},testNum:function(t){return!!/^[0-9]+?$/.test(t)&&(t=Number.parseInt(t),!(t>365||t<1))},testPath:function(t){if("/"==t)return!0;var e=/^\/([\u4E00-\u9FA5]|[0-9a-zA-Z_-]|\/)+([\u4E00-\u9FA5]|[0-9a-zA-Z])+\/$/;return!!e.test(t)},tableParamChanged1:function(t){var e=t.page,a=t.pageSize;this.update1(e,a)},update1:function(t,e){var a=this;this.page=t||this.page,this.pageSize=e||this.pageSize,this.search=this.params.name||this.search,this.loading=!0,na(this.page,this.pageSize,this.search).then((function(t){var e=t.data;e&&(a.table.total=e.total,a.table.data=e.rows,a.table.data.forEach((function(t){t.gmtCreate=new Date(Number.parseInt(t.gmtCreate)).toLocaleString().replace(/:\d{1,2}$/," ")})),a.loading=!1)})).catch((function(){a.loading=!1}))},deleteBackup:function(t){this.visible=!0,this.backupId=t},baclupDelect:function(){var t=this,e="".concat(Yt["b"],"device/delete/border-device-backup/").concat(this.backupId);ha.a.post(e),this.visible=!1,this.backupId=null,setTimeout((function(){t.update1()}),1e3)},backup:function(t){this.visible1=!0,this.backupId=t.id},baclupRecord:function(){var t=this,e="".concat(Yt["b"],"device/border-device-backup/note/restore/").concat(this.backupId);ha.a.post(e,{snConfirm:this.snConfirm}).then((function(e){t.visible1=!1,t.backupId=null,t.snConfirm=!1,t.clickCancel(),t.recoveryDailog=!0,"SUCCESS"==e.state?(t.recoverRecordId=e.data.uuid,t.refrashResetInfos()):(t.$message.error(e.msg),t.recoveryDailog=!1)})).catch((function(){t.form.init.show=!1}))},download:function(t){this.visible2=!0,this.backupId=t},baclupDownload:function(){var t="".concat(Yt["b"],"device/border-device-backup/download/").concat(this.backupId);window.open(t,"_blank"),this.backupId=null,this.clickCancel()},uploadRecoverOk:function(t){"done"==t.file.status?(this.deviceId=t.file.response.data.deviceId,"FAIL"==t.file.response.state?(this.$message.error(t.file.response.msg),this.form.show=!1):"SUCCESS"==t.file.response.state?(this.recoverRecordId=t.file.response.data.uuid,this.clickCancel(),this.recoveryDailog=!0,this.$message.success("上传成功！"),this.refrashResetInfos()):this.$message.error(t.file.response.state)):"error"==t.file.status&&(this.$message.error(t.file.response),this.form.init.show=!1)},stopDsq:function(){clearInterval(this.recoveryRefreshDsq),this.recoveryRefreshDsqCount=0,this.restoreState.processOk?this.restoreState.sendOk&&this.restoreState.backOk&&(this.restoreResult="还原处理完成，设备端响应完成",this.recoveryInfoList.push({index:this.recoveryInfoList.length+1,msg:"还原结束"})):this.restoreResult="设备还原处理失败";var t="".concat(Yt["b"],"tool/logout-all");ha.a.get(t).then((function(t){})).catch((function(){}))},refrashResetInfos:function(){var t=this;t.recoveryRefreshDsq=setInterval((function(){if(!t.inRefrush&&(t.inRefrush=!0,!t.recoveryRefreshing)){t.recoveryRefreshing=!0,t.recoveryRefreshDsqCount>300&&(t.stopDsq(),alert("等待时间超过5分钟，停止更新还原进度信息"));var e="".concat(Yt["b"],"device/border-device-backup/getRestoreInfo/").concat(t.recoverRecordId);ha.a.get(e).then((function(e){t.inRefrush=!1,t.recoveryRefreshDsqCount++,t.recoveryInfoList=e.data,t.recoveryRefreshing=!1,t.checkProcessOk()})).catch((function(){t.recoveryRefreshing=!1,t.inRefrush=!1}))}}),1e3)},checkProcessOk:function(){var t=!1,e=!0,a=!0;if(this.recoveryInfoList.length>0){var n,i=Object(lt["a"])(this.recoveryInfoList);try{for(i.s();!(n=i.n()).done;){var r=n.value;"msg"==r.type&&"success"==r.msg&&(t=!0),"msg"==r.type&&"error"==r.msg&&(e=!1),"0"==r.complet&&(a=!1)}}catch(o){i.e(o)}finally{i.f()}}this.restoreState.processOk=e,this.restoreState.backOk=a,this.restoreState.sendOk=t,e||(this.stopDsq(),this.recoveryDailog2=!0),t&&a&&this.stopDsq()},resetDevice:function(){var t=this,e="".concat(Yt["b"],"device/put/border-device-basic/recover/").concat(this.deviceId);ha.a.post(e).then((function(){t.$message.info("恢复出厂设置命令已执行"),t.recoveryDailog2=!1})).catch((function(){t.$message.error("恢复出厂设置命令执行失败")}))},previewFile:function(t){return fetch("`${BASE_URL}device/border-device-backup/restore`",{method:"PUT",body:t}).then((function(t){return t.json()})).then((function(t){var e=t.thumbnail;return e}))}}},ba=ga,ya=(a("94f8e"),Object(H["a"])(ba,ua,pa,!1,null,"c6f5f032",null)),wa=ya.exports,ka=new u["a"](wa),xa=[{title:"设备名称",dataIndex:"deviceName"},{title:"SN号",dataIndex:"sn"},{title:"设备类型",dataIndex:"typeName"},{title:"操作",scopedSlots:{customRender:"operations"}}],_a="bd:m",Ca={name:"BorderDeviceBasic",components:{BFixedTable:d["a"],BCascader:He["a"]},mixins:[c["a"]],comments:{},props:{},data:function(){return{readOnly:!1,systemType:"",spinning:!1,select:h["a"].select,input:h["a"].input,format5:h["a"].format5,format6:h["a"].format6,columns:xa,tableList:Je,dialog:ka,loading:!1,table:{data:[],total:0},deviceList:[],search:{deviceId:"",channelInfoId:"",search:""}}},filters:{convertRunningState:N["w"],convertWorkState:N["H"],convertWorkStateHtml:N["J"]},created:function(){this.systemType=localStorage.getItem("systemType")},watch:{$route:function(t,e){var a=this;e.path!==t.path&&this.$nextTick((function(){a.dialog&&a.dialog.close()}))}},mounted:function(){this.detectDeviceType()},methods:{resetSearch1:function(){this.$refs.cascaderRef&&this.$refs.cascaderRef.resetSelection(),this.search={deviceId:"",channelInfoId:"",search:""},this.clickSearch()},cascaderHandler:function(t){this.search.deviceId=t[0],this.search.channelInfoId=t[1]},convertWorkStateHtml:N["J"],borderDeviceCreate:function(){this.dialog.open({state:"create",parent:this})},autoBackupConfig:function(){var t=this;sa().then((function(e){t.dialog.open({state:"autoBackupConfig",parent:t,params:e.data})}))},BackupRecord:function(t){this.dialog.open({state:"backuprecord",parent:this,params:{name:t.name}})},backupDownload:function(t){},backupRecovery:function(t){this.dialog.open({state:"recovery",parent:this,params:{id:t.id,name:t.name}})},update:function(t,e){var a=this;this.page=t||this.page,this.pageSize=e||this.pageSize,this.loading=!0;var n=encodeURIComponent(JSON.stringify(this.search));this.tableList(this.page,this.pageSize,n).then((function(t){var e=t.data;e?(a.table.total=e.total,a.table.data=e.rows,a.loading=!1):(a.table.total=0,a.table.data=[],a.loading=!1)})).catch((function(){a.loading=!1}))}},destroyed:function(){sessionStorage.removeItem(_a)},beforeDestroy:function(){this.dialog&&this.dialog.close()}},Sa=Ca,Ia=(a("4775"),Object(H["a"])(Sa,Xe,Qe,!1,null,"2ba3388e",null)),Ta=Ia.exports,Ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{staticClass:"container"},[3==t.dmsType?a("div",{staticClass:"search"},[a("div",{staticClass:"title"},[t._v("查询条件")]),a("div",{ref:"search",staticClass:"content"},[a("span",[t._v("关键字:")]),[a("span",{staticClass:"inner",staticStyle:{width:"200px"}},[a("b-cascader",{attrs:{"show-all-channels":!0,"clear-on-init":!0},on:{change:t.cascaderHandler}})],1),a("span",{staticClass:"outer"},[a("a-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("查询")])],1),a("span",{staticClass:"outer"},[a("a-button",{staticClass:"button",on:{click:t.resetSearch}},[t._v("重置")])],1)]],2)]):t._e(),a("div",{staticClass:"body"},[a("a-spin",{attrs:{spinning:t.spinning,tip:"正在导入数据，请稍等！"}},[a("div",{staticClass:"buttons"},[a("a-button",{attrs:{type:"primary",icon:"sync"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("刷新")])],1),a("div",{staticClass:"title"},[t._v("查询结果")]),a("a-row",{staticClass:"table"},[a("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[a("b-fixed-table",{attrs:{columns:t.columns,rowKey:"id","row-selection":null,data:t.table.data,total:t.table.total,"table-height":500,loading:t.loading,"init-page":t.page,size:"default"},on:{change:t.tableParamChanged},scopedSlots:t._u([{key:"pingWorkState",fn:function(e){var n=e.record;return[a("span",[t._v(t._s(t._f("convertWorkState")(n.pingWorkState)))])]}},{key:"ping",fn:function(e){var n=e.record;return[t.readOnly?t.readOnly?a("span",{domProps:{innerHTML:t._s(t.convertEnableHtml(n.ping))}}):t._e():a("span",{domProps:{innerHTML:t._s(t.convertEnableHtml(n.ping))},on:{click:function(e){return t.pingEnable(n)}}})]}},{key:"sshWorkState",fn:function(e){var n=e.record;return[a("span",[t._v(t._s(t._f("convertWorkState")(n.sshWorkState)))])]}},{key:"ssh",fn:function(e){var n=e.record;return[t.readOnly?t.readOnly?a("span",{domProps:{innerHTML:t._s(t.convertEnableHtml(n.ssh))}}):t._e():a("span",{domProps:{innerHTML:t._s(t.convertEnableHtml(n.ssh))},on:{click:function(e){return t.sshEnable(n)}}})]}},{key:"ipMacWorkState",fn:function(e){var n=e.record;return[a("span",{staticClass:"oper-margin oper"},[a("span",{on:{click:function(e){return t.viewLog(n.id)}}},[t._v("查看")])])]}},{key:"operations",fn:function(e){var n=e.record;return[t.readOnly?t._e():a("span",[a("span",{staticClass:"oper",on:{click:function(e){return t.borderDeviceDispatch(n.id)}}},[t._v("下发")])])]}}])})],1)],1)],1)],1)])],1)},Oa=[];function Da(t,e,a){return La.apply(this,arguments)}function La(){return La=Object(v["a"])(regeneratorRuntime.mark((function t(e,a,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-maintenances?offset=".concat((e-1)*a,"&limit=").concat(a).concat(n||""),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),La.apply(this,arguments)}function ja(t){return Aa.apply(this,arguments)}function Aa(){return Aa=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-maintenance",g["a"].PUT,e));case 1:case"end":return t.stop()}}),t)}))),Aa.apply(this,arguments)}function $a(t){return Ea.apply(this,arguments)}function Ea(){return Ea=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-maintenance/send-more",g["a"].PUT,e));case 1:case"end":return t.stop()}}),t)}))),Ea.apply(this,arguments)}function Na(t){return Pa.apply(this,arguments)}function Pa(){return Pa=Object(v["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(g["f"])("device/border-device-maintenance/send/".concat(a),g["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),Pa.apply(this,arguments)}function Ba(t){return Ma.apply(this,arguments)}function Ma(){return Ma=Object(v["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,n=e.enable,t.abrupt("return",Object(g["f"])("device/border-device-maintenance/ping/".concat(a,"?enable=").concat(n),g["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),Ma.apply(this,arguments)}function za(t){return Va.apply(this,arguments)}function Va(){return Va=Object(v["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,n=e.enable,t.abrupt("return",Object(g["f"])("device/border-device-maintenance/ssh/".concat(a,"?enable=").concat(n),g["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),Va.apply(this,arguments)}var Ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.form.init.show?a("div",[a("a-modal",{attrs:{closable:!0,title:t.form.init.title,width:t.form.init.width,footer:"viewLog"===t.form.name||"viewLogDetails"===t.form.name?null:void 0,"mask-closable":!1},model:{value:t.form.init.show,callback:function(e){t.$set(t.form.init,"show",e)},expression:"form.init.show"}},["delete"===t.form.name?a("div",[t._v("确定删除？")]):"dispatch"===t.form.name?a("div",[t._v("确定下发？")]):"viewLog"===t.form.name?a("div",[a("table",{staticClass:"detail-table",staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"},attrs:{colspan:"1"}})])]),a("tbody",t._l(t.detailMap,(function(e,n){return a("tr",{key:n},[a("td",{staticClass:"title"},[t._v(t._s(e.label))]),a("td",{staticClass:"content"},[a("span",{staticStyle:{"margin-left":"20px"}},[a("a-button",{attrs:{icon:"search",type:"primary"},on:{click:function(a){return t.viewLogdetails(e.value)}}},[t._v("查看日志")])],1),a("span",{staticStyle:{"margin-left":"20px"}},[a("a-button",{attrs:{type:"primary",icon:"export"},on:{click:function(a){return t.exportLogdetails(e.value)}}},[t._v("导出日志")])],1)])])})),0)])]):"viewLogDetails"===t.form.name?a("div",[a("div",{staticClass:"log-content"},[a("pre",[t._v(t._s(Array.isArray(t.form.init.data.lines)?t.form.init.data.lines.join("\n"):t.form.init.data.lines||"暂无日志数据")+" ")])]),a("div",{staticClass:"pagination"},[a("a-button",{staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.changePage("down")}}},[t._v("下一页")])],1)]):a("a-form-model",{ref:"form",attrs:{model:t.form.init.data,rules:t.form.init.rules,"label-col":{span:t.form.init.labelSpan||4},"wrapper-col":{span:t.form.init.wrapperSpan||20}}},["batchDispatch"===t.form.name?a("a-form-model-item",{attrs:{label:"设备列表"}},[a("b-multiple-select",{attrs:{placeholder:"请选择设备",data:t.deviceList},model:{value:t.form.init.data.devices,callback:function(e){t.$set(t.form.init.data,"devices",e)},expression:"form.init.data.devices"}})],1):t._e(),a("a-form-model-item",{attrs:{label:"是否启用"}},[a("table",{staticClass:"table",staticStyle:{width:"100%"}},["modify"==t.form.name?[3==t.form.init.data.deviceType||4==t.form.init.data.deviceType?a("tr",[a("td",[t._v("数据同步日志")]),a("td",[a("a-radio-group",{model:{value:t.form.init.data.accessFlowLog1,callback:function(e){t.$set(t.form.init.data,"accessFlowLog1",e)},expression:"form.init.data.accessFlowLog1"}},[a("a-radio",{attrs:{value:1}},[t._v("启用")]),a("a-radio",{attrs:{value:2}},[t._v("禁用")])],1)],1)]):t._e()]:t._e(),"batchDispatch"===t.form.name&&"center"==t.systemType||"batchDispatch"===t.form.name&&"device"==t.systemType?a("tr",[a("td",[t._v("数据同步日志")]),a("td",[a("a-radio-group",{model:{value:t.form.init.data.accessFlowLog1,callback:function(e){t.$set(t.form.init.data,"accessFlowLog1",e)},expression:"form.init.data.accessFlowLog1"}},[a("a-radio",{attrs:{value:1}},[t._v("启用")]),a("a-radio",{attrs:{value:2}},[t._v("禁用")]),"batchDispatch"===t.form.name?a("a-radio",{attrs:{value:3}},[t._v("忽略")]):t._e()],1)],1)]):t._e()],2)])],1),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary",loading:t.form.init.confirmLoading},on:{click:function(e){return t.clickSave()}}},[t._v(" "+t._s("create"===t.form.name||"modify"===t.form.name?"保存及下发":"batchDispatch"===t.form.name?"下发":"确定")+" ")]),a("a-button",{on:{click:function(e){return t.clickCancel()}}},[t._v("取消")])],1)],2)],1):t._e()},Ua=[],Ka={dmsLog:{label:"管控运行日志",value:"1"},dmsProxyLog:{label:"管控代理模块运行日志",value:"2"},dbtsmLog:{label:"数据库同步模块运行日志",value:"3"},accessLog:{label:"带内带外切换模块访问日志",value:"4"},ngxErrorLog:{label:"带内带外切换模块异常日志",value:"5"},agentjsacDebugLog:{label:"agentjsac模块运行日志",value:"6"},dtcpWorkerLog:{label:"dtcp模块运行日志",value:"7"},verifymodeLog:{label:"ipauth模块运行日志",value:"8"},ngErrorLog:{label:"nginx模块运行日志",value:"9"},jsacProxySlog:{label:"proxyjsac模块运行日志",value:"10"},sdsyncLog:{label:"sdsync模块运行日志",value:"11"},portscanLog:{label:"portscan模块运行日志",value:"12"}},Fa={name:"BorderDeviceMaintenanceDialog",mixins:[c["a"]],components:{BMultipleSelect:Gt["a"]},filters:{},props:{},data:function(){return{locale:$["a"],deviceList:[],deviceType:"",systemType:"",detailMap:Ka,form:{modify:{title:"修改",width:450,request:ja,show:!0,confirmLoading:!1,data:{deviceType:"",sn:"",id:"",channelInfoId:"",ip:"",deviceLog1:"",deviceLog:"",accessFlowLog:"",accessFlowLog1:"",deviceRemoteLog1:"",deviceRemoteLog:"",ping1:"",ping:"",ssh1:"",ssh:"",snmp1:"",snmp:"",mac:""},rules:{ip:h["a"].ip1}},batchDispatch:{title:"批量下发",width:800,request:$a,show:!0,confirmLoading:!1,data:{devices:[],deviceLog1:1,deviceLog:1,accessFlowLog:1,accessFlowLog1:1,deviceRemoteLog1:2,deviceRemoteLog:2,ping1:1,ping:1,ssh1:1,ssh:1,snmp1:1,snmp:1},rules:{}},dispatch:{title:"下发",width:420,request:Na,show:!0,confirmLoading:!1,data:{id:""},rules:{}},viewLog:{title:"日志详情",width:800,show:!0,confirmLoading:!1,data:{deviceId:"",data:[]},rules:{}},viewLogDetails:{title:"查看日志详情",width:"80%",show:!0,confirmLoading:!1,data:{logId:"",deviceId:"",lines:[],num:"",page:""},rules:{}}}}},watch:{deviceList:function(){var t,e=Object(lt["a"])(this.deviceList);try{for(e.s();!(t=e.n()).done;){var a=t.value;if(a.id===this.form.init.data.channelInfoId){this.deviceType=a.deviceType;break}}}catch(n){e.e(n)}finally{e.f()}}},created:function(){this.systemType=localStorage.getItem("systemType"),this.showDialog(this.state,this.params),"modify"!==this.state&&"batchDispatch"!==this.state||this.updateBorderDeviceList()},methods:{selectAll:function(){this.form.init.data.devices=this.deviceList.map((function(t){return t.id}))},deselectAll:function(){this.form.init.data.devices=[]},beforeShowDialog:function(t,e){"modify"===t?(e.data.deviceLog1=e.data.deviceLog?1:2,e.data.accessFlowLog1=e.data.accessFlowLog?1:2,e.data.deviceRemoteLog1=e.data.deviceRemoteLog?1:2,e.data.ssh1=e.data.ssh?1:2,e.data.snmp1=e.data.snmp?1:2,e.data.ping1=e.data.ping?1:2):"batchDispatch"===t&&(e.data.deviceLog1=e.data.deviceLog,e.data.accessFlowLog1=e.data.accessFlowLog,e.data.deviceRemoteLog1=e.data.deviceRemoteLog,e.data.ssh1=e.data.ssh,e.data.snmp1=e.data.snmp,e.data.ping1=e.data.ping)},beforeSave:function(t){"modify"===this.form.name?(t.deviceLog=1===t.deviceLog1,t.accessFlowLog=1===t.accessFlowLog1,t.deviceRemoteLog=1===t.deviceRemoteLog1,t.ssh=1===t.ssh1,t.snmp=1===t.snmp1,t.ping=1===t.ping1):"batchDispatch"===this.form.name&&(t.deviceLog=t.deviceLog1,t.accessFlowLog=t.accessFlowLog1,t.deviceRemoteLog=t.deviceRemoteLog1,t.ssh=t.ssh1,t.snmp=t.snmp1,t.ping=t.ping1)},close:function(){this.form.init.show=!1},update:function(){var t=this;t.parent.update()},updateBorderDeviceList:function(){var t=this;Object($e["a"])().then((function(e){var a=e.data;t.deviceList=a}))},exportLogdetails:function(t){window.open("".concat(this.BASE_URL,"device/border-device-maintenance/download?deviceId=").concat(this.form.init.data.deviceId,"&logId=").concat(t),"_blank")},viewLogdetails:function(t){this.form.name="viewLogDetails",this.form.init.data={logId:t,deviceId:this.params.deviceId,lines:[],number:"",page:""},this.form.init.width="80%",this.fetchLogDetails(this.form.init.data.number,this.form.init.data.page)},fetchLogDetails:function(t,e){var a=this,n=this;t=t||this.form.init.data.number,e=e||this.form.init.data.page;var i=n.form.init.data,r=i.deviceId,o=i.logId;Object(g["b"])("device/border-device-maintenance/log-detail?deviceId=".concat(r,"&logId=").concat(o,"&page=").concat(e,"&number=").concat(t),g["a"].GET).then((function(t){n.form.init.data.lines=n.form.init.data.lines.concat(t.lines||[]),n.form.init.data.number=t.number,a.$forceUpdate()})).catch((function(t){}))},changePage:function(t){var e=this.form.init.data.number+50;this.fetchLogDetails(e,t)}}},qa=Fa,Wa=(a("4c94"),Object(H["a"])(qa,Ha,Ua,!1,null,"5bd8f796",null)),Ya=Wa.exports,Ga=new u["a"](Ya),Za=a("1748"),Xa=a.n(Za),Qa=[{title:"设备名称",width:"15%",dataIndex:"deviceName"},{title:"通道名称",width:"15%",dataIndex:"channelName"},{title:"设备调试",children:[{title:"PING",children:[{title:"状态",ellipsis:!0,scopedSlots:{customRender:"pingWorkState"}},{title:"启用",scopedSlots:{customRender:"ping"}}]},{title:"SSH",children:[{title:"状态",ellipsis:!0,scopedSlots:{customRender:"sshWorkState"}},{title:"启用",ellipsis:!0,scopedSlots:{customRender:"ssh"}}]},{title:"模块运行日志",width:"15%",ellipsis:!0,scopedSlots:{customRender:"ipMacWorkState"}}]}],Ja={name:"BorderDeviceBasic",components:{BFixedTable:d["a"],BCascader:He["a"]},mixins:[c["a"]],comments:{},props:{},data:function(){return{readOnly:!1,spinning:!1,select:h["a"].select,input:h["a"].input,format5:h["a"].format5,format6:h["a"].format6,columns:Qa,tableList:Da,dialog:Ga,deviceList:[],loading:!1,table:{data:[],total:0},search:{deviceId:"",channelInfoId:""},isPasswordValid:!1,passwordTimer:null}},filters:{convertWorkState:N["H"]},created:function(){},watch:{$route:function(t,e){var a=this;e.path!==t.path&&this.$nextTick((function(){a.dialog&&a.dialog.close()}))}},mounted:function(){},methods:{convertEnableHtml:N["l"],verifyPassword:function(){var t=this;return this.isPasswordValid?Promise.resolve(!0):new Promise((function(e,a){var n=t.$createElement("div",{style:{marginBottom:"16px"}},[t.$createElement("a-input-password",{ref:"pwdInput",placeholder:"请输入密码",style:{width:"100%"}})]);t.$confirm({title:"密码验证",content:n,okText:"确认",cancelText:"取消",maskClosable:!1,onOk:function(){return Object(v["a"])(regeneratorRuntime.mark((function n(){var i,r,o,s,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,s=null===(i=t.$refs.pwdInput)||void 0===i||null===(r=i.$el)||void 0===r||null===(o=r.querySelector("input"))||void 0===o?void 0:o.value,s){n.next=5;break}return t.$message.warning("请输入密码"),n.abrupt("return",a(!1));case 5:return c=Xa.a.sm3(s),n.next=8,Object(va["c"])(c);case 8:l=n.sent,"SUCCESS"===l.state?(t.isPasswordValid=!0,t.passwordTimer&&clearTimeout(t.passwordTimer),t.passwordTimer=setTimeout((function(){t.isPasswordValid=!1,t.passwordTimer=null}),3e5),e(!0)):(t.$message.error("密码校验失败，请重试"),a(!1)),n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](0),t.$message.error(res.msg),a(!1);case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},onCancel:function(){a(!1)}})}))},pingEnable:function(t){var e=this,a="";1==t.ping?(a="是否关闭PING开关",e.$confirm({content:a,okText:"确认",cancelText:"取消",onOk:function(){var e=t.id;Ba({id:e,enable:!t.ping}).then((function(e){var a=e.data;t.ping=a.ping,t.pingWorkState=a.pingWorkState}))},onCancel:function(){}})):(a="是否开启PING开关",e.verifyPassword().then((function(n){n&&e.$confirm({content:a,okText:"确认",cancelText:"取消",onOk:function(){var e=t.id;Ba({id:e,enable:!t.ping}).then((function(e){var a=e.data;t.ping=a.ping,t.pingWorkState=a.pingWorkState}))},onCancel:function(){}})})).catch((function(){})))},sshEnable:function(t){var e=this,a="";1==t.ssh?(a="是否关闭ssh开关",e.$confirm({content:a,okText:"确认",cancelText:"取消",onOk:function(){var e=t.id;za({id:e,enable:!t.ssh}).then((function(e){var a=e.data;t.ssh=a.ssh,t.sshWorkState=a.sshWorkState}))},onCancel:function(){}})):(a="是否开启ssh开关",e.verifyPassword().then((function(n){n&&e.$confirm({content:a,okText:"确认",cancelText:"取消",onOk:function(){var e=t.id;za({id:e,enable:!t.ssh}).then((function(e){var a=e.data;t.ssh=a.ssh,t.sshWorkState=a.sshWorkState}))},onCancel:function(){}})})).catch((function(){})))},viewLog:function(t){var e=this;e.verifyPassword().then((function(a){a&&e.dialog.open({state:"viewLog",parent:e,params:{deviceId:t}})})).catch((function(){}))},borderDeviceDispatch:function(t){this.dialog.open({state:"dispatch",parent:this,params:{id:t}})},cascaderHandler:function(){},update:function(t,e){var a=this;this.page=t||this.page,this.pageSize=e||this.pageSize,this.loading=!0,this.tableList(this.page,this.pageSize,this.searchParams).then((function(t){var e=t.data;e?(a.table.total=e.total,a.table.data=e.rows,a.loading=!1):(a.table.total=0,a.table.data=[],a.loading=!1)})).catch((function(){a.loading=!1}))}},destroyed:function(){},beforeDestroy:function(){this.dialog&&this.dialog.close(),this.passwordTimer&&(clearTimeout(this.passwordTimer),this.passwordTimer=null,this.isPasswordValid=!1)}},tn=Ja,en=(a("6a65"),Object(H["a"])(tn,Ra,Oa,!1,null,"4d364b72",null)),an=en.exports,nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-card",{staticClass:"container"},[n("div",{staticClass:"search"},[n("div",{staticClass:"title"},[t._v("执行命令")]),n("div",{ref:"search",staticClass:"content"},[n("span",[t._v("命令:")]),1!=t.dmsType?n("span",{staticClass:"inner",staticStyle:{width:"200px"}},[n("b-cascader",{attrs:{"show-all-channels":!1,"clear-on-init":!0},on:{change:t.cascaderHandler}})],1):t._e(),n("span",{staticClass:"inner"},[n("a-select",{staticStyle:{"min-width":"140px"},on:{change:t.commandChange},model:{value:t.exec.command,callback:function(e){t.$set(t.exec,"command",e)},expression:"exec.command"}},t._l(t.commandList,(function(e,a){return n("a-select-option",{key:a,attrs:{value:e.value}},[t._v(t._s(e.value))])})),1)],1),n("span",{staticClass:"outer"},[n("a-input",{staticClass:"i-width",staticStyle:{height:"32px","min-width":"410px"},attrs:{maxLength:64,placeholder:t.placeholder},on:{pressEnter:t.clickSearch},model:{value:t.exec.params,callback:function(e){t.$set(t.exec,"params",e)},expression:"exec.params"}})],1),n("span",{staticClass:"outer"},[n("a-button",{staticClass:"button",attrs:{loading:t.execLoading,type:"primary"},on:{click:t.execute}},[t._v("执行")])],1),n("span",{staticClass:"outer"},[n("a-button",{staticClass:"button",on:{click:function(e){return t.commandCancel(t.currentExecId)}}},[t._v("取消")])],1)])]),n("div",{staticClass:"body"},[n("div",{staticStyle:{"margin-bottom":"40px"}},[n("div",{staticClass:"title",staticStyle:{"margin-bottom":"5px"}},[t._v("命令结果")]),n("div",{staticClass:"beauty-scroll",staticStyle:{"margin-bottom":"20px","overflow-x":"hidden","overflow-y":"hidden",height:"320px",padding:"10px 5px 10px 10px",border:"1px solid #e3e3e3"}},[n("a-row",{attrs:{gutter:[15,15]}},t._l(t.execResult,(function(e){return n("a-col",{key:e.name,attrs:{span:24}},[n("a-card",{attrs:{"head-style":{backgroundColor:"#f1f5f6"}}},[n("template",{slot:"title"},[n("span",{staticStyle:{float:"left",width:"5px","padding-top":"16px","margin-top":"4px","background-color":"rgb(10, 177, 197)",display:"inline-block","margin-right":"8px"}}),n("span",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[t._v(t._s(e.name))])]),n("div",{staticClass:"beauty-scroll",staticStyle:{height:"195px","overflow-x":"auto","overflow-y":"auto"}},["TCPDUMP"===t.exec.command?n("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("div"),n("div",[n("img",{attrs:{src:a("82d5")}}),n("span",{staticStyle:{display:"block",position:"relative",top:"-30px",left:"79px",color:"#fff",cursor:"pointer"}},[t._v("下载结果")])]),n("div")]):n("div",[n("pre",[t._v(t._s(e.result))])])])],2)],1)})),1)],1)]),n("a-spin",{attrs:{spinning:t.spinning,tip:"正在导入数据，请稍等！"}},[n("div",{staticClass:"buttons"},[[1!=t.dmsType?n("span",{staticClass:"inner",staticStyle:{width:"200px"}},[n("b-cascader",{attrs:{"show-all-channels":!0,"clear-on-init":!0},on:{change:t.cascaderHandler1}})],1):t._e(),n("span",{staticClass:"oper-margin"},[n("a-select",{staticStyle:{"min-width":"140px"},attrs:{placeholder:"请选择命令"},model:{value:t.search.command,callback:function(e){t.$set(t.search,"command",e)},expression:"search.command"}},t._l(t.commandList,(function(e,a){return n("a-select-option",{key:a,attrs:{value:e.value}},[t._v(t._s(e.value))])})),1)],1),n("span",{staticClass:"oper-margin"},[n("a-input",{staticClass:"i-width",attrs:{maxLength:64,placeholder:"请输入参数"},on:{pressEnter:t.clickSearch},model:{value:t.search.params,callback:function(e){t.$set(t.search,"params",e)},expression:"search.params"}})],1),n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("查询")])],n("a-button",{attrs:{type:"primary",icon:"sync"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("刷新")])],2),n("div",{staticClass:"title"},[t._v("历史结果")]),n("a-row",{staticClass:"table"},[n("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[n("span",{staticStyle:{position:"absolute",top:"-25px",left:"12px",color:"#c8c8c8"}},[t.operations.selectedRowKeys.length>0?[t._v(t._s("已选中 "+t.operations.selectedRowKeys.length+" 项"))]:t._e()],2),n("b-fixed-table",{attrs:{columns:t.columns,rowKey:"id","row-selection":null,data:t.table.data,total:t.table.total,"table-height":379,loading:t.loading,"init-page":t.page,size:"small"},on:{change:t.tableParamChanged},scopedSlots:t._u([{key:"params",fn:function(e){var a=e.record;return[n("span",[t._v(t._s(t._f("convertExecParam")(a)))])]}},{key:"execState",fn:function(e){var a=e.record;return[n("span",[t._v(t._s(t._f("convertExecState")(a.execState)))])]}},{key:"gmtCreate",fn:function(e){var a=e.record;return[n("span",[t._v(t._s(t._f("convertTime")(a.gmtCreate)))])]}},{key:"operations",fn:function(e){var a=e.record;return[t.readOnly?t._e():n("span",{staticClass:"oper-margin"},[n("span",{staticClass:"oper",on:{click:function(e){return t.commandDownload(a.id)}}},[t._v("结果下载")])])]}}])})],1)],1)],1)],1)])],1)},rn=[];function on(t,e,a){return sn.apply(this,arguments)}function sn(){return sn=Object(v["a"])(regeneratorRuntime.mark((function t(e,a,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-diagnose-tools?offset=".concat((e-1)*a,"&limit=").concat(a,"&search=").concat(n||""),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),sn.apply(this,arguments)}function cn(t){return ln.apply(this,arguments)}function ln(){return ln=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-diagnose-tool/execute",g["a"].POST,e));case 1:case"end":return t.stop()}}),t)}))),ln.apply(this,arguments)}function dn(t){return un.apply(this,arguments)}function un(){return un=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g["f"])("device/border-device-diagnose-tool/execute/".concat(e),g["a"].GET));case 1:case"end":return t.stop()}}),t)}))),un.apply(this,arguments)}function pn(t){return fn.apply(this,arguments)}function fn(){return fn=Object(v["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(g["f"])("device/border-device-diagnose-tool/cancel/".concat(a),g["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),fn.apply(this,arguments)}function mn(t){return hn.apply(this,arguments)}function hn(){return hn=Object(v["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(g["f"])("device/border-device-diagnose-tool/redo/".concat(a),g["a"].POST));case 2:case"end":return t.stop()}}),t)}))),hn.apply(this,arguments)}var vn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.form.init.show?a("div",[a("a-modal",{attrs:{closable:!0,title:t.form.init.title,width:t.form.init.width,"mask-closable":!1},model:{value:t.form.init.show,callback:function(e){t.$set(t.form.init,"show",e)},expression:"form.init.show"}},["cancel"===t.form.name?a("div",[t._v(" 确定取消执行命令？ ")]):"redo"===t.form.name?a("div",[t._v(" 确定重新执行命令？ ")]):t._e(),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.clickOK()}}},[t._v(t._s("create"===t.form.name||"modify"===t.form.name?"保存及下发":"batchDispatch"===t.form.name?"下发":"确定")+" ")]),a("a-button",{on:{click:function(e){return t.clickCancel()}}},[t._v("取消")])],1)],2)],1):t._e()},gn=[],bn={name:"BorderDeviceDiagnoseToolDialog",mixins:[c["a"]],components:{},filters:{},props:{},data:function(){return{deviceList:[],deviceType:"",okCallback:"",form:{cancel:{title:"取消执行",width:450,request:pn,show:!0,data:{id:""},rules:{}},redo:{title:"重新执行",width:450,request:mn,show:!0,data:{id:""},rules:{}}}}},created:function(){this.showDialog(this.state,this.params),this.okCallback=this.ok},methods:{close:function(){this.form.init.show=!1},clickOK:function(){this.okCallback&&this.okCallback(),this.clickSave()},update:function(){var t=this;t.parent.update()}}},yn=bn,wn=Object(H["a"])(yn,vn,gn,!1,null,"004c5304",null),kn=wn.exports,xn=new u["a"](kn),_n=[{title:"设备名称",dataIndex:"deviceName"},{title:"命令",dataIndex:"command"},{title:"参数",ellipsis:!0,scopedSlots:{customRender:"params"}},{title:"执行状态",ellipsis:!0,scopedSlots:{customRender:"execState"}},{title:"开始时间",ellipsis:!0,scopedSlots:{customRender:"gmtCreate"}},{title:"操作",scopedSlots:{customRender:"operations"}}],Cn={name:"BorderDeviceBasic",components:{BFixedTable:d["a"],BCascader:He["a"]},mixins:[c["a"]],comments:{},props:{},data:function(){return{readOnly:!1,systemType:"",spinning:!1,select:h["a"].select,input:h["a"].input,format5:h["a"].format5,format6:h["a"].format6,columns:_n,tableList:on,dialog:xn,placeholder:"请输入命令过滤规则",commandList:[{id:1,value:"PING",placeholder:"请输入命令过滤规则"},{id:2,value:"ARPING",placeholder:"请输入命令过滤规则"}],popContainer:null,exec:{command:"PING",params:"",deviceId:"",channelInfoId:""},execExternal:{deviceType:""},lastExec:{},currentExecId:"",execResult:[],execInterval:null,loading:!1,execLoading:!1,table:{data:[],total:0}}},filters:{convertTime:N["C"],convertExecState:N["o"],convertExecParam:function(t){var e="".concat(t.params);return e}},created:function(){this.systemType=localStorage.getItem("systemType")},watch:{$route:function(t,e){var a=this;e.path!==t.path&&this.$nextTick((function(){a.dialog&&a.dialog.close()}))}},mounted:function(){this.detectDeviceType()},methods:{cascaderHandler:function(t){this.exec.deviceId=t[0],this.exec.channelInfoId=t[1]},cascaderHandler1:function(t){this.search.deviceId=t[0],this.search.channelInfoId=t[1]},commandChange:function(t){var e=this;this.commandList.map((function(a){t===a.value&&(e.placeholder=a.placeholder)})),this.clearCommandInfo()},deviceChange:function(t,e){var a=e.data;this.exec.deviceName=a.attrs.text,this.execExternal.deviceType=a.attrs.type,this.updateBorderDeviceTopIface(t)},clearExecuteInterval:function(){null!==this.execInterval&&(clearInterval(this.execInterval),this.execInterval=null,this.currentExecId="")},execute:function(){var t=this;1==this.dmsType||this.exec.channelInfoId?-1===this.exec.params.indexOf(";")?""!=this.exec.params?(this.lastExec=Object(Jt["d"])(this.exec),this.clearCommandInfo(),this.execLoading=!0,cn(this.exec).then((function(e){var a=e.data;t.execLoading=!1;var n=a.id,i=1;if(n){var r=function(){dn(n).then((function(e){var a=e.data;i===a.length&&t.clearExecuteInterval(),t.execResult=a}))};t.clearExecuteInterval(),t.currentExecId=n,r(),t.execInterval=setInterval((function(){r()}),1e4),t.clickSearch()}})).catch((function(){t.execLoading=!1}))):this.$message.error("请先输入命令"):this.$message.error("参数包含异常字符！"):this.$message.error("请选择设备与通道！")},clearCommandInfo:function(){this.execResult=[],clearInterval(this.execInterval),this.execInterval=null},commandCancel:function(t){if(t){var e=this;e.execLoading=!1,this.dialog.open({state:"cancel",parent:this,params:{id:t},ok:function(){e.clearExecuteInterval()}})}},commandRedo:function(t){t&&this.dialog.open({state:"redo",parent:this,params:{id:t}})},commandDownload:function(t){window.open("".concat(this.BASE_URL,"device/border-device-diagnose-tool/download/").concat(t),"_blank")},update:function(t,e){var a=this;this.page=t||this.page,this.pageSize=e||this.pageSize,this.loading=!0;var n=encodeURIComponent(JSON.stringify(this.search));this.tableList(this.page,this.pageSize,n).then((function(t){var e=t.data;e?(a.table.total=e.total,a.table.data=e.rows,a.loading=!1):(a.table.total=0,a.table.data=[],a.loading=!1)})).catch((function(){a.loading=!1}))}},destroyed:function(){},beforeDestroy:function(){this.dialog&&this.dialog.close()}},Sn=Cn,In=(a("bfad"),Object(H["a"])(Sn,nn,rn,!1,null,"2fd3b9f4",null)),Tn=In.exports,Rn="db:m",On={components:{BdeviceBasic:ot,BdeviceInterface:Le,BdeviceRouterConfig:Ze,BdeviceBackup:Ta,BdeviceMaintenance:an,BdeviceTool:Tn},mixins:[],filters:{},comments:{},props:{},data:function(){return{permissionDeviceMenu:[],menuLists:[{id:1,value:1,menuName:"基本配置"},{id:2,value:2,menuName:"网络接口"},{id:3,value:3,menuName:"网关配置"},{id:4,value:4,menuName:"配置备份"},{id:6,value:6,menuName:"设备调试"},{id:8,value:8,menuName:"诊断工具"}],menu:""}},created:function(){var t=this;this.systemType=localStorage.getItem("systemType");var e=JSON.parse(localStorage.getItem("border-device"));e.forEach((function(e){var a="";a=Number.parseInt(e.index),t.permissionDeviceMenu.push(a)})),this.menu=+sessionStorage.getItem(Rn)||Number.parseInt(this.permissionDeviceMenu[0])},watch:{},mounted:function(){},methods:{handleMenuChange:function(t){this.menu=t.target.value,sessionStorage.setItem(Rn,this.menu)}},destroyed:function(){},beforeDestroy:function(){}},Dn=On,Ln=(a("1d49"),Object(H["a"])(Dn,n,i,!1,null,"db8a32c2",null));e["default"]=Ln.exports},"3b18":function(t,e,a){"use strict";a("4733")},"3d55":function(t,e,a){"use strict";a("b87e")},"41c5":function(t,e,a){},4487:function(t,e,a){"use strict";a("f54b")},"458e":function(t,e,a){},4733:function(t,e,a){},4775:function(t,e,a){"use strict";a("b0fd")},4901:function(t,e,a){},"4c94":function(t,e,a){"use strict";a("06ac")},6026:function(t,e,a){},"6a65":function(t,e,a){"use strict";a("a53b")},"6fdc":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-select",{staticStyle:{height:"34px"},attrs:{filterOption:t.filterOption,"show-search":t.showSearch,disabled:t.disabled,notFoundContent:"无匹配数据",mode:"multiple",maxTagCount:t.maxTagCount,placeholder:t.placeholder,"show-arrow":!0},on:{change:t.change,search:t.search,dropdownVisibleChange:t.dropdownVisibleChange},scopedSlots:t._u([{key:"dropdownRender",fn:function(e){return a("div",{},[a("v-nodes",{attrs:{vnodes:e}}),a("a-divider",{staticStyle:{margin:"4px 0"}}),a("div",{staticStyle:{padding:"0 17px",float:"right",display:"inline-block"}},[a("a",{staticClass:"ant-calendar-time-picker-btn",staticStyle:{display:"inline-block",padding:"5px 8px 6px",height:"36px"},on:{click:t.selectAll}},[t._v("全选")]),a("a",{staticClass:"margin5 ant-calendar-time-picker-btn",staticStyle:{"margin-left":"10px",display:"inline-block",padding:"5px 8px 6px",height:"36px"},on:{click:t.deselectAll}},[t._v("清空")])])],1)}}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.data,(function(e){return a("a-select-option",{key:e[t.optionKey],attrs:{text:e[t.titleKey],title:e[t.titleKey],value:e[t.optionKey]}},[t._v(" "+t._s(e[t.titleKey])+" ")])})),1)},i=[],r=(a("a9e3"),a("d81d"),a("b0c0"),{name:"BMultipleSelect",props:{disabled:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},optionKey:{type:String,default:"id"},titleKey:{type:String,default:"name"},filterOption:{type:Function,default:function(t,e){var a=e.data,n=a.attrs;return~n.text.indexOf(t)}},showSearch:{type:Boolean,default:!0},maxTagCount:{type:Number,default:void 0},placeholder:{type:String,default:""},value:{}},model:{prop:"value",event:"change"},components:{VNodes:{functional:!0,render:function(t,e){return e.props.vnodes}}},data:function(){return{model:[],searchValue:"",newItem:""}},created:function(){this.model=this.value},methods:{selectAll:function(){var t=this;this.model=this.data.map((function(e){return e[t.optionKey]})),this.searchValue&&(this.model=[],this.data.map((function(e){-1!==e.name.indexOf(t.searchValue)&&t.model.push(e[t.optionKey])}))),this.$emit("change",this.model,this.data,"selectAll")},deselectAll:function(){this.model=[],this.$emit("change",this.model,[],"deselectAll")},change:function(t,e){this.$emit("change",t,e)},search:function(t){this.searchValue=t||""},dropdownVisibleChange:function(){this.searchValue=""}},watch:{value:function(t){this.model=t}}}),o=r,s=a("2877"),c=Object(s["a"])(o,n,i,!1,null,"e18813dc",null);e["a"]=c.exports},"7e69":function(t,e,a){},"7fee":function(t,e,a){},"82d5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN8AAACuCAYAAAC2h9hIAAAGkklEQVR4nO3c32tbZRzH8e9J0q5Lus4lk4FlDnGbg0LHZpAyFEXw0hvBmylOkAnbLraLeuUP0HmvE3G3g+mFoOB/oEMQB0Whzqu5rbq2W2ebbjXJ0iQnx4s1o2ubdmtO8jnN835BCDS/Hsbe5OSbJ8cLgsDC9OvVya/M7FioT4ownB3s33586R+Tm7oVa4GZeS2ILxjs3x7qc6J547fzliuUzgz2bz+1+O9vfX9h1cd9d/iVlq7LZTH1AtAe/Vt7LdmdODk6Mf2Bei24h/gc4Xlmu9J91hWPnR6dmH5TvR4Qn1O64jHbld5inmfnRyemD6jX4zric0yyu8v6t/aaMRSTS6gXgPZLp3qsWKkeHZ2YLprZqTUfgJbgnc9R9QHM8NAAAxgR4nPU4gHM8NAAAxgB4nPY4gHM8NAAA5g2Iz7HMYDRIT5YOtVj6VTP0eGhgc/Va3EJ8cHMGMAoEB/MjAGMAhur8YBiuWJXpu9YENjBn69P/a5eT6u996JuzsQ7Hx7AAKZ9iA/L1AcwL+zcwQCmhTjsbMKFazfs0lROvQwsd3ZkprDsh8OP4tvXng9rLQ2xt7MJl6Zy9sb+3eplYIlvLo0dy2ZS5ZGZQqT3rUYmvqnbc+oloEP89u+cPfv4lpPZTGp6ZKbwqXo9jfCZDx2nFgT2R65ggeedzmZSkf3ahPjQkUpV367my1YL7Hw2k4rkvlXiQ8eaLZXt5rxvtcBOqNeyEuJDR5sslCxXrb2TzaQi97UJ8aHjjc3dtTk/OJnNpCK1b5X44ITLt4tW9INIDWAi81XDjsf61EtABwvM7PJcyfb29ZzPZlJ/jswU5PtWeeeDMyq1mv1dKNtdvzasXosZ8cEx+UrVbpSqhw+kk1+q10J8cE6uVLHJUvVENpP6ULkO4oOTpoplmypVP1EOYIgPzrpemLfZsi/bAUN8cNpYft5y5erHitcmPjjNDwKbKFZe3bd187l2vzbxwXnzfs3Gi+Ujg9uSbf35EfEBZpav+Ha9WH7/YDp1pF2vSXzAgtn5qo0Xy+faNYCJzPYyICyfvbx/3Y/9a2bOLo7fOmZm74a3opURn9gv1ybVS+g4h556Yt2P3Z3ps4vjt46aS/FxDhe4hs98gAjxASLEB4gQHyBCfIBIZKadrmpmLI6NLTLxcQ4XuIbDTkCE+AAR4gNEiA8QIT5AhPgAEeIDRIgPECE+QIT4ABHiA0Qis7fTVZzDJXwbZbN6ZOLjHC5wDYedgAjxASLEB4gQHyBCfIBIZKadrtooY3GELzLxcQ4XuIbDTkCE+AAR4gNEiA8QIT5AhPgAEeIDRIgPECE+QIT4ABHiA0Qis7fTVZzDJXwbZbN6ZOLjHC5wDYedgAjxASLEB4gQHyBCfIBIZKadrtooY3GELzLxcQ4XuIbDTkCE+AAR4gNEiA8QIT5AhPgAEeIDRIgPECE+QIT4ABHiA0Qis7fTVZzDJXwbZbN6ZOKLyjlc2OCNduGwExAhPkCE+AAR4gNEiA8Qicy001UbZSyO8EUmPkb8cA2HnYAI8QEixAeIEB8gQnyACPEBIsQHiBAfIEJ8gAjxASLEB4hEZm+nq6JyDhc2eLdf4rmPzoT6hF+8/XqozwcohN3FStb7zrfJzPYuXPYsXO9buAY6Qc7Mxszsn4XrawvX9cudZl9gtfhiZvakLY9rj5ntMj4vorNtW7gcaHD7rDUZZ8LM0rY8rvq7Ws96Vw50uKbi7Hpm/51EYufTM/7MlAXFfKsXC7ikYZxestfM7KeEl+y1RLLXgmLeiBBoHS/Za/HMjnp8LyUW30CE7ceIv/Mtie6+ZQMXIgTC0Si6uobTTiIE1met6OrW/J6PCIGH87DR1T30l+xECKzsUaOre+QdLkQI3LPe6OrWvbGaCOGqZqOra/pXDUsjXGrer1nFrzV8fKUWWMn3G94eBGaFSnXVNRSqvtWCxreXfd/KfuM7VGuB3a0uX0N+jde9/N+8/XDl5qr3SXXFzTNv1fusJRHzbFO8+d18mxNxizW3FIt5niUT8abX0h2PWVezi7H2/vuGFd395zv09Y+r/LcF0CpsjgZEiA8QIT5AhPgAEeIDRIgPECE+QIT4ABHiA0SIDxAhPkCE+AAR4gNEiA8QIT5AhPgAEeIDRIgPECE+QIT4ABHiA0SIDxAhPkCE+AAR4gNEiA8QIT5AhPgAEeIDRIgPECE+QIT4ABHiA0SIDxAhPkCE+AAR4gNEiA8QIT5AhPgAkf8Bwf/BqpRMNMkAAAAASUVORK5CYII="},8449:function(t,e,a){"use strict";var n=a("8cff"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.form.init.show?a("div",[a("a-modal",{attrs:{closable:!0,title:"连通性检测",width:t.form.init.width,"mask-closable":!1,footer:null},on:{cancel:t.clickCancel},model:{value:t.form.init.show,callback:function(e){t.$set(t.form.init,"show",e)},expression:"form.init.show"}},[a("a-button",{attrs:{type:"primary"},on:{click:t.detectionTest}},[t._v("链路检测")]),"1"==t.form.init.data.channelType?a("span",{staticStyle:{"margin-left":"10px","font-size":"14px",color:"red"}},[t._v("单向检测结果在对端查看，本端查看对端检测结果")]):"2"==t.form.init.data.channelType||"3"==t.form.init.data.channelType?a("span",{staticStyle:{"margin-left":"10px","font-size":"14px",color:"red"}},[t._v("双向检测结果在本端查看")]):t._e(),a("div",{staticStyle:{margin:"0px 10px 10px 0px"}},[t._v("检测结果:")]),a("a-card",[t.requestError?t._e():a("a-table",{attrs:{columns:t.detectionColumns,loading:t.loading,"data-source":t.tableData,pagination:!1}}),t.requestError?a("h3",[t._v("链路不通")]):t._e()],1)],1)],1):t._e()},r=[],o=a("1da1"),s=(a("96cf"),a("99af"),a("b775")),c=a("c2f2"),l=[{title:"开始时间",dataIndex:"startTimeStr",key:"startTimeStr"},{title:"结束时间",dataIndex:"endTimeStr",key:"endTimeStr"},{title:"方向",dataIndex:"msg",key:"msg"},{title:"类型",dataIndex:"typeStr",key:"typeStr"},{title:"检测状态",dataIndex:"status",key:"status"}],d={name:"linkDialog",mixins:[c["a"]],comments:{},filters:{},props:{},data:function(){return{detectionColumns:l,show:!1,loading:!1,requestError:!1,title:"",width:710,prop:"",form:{init:{show:!0,width:710,data:{id:"",deviceId:"",sn:"",channelName:"",channelType:"",deviceNodeName:""}}},tableData:[],timer:null,requestCount:0,maxRequestCount:30}},created:function(){this.showDialog(this.state,this.params),"1"==this.params.channelType&&this.startDetection()},methods:{close:function(){this.form.init.show=!1,this.stopDetection()},update:function(){this.parent.update()},startDetection:function(){this.tableData=[],this.requestCount=0,this.startPolling()},startPolling:function(){var t=this;this.stopDetection(),this.timer=setInterval((function(){t.fetchData()}),2e3)},stopDetection:function(){this.loading=!1,this.timer&&(clearInterval(this.timer),this.timer=null)},fetchData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,Object(s["b"])("dmsProxy/getTtestConnectionInfo?type=".concat("1"==t.form.init.data.channelType?"DX":"SX","&channelInfoId=").concat(t.form.init.data.id),s["a"].GET);case 4:a=e.sent,a?(t.tableData=[{startTimeStr:a.startTimeStr,endTimeStr:a.endTimeStr,status:a.status,msg:a.msg,typeStr:a.typeStr}],t.stopDetection()):(t.requestCount++,t.requestCount>=t.maxRequestCount&&(t.stopDetection(),t.$message.warning("未获取到检测数据"),t.requestError=!0)),e.next=13;break;case 8:e.prev=8,e.t0=e["catch"](0),t.stopDetection(),t.$message.error("请求失败，请稍后重试。"),t.requestError=!0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))()},detectionTest:function(){var t=this,e="点击链路检测后，会在对端看到详情，确认点击链路检测吗？";"2"!=t.form.init.data.channelType&&"3"!=t.form.init.data.channelType||(e="确认点击链路测试吗？"),t.$confirm({content:e,okText:"确认",cancelText:"取消",onOk:function(){Object(s["b"])("dmsProxy/testConnection?type=".concat("1"==t.form.init.data.channelType?"DX":"SX","&channelInfoId=").concat(t.form.init.data.id),s["a"].POST).then((function(e){t.$message.success("开始检测"),t.startDetection()}))},onCancel:function(){}})},clickCancel:function(){this.stopDetection()}},beforeDestroy:function(){this.stopDetection()}},u=d,p=a("2877"),f=Object(p["a"])(u,i,r,!1,null,"6cdfb57a",null),m=f.exports;e["a"]=new n["a"](m)},"94f8e":function(t,e,a){"use strict";a("0ecd")},"9dea":function(t,e,a){"use strict";a("9f53")},"9f53":function(t,e,a){},a53b:function(t,e,a){},a8cb:function(t,e,a){},b0fd:function(t,e,a){},b7b6:function(t,e,a){"use strict";a.d(e,"e",(function(){return r})),a.d(e,"b",(function(){return s})),a.d(e,"h",(function(){return l})),a.d(e,"i",(function(){return u})),a.d(e,"g",(function(){return f})),a.d(e,"f",(function(){return h})),a.d(e,"m",(function(){return g})),a.d(e,"k",(function(){return y})),a.d(e,"l",(function(){return k})),a.d(e,"j",(function(){return _})),a.d(e,"c",(function(){return S})),a.d(e,"d",(function(){return T})),a.d(e,"a",(function(){return O}));var n=a("1da1"),i=(a("96cf"),a("99af"),a("b775"));function r(t,e,a){return o.apply(this,arguments)}function o(){return o=Object(n["a"])(regeneratorRuntime.mark((function t(e,a,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i["f"])("device/border-device-basics?offset=".concat((e-1)*a,"&limit=").concat(a).concat(n),i["a"].GET));case 1:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}function s(t){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(i["f"])("device/border-device-basic/".concat(a),i["a"].DELETE));case 2:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function l(t){return d.apply(this,arguments)}function d(){return d=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(i["f"])("device/border-device-basic/recover/".concat(a),i["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function u(t){return p.apply(this,arguments)}function p(){return p=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(i["f"])("device/border-device-basic/reset/".concat(a),i["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return m=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,n=e.action,t.abrupt("return",Object(i["f"])("device/border-device-basic/close/".concat(a,"?action=").concat(n),i["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function h(t){return v.apply(this,arguments)}function v(){return v=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i["f"])("device/border-device-basic",i["a"].PUT,e));case 1:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function g(){return b.apply(this,arguments)}function b(){return b=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i["f"])("device/network-areas",i["a"].GET));case 1:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}function y(t){return w.apply(this,arguments)}function w(){return w=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i["f"])("device/border-device-basic/time-config/".concat(e),i["a"].GET));case 1:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function k(t){return x.apply(this,arguments)}function x(){return x=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i["f"])("device/border-device-basic/time-config",i["a"].PUT,e));case 1:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}function _(t){return C.apply(this,arguments)}function C(){return C=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i["f"])("device/border-device-basic-state/".concat(e),i["a"].GET));case 1:case"end":return t.stop()}}),t)}))),C.apply(this,arguments)}function S(t){return I.apply(this,arguments)}function I(){return I=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i["f"])("device/border-device-basic/".concat(e),i["a"].GET));case 1:case"end":return t.stop()}}),t)}))),I.apply(this,arguments)}function T(t){return R.apply(this,arguments)}function R(){return R=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,n=e.enable,t.abrupt("return",Object(i["f"])("device/border-device-basic/fastpath/".concat(a,"?enable=").concat(n),i["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),R.apply(this,arguments)}function O(t){return D.apply(this,arguments)}function D(){return D=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i["f"])("device/channel-infos?sn=".concat(e),i["a"].GET));case 1:case"end":return t.stop()}}),t)}))),D.apply(this,arguments)}},b87e:function(t,e,a){},bfad:function(t,e,a){"use strict";a("7fee")},cc3f:function(t,e,a){"use strict";a("e7f1")},e233:function(t,e,a){"use strict";a("7e69")},e7f1:function(t,e,a){},e9bd:function(t,e,a){},ebd8:function(t,e,a){"use strict";a("41c5")},f54b:function(t,e,a){}}]);