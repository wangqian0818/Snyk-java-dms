(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fafba3b0"],{"73e4":function(t,a,e){"use strict";e("7fe0")},"7fe0":function(t,a,e){},ec1c:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"search",staticStyle:{"padding-left":"0"}},[e("a-card",{attrs:{loading:t.loading,bordered:!1}},[e("div",{staticClass:"body"},[e("div",{staticClass:"buttons"}),e("a-row",{staticClass:"table"},[e("a-col",{staticClass:"ant-col-offset-4",staticStyle:{padding:"0 12px"},attrs:{xl:16,lg:16,md:16,sm:16,xs:16}},[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[t._v("系统信息")]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("span",[t._v(t._s(t.form.data.name||"-"))])]),e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[t._v("License授权状态")]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[t._v(t._s(t.form.data.licenseStatus))]),e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[t._v("License有效期")]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[t._v(t._s(t._f("time")(t.form.data.beginTimestamp))+" ~ "+t._s(t._f("time")(t.form.data.endTimestamp)))]),e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[t._v("License升级")]),e("a-card-grid",{staticClass:"grid-content",staticStyle:{padding:"10px 24px"},attrs:{hoverable:!1}},[e("div",[e("a-button",{attrs:{type:"primary"},on:{click:t.handleClick}},[e("a-icon",{attrs:{type:"cloud-upload"}}),t._v(" 上传License ")],1),e("span",{staticClass:"white",staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.form.file.name))]),e("input",{ref:"input",class:"ant-input",attrs:{type:"file",hidden:"",multiple:!1,accept:".lic"},on:{change:t.handleChange}})],1)])],1)],1)],1)])],1)])},s=[],n=e("bc3a"),r=e.n(n),c=e("ca00"),l=e("ba79"),d=e("905c"),o={name:"SystemInfo",mixins:[],components:{},data:function(){return{loading:!1,form:{url:"".concat(l["b"],"system/license-update"),file:{},data:{}}}},filters:{time:c["n"],shortText:c["m"]},created:function(){this.getLicense()},methods:{getLicense:function(){var t=this;t.loading=!0,t.form.file={},Object(d["b"])().then((function(a){var e=a.data;t.form.data=e,t.loading=!1}))},handleClick:function(){this.disabled||this.$refs.input.click()},handleChange:function(t){var a=this,e=t.target.files;if(e&&0!==e.length){a.form.file=e[0];var i=new FormData;i.append("file",a.form.file),r()({method:"POST",url:a.form.url,data:i,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){t&&t.data&&"SUCCESS"==t.state?(a.$message.success("上传成功！",3),a.getLicense()):(a.$message.error(t.msg||"上传失败，请重试"),a.form.file={})})).catch((function(){a.form.file={},a.$refs.input.value=""}))}},update:function(){var t=this;t.loading=!0,t.form={file:{name:""},data:{}},Object(d["b"])().then((function(a){var e=a.data;t.form.data=e,t.loading=!1}))}}},f=o,m=(e("73e4"),e("2877")),u=Object(m["a"])(f,i,s,!1,null,"34f1aeed",null),g=u.exports;a["default"]=g}}]);