(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a1b52f5"],{2909:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var i=r("6b75");function a(e){if(Array.isArray(e))return Object(i["a"])(e)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var s=r("06c5");r("d9e2");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return a(e)||n(e)||Object(s["a"])(e)||o()}},"3c63":function(e,t,r){},"74b4":function(e,t,r){"use strict";r.r(t),r.d(t,"checkMAC",(function(){return o})),r.d(t,"checkIpFormat",(function(){return c}));var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"search",staticStyle:{"padding-left":"0","margin-top":"30px"}},[r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"body"},[r("div",{staticClass:"buttons"}),r("a-row",{staticClass:"table"},[r("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[r("a-spin",{attrs:{spinning:e.spinning}},[r("div",{staticClass:"formClass"},[r("a-form-model",{ref:"registerForm",attrs:{rules:e.registerFormRules,model:e.registerForm,"label-col":{span:8},"wrapper-col":{span:16}}},[r("a-form-model-item",{ref:"deviceId",staticClass:"item",attrs:{label:"设备序列号",prop:"deviceId"}},[r("a-input",{staticClass:"dialog-input-height",attrs:{placeholder:"请输入设备序列号"},model:{value:e.registerForm.deviceId,callback:function(t){e.$set(e.registerForm,"deviceId",t)},expression:"registerForm.deviceId"}})],1),r("a-form-model-item",{ref:"company",attrs:{label:"所属单位",prop:"company"}},[r("a-input",{staticClass:"dialog-input-height",attrs:{placeholder:"请输入所属单位"},model:{value:e.registerForm.company,callback:function(t){e.$set(e.registerForm,"company",t)},expression:"registerForm.company"}})],1),r("a-form-model-item",{ref:"location",attrs:{label:"部署位置",prop:"location"}},[r("a-input",{staticClass:"dialog-input-height",attrs:{placeholder:"请输入部署位置"},model:{value:e.registerForm.location,callback:function(t){e.$set(e.registerForm,"location",t)},expression:"registerForm.location"}})],1),r("a-form-model-item",{ref:"ip",attrs:{label:"IP地址",prop:"ip"}},[r("a-input",{staticClass:"dialog-input-height",attrs:{placeholder:"请输入IP地址"},model:{value:e.registerForm.ip,callback:function(t){e.$set(e.registerForm,"ip",t)},expression:"registerForm.ip"}})],1),r("a-form-model-item",{ref:"mac",attrs:{label:"MAC地址",prop:"mac"}},[r("a-input",{staticClass:"dialog-input-height",attrs:{placeholder:"请输入MAC地址"},model:{value:e.registerForm.mac,callback:function(t){e.$set(e.registerForm,"mac",t)},expression:"registerForm.mac"}})],1),r("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:11}}},[r("a-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("注册")])],1)],1)],1)])],1)],1)],1)])],1)])},a=[],n=r("2909"),s=(r("4d63"),r("c607"),r("ac1f"),r("2c3e"),r("25f0"),r("00b4"),r("1276"),r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),r("e9c4"),r("b775"));function o(e,t,r){var i=/^([a-fA-F0-9]{2}-){5}([a-fA-F0-9]{2})$/,a=new RegExp(i);a.test(t)?r():r(!0)}function c(e,t,r){if(null==t||""==t)return!0;var i=!0;if(t.length<7||t.length>15)i=!1;else{var a=t.split("."),s=Object(n["a"])(new Set(a)).toString();0!=s&&255!=s||(i=!1),4!=a.length&&(i=!1);for(var o=0;o<a.length;o++){var c=/^[0-9]+\.?[0-9]*$/;c.test(a[o])||(i=!1);var l=a[o];if(l<0||l>255){i=!1;break}}}i?r():r(!0)}var l={name:"SystemSettings",mixins:[],components:{},data:function(){return{settings:"",spinning:!1,registerForm:{id:"",deviceId:"",company:"",location:"",ip:"",mac:""},registerFormRules:{deviceId:[{required:!0,message:"请输入设备序列号",trigger:"blur"}],company:[{required:!0,message:"请输入所属单位",trigger:"blur"}],location:[{required:!0,message:"请输入部署位置",trigger:"blur"}],ip:[{required:!0,message:"请输入IP地址",trigger:"blur"},{message:"请输入正确的IP地址",trigger:"blur",validator:c}],mac:[{required:!0,message:"请输入MAC",trigger:"blur"},{message:'输入格式不正确,并且以"-"连接',trigger:"blur",validator:o}]}}},filters:{},created:function(){this.updateInfo()},mounted:function(){},methods:{updateInfo:function(){var e=this;this.spinning=!0,Object(s["b"])("device/device-registers",s["a"].GET).then((function(t){e.registerForm=t,e.spinning=!1})).catch((function(){e.spinning=!1}))},submitForm:function(){var e=this;e.$refs.registerForm.validate((function(t){if(t){e.spinning=!0;var r=JSON.parse(JSON.stringify(e.registerForm));Object(s["b"])("device/device-register",s["a"].POST,r).then((function(t){e.$message.success("注册成功"),e.registerForm=t,e.spinning=!1})).catch((function(){e.spinning=!1}))}}))},testIP:function(e){var t=/^(([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])$/;return!!t.test(e)}}},d=l,m=(r("ab8d"),r("2877")),u=Object(m["a"])(d,i,a,!1,null,"502ba76e",null);t["default"]=u.exports},ab8d:function(e,t,r){"use strict";r("3c63")}}]);