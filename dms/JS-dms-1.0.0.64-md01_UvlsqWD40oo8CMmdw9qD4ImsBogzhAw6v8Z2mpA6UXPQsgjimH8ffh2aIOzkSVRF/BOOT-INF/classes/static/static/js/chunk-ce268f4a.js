(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce268f4a"],{"0618":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-table",{ref:"table",staticClass:"AStockOutDetailTable",attrs:{columns:t.columns,dataSource:t.data,rowKey:t.rowKey,bordered:t.bordered,loading:t.loading,size:t.size,"row-selection":t.rowSelection,pagination:{current:t.page,pageSize:t.pageSize,total:t.total,pageSizeOptions:t.pageSizeOptions,onChange:t.onPageChange,onShowSizeChange:t.onShowSizeChange,showSizeChanger:t.showSizeChanger,showQuickJumper:t.showQuickJumper,hideOnSinglePage:t.hideOnSinglePage,showTotal:t.showTotal,size:t.size,showLessItems:t.showLessItems},scroll:{y:t.tableHeight}},scopedSlots:t._u([{key:"number",fn:function(e,a,n){return t.showIndex?[t._v(" "+t._s(n+1)+" ")]:void 0}},t._l(Object.keys(t.$scopedSlots).filter((function(t){return"expandedRowRender"!==t})),(function(e){return{key:e,fn:function(a,n,r){return[t._t(e,null,null,{text:a,record:n,index:r})]}}})),{key:t.$scopedSlots.expandedRowRender?"expandedRowRender":"",fn:function(e,a,n,r){return[t._t(t.$scopedSlots.expandedRowRender?"expandedRowRender":"",null,null,{record:e,index:a,indent:n,expanded:r})]}}],null,!0)},[t._l(Object.keys(t.$slots),(function(e){return a("template",{slot:e},[t._t(e)],2)}))],2)],1)},r=[],i=(a("a9e3"),a("9b10")),o={name:"BFixedTable",mixins:[i["a"]],props:{columns:{type:Array,required:!0},pageSizeOptions:{type:Array,default:function(){return["10","20","50","100","200"]}},showIndex:{type:Boolean,default:!0},rowKey:String,tableHeight:{type:Number,default:550},beautyScroller:{type:Boolean,default:!0},data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},bordered:{type:Boolean,default:!0},initPage:{type:Number,default:1},initPageSize:{type:Number,default:10},showOuterBorder:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},showTotal:{type:Function,default:function(t){return"总共".concat(t,"条")}},showQuickJumper:{type:Boolean,default:!0},showSizeChanger:{type:Boolean,default:!0},hideOnSinglePage:{type:Boolean,default:!1},showLessItems:{type:Boolean,default:!1},size:{type:String,default:"default"},rootData:{type:Object,default:function(){}},rowSelection:{type:Object,default:function(){return null}}},data:function(){return{page:1,pageSize:10}},mounted:function(){this.fixedHeight(),this.updateData(),this.addIndex(),this.beautyScroller&&this.beautyScroll(),this.showOuterBorder&&this.setOutBorder(),this.page=this.initPage,this.pageSize=this.initPageSize},watch:{initPage:function(t){this.page!==t&&(this.page=t,this.updateData())},initPageSize:function(t){this.pageSize!==t&&(this.pageSize=t,this.updateData())},columns:function(){this.addIndex()},total:function(){this.fixedHeight()},tableHeight:function(){this.fixedHeight()}},methods:{addIndex:function(){this.showIndex&&this.columns.length>0&&"序号"!==this.columns[0].title&&this.columns.unshift({title:"序号",scopedSlots:{customRender:"number"},width:80})},fixedHeight:function(){var t=this,e=this.$refs.table.$el;this.total>0?this.modifyStyleByClass(e,"ant-table-body",{"min-height":"".concat(this.tableHeight,"px"),"max-height":"".concat(this.tableHeight,"px")}):(this.modifyStyleByClass(e,"ant-table-body",{"min-height":"0px","max-height":"".concat(this.tableHeight,"px")}),this.$nextTick((function(){t.modifyStyleByClass(e,"ant-table-placeholder",{"min-height":"".concat(t.tableHeight,"px"),"max-height":"".concat(t.tableHeight,"px")})})))},setOutBorder:function(){var t;null===(t=this.$refs.table.$el.classList)||void 0===t||t.add("ant-card-bordered")},beautyScroll:function(){var t=this.$refs.table.$el.querySelector(".ant-table-hide-scrollbar");t&&(t.classList.add("beauty-scroll"),t.style["margin-bottom"]="",t.style["padding-bottom"]="",t.style["min-width"]="");var e=this.$refs.table.$el.querySelector(".ant-table-body");null===e||void 0===e||e.classList.add("beauty-scroll")},onPageChange:function(t,e){this.page=t,this.pageSize=e,this.updateData()},onShowSizeChange:function(t,e){this.page=1,this.pageSize=e,this.updateData()},updateData:function(){this.$emit("change",{page:this.page,pageSize:this.pageSize,rootData:this.rootData})}}},s=o,c=(a("156c"),a("2877")),u=Object(c["a"])(s,n,r,!1,null,"eb2634aa",null);e["a"]=u.exports},"156c":function(t,e,a){"use strict";a("1bbf")},"1bbf":function(t,e,a){},"3ebb":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{staticStyle:{"margin-top":"30px"}},[a("div",{staticClass:"search"},[a("div",{staticClass:"title"},[t._v("查询条件")]),a("div",{staticClass:"content"},[a("span",[t._v("关键字:")]),a("span",{staticClass:"inner"},[a("a-input",{staticClass:"i-width",attrs:{maxLength:64,placeholder:"请输入通道名称"},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}})],1),a("span",{staticClass:"inner"},[a("a-input",{staticClass:"i-width",attrs:{maxLength:64,placeholder:"请输入用户名"},model:{value:t.search.userName,callback:function(e){t.$set(t.search,"userName",e)},expression:"search.userName"}})],1),a("span",{staticClass:"inner"},[a("a-input",{staticClass:"i-width",attrs:{maxLength:64,placeholder:"请输入IP地址"},model:{value:t.search.ip,callback:function(e){t.$set(t.search,"ip",e)},expression:"search.ip"}})],1),a("span",{staticClass:"inner"},[a("a-select",{staticClass:"i-width",attrs:{placeholder:"请选择下发状态"},model:{value:t.search.workState,callback:function(e){t.$set(t.search,"workState",e)},expression:"search.workState"}},[a("a-select-option",{attrs:{value:-1}},[t._v("未下发")]),a("a-select-option",{attrs:{value:1}},[t._v("已下发")]),a("a-select-option",{attrs:{value:2}},[t._v("未生效")]),a("a-select-option",{attrs:{value:3}},[t._v("已生效")])],1)],1),a("span",{staticClass:"inner"},[a("a-select",{staticClass:"i-width",attrs:{placeholder:"请选择通道状态"},model:{value:t.search.channelState,callback:function(e){t.$set(t.search,"channelState",e)},expression:"search.channelState"}},[a("a-select-option",{attrs:{value:"2"}},[t._v("共享模式")]),a("a-select-option",{attrs:{value:"1"}},[t._v("独享模式")])],1)],1),a("span",{staticClass:"outer"},[a("a-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(e){return t.clickSearch1()}}},[t._v("查询")])],1),a("span",{staticClass:"outer"},[a("a-button",{staticClass:"button",on:{click:t.resetSearch1}},[t._v("重置")])],1)])]),a("div",{staticClass:"body"},[a("a-spin",{attrs:{spinning:t.spinning,tip:"正在导入数据，请稍等！"}},[a("div",{staticClass:"buttons"},[t.readOnly?t._e():a("a-button",{attrs:{type:"primary",icon:"info-circle"},on:{click:t.bandwidthUsage}},[t._v("带宽使用情况")]),t.readOnly?t._e():a("a-button",{attrs:{type:"primary",icon:"edit"},on:{click:t.networkResourceConfig}},[t._v("配置")]),t.readOnly?t._e():a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.networkResourceCreate}},[t._v("新建")]),t.readOnly?t._e():a("a-button",{attrs:{type:"primary",icon:"cloud-download"},on:{click:function(e){return t.importData(t.downloadUrl)}}},[t._v("下载模板")]),t.readOnly?t._e():a("a-upload",{attrs:{name:"file",action:""+t.BASE_URL+t.importUrl,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel","show-upload-list":!1},on:{change:t.handleImportChange}},[a("a-button",{attrs:{type:"primary",icon:"import"}},[t._v("批量导入")])],1),t.readOnly?t._e():a("a-button",{attrs:{type:"primary",icon:"export"},on:{click:function(e){return t.exportData(t.exportUrl,1)}}},[t._v("批量导出")]),a("a-button",{attrs:{type:"primary",icon:"export"},on:{click:t.batchDispatch}},[t._v("批量下发")]),a("a-button",{attrs:{type:"primary",icon:"delete"},on:{click:t.batchRemove}},[t._v("批量移除")]),t.readOnly?t._e():a("a-button",{attrs:{type:"primary",icon:"delete"},on:{click:t.batchDelete}},[t._v("批量删除")]),a("a-button",{attrs:{type:"primary",icon:"sync"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("刷新")])],1),a("div",{staticClass:"title"},[t._v("查询结果")]),a("a-row",{staticClass:"table"},[a("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[a("span",{staticStyle:{position:"absolute",top:"-25px",left:"12px",color:"#c8c8c8"}},[t.operations.selectedRowKeys.length>0?[t._v(t._s("已选中 "+t.operations.selectedRowKeys.length+" 项"))]:t._e()],2),a("b-fixed-table",{attrs:{columns:t.columns,rowKey:"id",data:t.table.data,total:t.table.total,"row-selection":t.rowSelection,loading:t.loading,"init-page":t.page},on:{change:t.tableParamChanged},scopedSlots:t._u([{key:"workMode",fn:function(e){var n=e.record;return[a("span",[t._v(t._s(t._f("convertWorkMode")(n.workMode)))])]}},{key:"channelState",fn:function(e){var n=e.record;return[a("span",[t._v(t._s(t._f("convertWorkMode")(n.channelState)))])]}},{key:"upValue",fn:function(e){var n=e.record;return[a("span",[t._v(t._s(n.upValue)+" "+t._s(n.upValue?n.upUnit:"-"))])]}},{key:"workState",fn:function(e){var n=e.record;return[a("span",[t._v(t._s(t._f("convertWorkState")(n.workState)))])]}},{key:"operations",fn:function(e){var n=e.record;return[a("span",{staticClass:"oper"},[a("span",{on:{click:function(e){return t.networkResourceView(n)}}},[t._v("查看详情")])]),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.networkResourceModify(n)}}},[t._v("修改")])]),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.networkResourceDispatch(n.id)}}},[t._v("下发")])]),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.networkResourceRemove(n.id)}}},[t._v("移除")])]),a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper",on:{click:function(e){return t.networkResourceRestore(n.id)}}},[t._v("手动恢复")])]),t.readOnly?t._e():a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper red",on:{click:function(e){return t.networkResourceDelete(n.id)}}},[t._v("删除")])])]}}])})],1)],1)],1)],1)])],1)},r=[],i=a("1da1"),o=a("5530"),s=(a("96cf"),a("ac1f"),a("841c"),a("e9c4"),a("2f62")),c=a("c2f2"),u=a("0618"),l=a("8cff"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-config-provider",{attrs:{locale:t.zhCN}},[t.form.init.show?a("div",[a("a-modal",{attrs:{closable:!0,title:t.form.init.title,width:t.form.init.width,"mask-closable":!1,footer:"view"===t.form.name||"state"===t.form.name||"import"===t.form.name||"batchDelete"===t.form.name||"batchDispatch"===t.form.name||"batchRemove"===t.form.name?null:void 0},model:{value:t.form.init.show,callback:function(e){t.$set(t.form.init,"show",e)},expression:"form.init.show"}},["delete"===t.form.name?a("div",[t._v("确定删除？")]):"dispatch"===t.form.name?a("div",[t._v("确定下发？")]):"remove"===t.form.name?a("div",[t._v("确定移除？")]):"restore"===t.form.name?a("div",[t._v("确定手动恢复？")]):"state"===t.form.name?a("div",[a("a-table",{attrs:{pagination:{pageSize:20,size:"small"},rowKey:"number",columns:t.stateColumns,"data-source":t.form.init.data.rows},scopedSlots:t._u([{key:"number",fn:function(e){return[null!=e.number?a("span",{attrs:{title:e.number}},[t._v(t._s(e.number))]):a("span",[t._v("-")])]}},{key:"result",fn:function(e){return[null!=e.result?a("span",{attrs:{title:e.result}},[t._v(t._s(e.result))]):a("span",[t._v("-")])]}},{key:"content",fn:function(e){return[null!=e.content?a("span",{attrs:{title:e.content}},[t._v(t._s(e.content))]):a("span",[t._v("-")])]}}],null,!1,2737153432)})],1):"import"===t.form.name||"batchDelete"===t.form.name||"batchDispatch"===t.form.name||"batchRemove"===t.form.name?a("div",[a("div",{staticStyle:{height:"50px","line-height":"50px","font-size":"16px",color:"#0ab1c5"}},[a("span",[t._v(t._s(t.form.init.data.msg))])]),a("a-table",{attrs:{pagination:{pageSize:20,size:"small"},rowKey:"number",columns:t.importColumns,"data-source":t.form.init.data.rows}})],1):"config"===t.form.name?a("a-form-model",{ref:"form",attrs:{model:t.form.init.data,rules:t.form.init.rules,"label-col":{span:t.form.init.labelSpan||8},"wrapper-col":{span:t.form.init.wrapperSpan||16}}},[void 0!==t.form.init.data.rate?a("a-form-model-item",{attrs:{label:"空闲带宽利用率",prop:"rate"}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入带宽利用率",maxLength:3,min:0,max:100,formatter:function(t){return t+"%"},parser:function(t){return t.replace("%","")}},on:{change:t.onChange},model:{value:t.form.init.data.rate,callback:function(e){t.$set(t.form.init.data,"rate",e)},expression:"form.init.data.rate"}})],1):t._e(),void 0!==t.form.init.data.duration?a("a-form-model-item",{attrs:{label:"空闲持续时间",prop:"duration"}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入持续时间",maxLength:3,min:0,max:60,formatter:function(t){return t+"分钟"}},model:{value:t.form.init.data.duration,callback:function(e){t.$set(t.form.init.data,"duration",e)},expression:"form.init.data.duration"}})],1):t._e(),void 0!==t.form.init.data.ge?a("a-form-model-item",{attrs:{label:"千兆口总带宽",prop:"ge"}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入千兆口总带宽",maxLength:3,min:100,max:1e3,formatter:function(t){return null!==t&&void 0!==t?t+"Mbps":""},parser:function(t){if(!t)return null;var e=t.toString().replace(/[^0-9]/g,"");return e?Number(e):null}},model:{value:t.form.init.data.ge,callback:function(e){t.$set(t.form.init.data,"ge",e)},expression:"form.init.data.ge"}})],1):t._e(),void 0!==t.form.init.data.tg?a("a-form-model-item",{attrs:{label:"万兆口总带宽",prop:"tg"}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入万兆口总带宽",maxLength:3,min:1,max:10,formatter:function(t){return null!==t&&void 0!==t?t+"Gbps":""},parser:function(t){if(!t)return null;var e=t.toString().replace(/[^0-9]/g,"");return e?Number(e):null}},model:{value:t.form.init.data.tg,callback:function(e){t.$set(t.form.init.data,"tg",e)},expression:"form.init.data.tg"}})],1):t._e()],1):a("a-form-model",{ref:"form",attrs:{model:t.form.init.data,rules:t.form.init.rules,"label-col":{span:t.form.init.labelSpan||8},"wrapper-col":{span:t.form.init.wrapperSpan||16}}},[void 0!==t.form.init.data.name?a("a-form-model-item",{attrs:{label:"通道名称",prop:"name"}},[a("a-input",{staticClass:"dialog-input-height",attrs:{disabled:"create"!==t.form.name,placeholder:"请输入通道名称",maxLength:20},model:{value:t.form.init.data.name,callback:function(e){t.$set(t.form.init.data,"name",e)},expression:"form.init.data.name"}})],1):t._e(),void 0!==t.form.init.data.ifaceId?a("a-form-model-item",{attrs:{label:"网口",prop:"ifaceId"}},[a("a-select",{attrs:{disabled:"view"==t.form.name,placeholder:"请输入网口"},on:{change:t.choseIfaceId},model:{value:t.form.init.data.ifaceId,callback:function(e){t.$set(t.form.init.data,"ifaceId",e)},expression:"form.init.data.ifaceId"}},t._l(t.ifaceList,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id,label:e.name,text:e.name}},[t._v(t._s(e.name))])})),1)],1):t._e(),void 0!==t.form.init.data.ip?a("a-form-model-item",{attrs:{label:"IP地址",prop:"ip"}},[a("a-input",{staticClass:"dialog-input-height",attrs:{disabled:"create"!==t.form.name,placeholder:"请输入IP地址",maxLength:20},model:{value:t.form.init.data.ip,callback:function(e){t.$set(t.form.init.data,"ip",e)},expression:"form.init.data.ip"}})],1):t._e(),void 0!==t.form.init.data.userName?a("a-form-model-item",{attrs:{label:"用户名",prop:"userName"}},[a("a-input",{staticClass:"dialog-input-height",attrs:{disabled:"create"!==t.form.name,placeholder:"请输入用户名",maxLength:20},model:{value:t.form.init.data.userName,callback:function(e){t.$set(t.form.init.data,"userName",e)},expression:"form.init.data.userName"}})],1):t._e(),void 0!==t.form.init.data.workMode?a("a-form-model-item",{attrs:{label:"模式",prop:"workMode"}},[a("a-select",{attrs:{disabled:"view"==t.form.name},model:{value:t.form.init.data.workMode,callback:function(e){t.$set(t.form.init.data,"workMode",e)},expression:"form.init.data.workMode"}},[a("a-select-option",{attrs:{value:1}},[t._v("独享模式")])],1)],1):t._e(),void 0!==t.form.init.data.upValue?a("a-form-model-item",{attrs:{label:"带宽大小",prop:"upValue"}},[a("a-input",{attrs:{placeholder:"请输入带宽大小",disabled:"view"==t.form.name,maxLength:28,suffix:"Mbps"},model:{value:t.form.init.data.upValue,callback:function(e){t.$set(t.form.init.data,"upValue",e)},expression:"form.init.data.upValue"}})],1):t._e(),void 0!==t.form.init.data.enable?a("a-form-model-item",{attrs:{label:"网络资源空闲时释放",prop:"enable"}},[a("a-radio-group",{attrs:{name:"radioGroup"},model:{value:t.form.init.data.enable,callback:function(e){t.$set(t.form.init.data,"enable",e)},expression:"form.init.data.enable"}},[a("a-radio",{attrs:{value:!0}},[t._v("是")]),a("a-radio",{attrs:{value:!1}},[t._v("否")])],1)],1):t._e()],1),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary",loading:t.form.init.confirmLoading},on:{click:function(e){return t.clickSave()}}},[t._v(t._s("create"===t.form.name||"modify"===t.form.name?"保存及下发":"确定"))]),a("a-button",{on:{click:function(e){return t.clickCancel()}}},[t._v("取消")])],1)],2)],1):t._e()])},d=[],f=(a("b0c0"),a("a00a")),m=a("b775"),h=a("52bd");a("99af");function v(t,e,a){return g.apply(this,arguments)}function g(){return g=Object(i["a"])(regeneratorRuntime.mark((function t(e,a,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(m["f"])("protection/resources?offset=".concat((e-1)*a,"&limit=").concat(a,"&search=").concat(n),m["a"].GET));case 1:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function b(t){return w.apply(this,arguments)}function w(){return w=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(m["f"])("protection/resource",m["a"].POST,e));case 1:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function y(t){return k.apply(this,arguments)}function k(){return k=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(m["f"])("protection/resource/".concat(a),m["a"].DELETE));case 2:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}function S(t){return x.apply(this,arguments)}function x(){return x=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(m["f"])("protection/resource/send/".concat(a),m["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}function _(t){return R.apply(this,arguments)}function R(){return R=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(m["f"])("protection/resource/remove/".concat(a),m["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),R.apply(this,arguments)}function C(t){return O.apply(this,arguments)}function O(){return O=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(m["f"])("protection/resource/restore/".concat(a),m["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}function D(t){return $.apply(this,arguments)}function $(){return $=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.ids,t.abrupt("return",Object(m["f"])("protection/delete/resource/batch-delete?ids=".concat(a),m["a"].POST));case 2:case"end":return t.stop()}}),t)}))),$.apply(this,arguments)}function I(t){return j.apply(this,arguments)}function j(){return j=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.ids,t.abrupt("return",Object(m["f"])("protection/resource/batch-send?ids=".concat(a),m["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}function z(t){return L.apply(this,arguments)}function L(){return L=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.ids,t.abrupt("return",Object(m["f"])("protection/resource/batch-remove?ids=".concat(a),m["a"].PUT));case 2:case"end":return t.stop()}}),t)}))),L.apply(this,arguments)}function N(t){return T.apply(this,arguments)}function T(){return T=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(m["f"])("protection/resource/".concat(e),m["a"].GET));case 1:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}function U(t){return P.apply(this,arguments)}function P(){return P=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(m["f"])("protection/resource",m["a"].PUT,e));case 1:case"end":return t.stop()}}),t)}))),P.apply(this,arguments)}function M(t){return B.apply(this,arguments)}function B(){return B=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(m["f"])("protection/resource/config",m["a"].PUT,e));case 1:case"end":return t.stop()}}),t)}))),B.apply(this,arguments)}function E(){return A.apply(this,arguments)}function A(){return A=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(m["f"])("protection/resource/detail",m["a"].GET));case 1:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}function H(){return V.apply(this,arguments)}function V(){return V=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(m["f"])("protection/resource/band-width",m["a"].GET));case 1:case"end":return t.stop()}}),t)}))),V.apply(this,arguments)}var K=[{title:"接口名称",dataIndex:"ifaceName"},{title:"总带宽",dataIndex:"total"},{title:"剩余带宽",dataIndex:"free"}],q={name:"networkResourceDialog",components:{},mixins:[c["a"]],comments:{},filters:{},props:{},data:function(){return{zhCN:h["default"],state:"",params:"",parent:"",stateColumns:K,ifaceList:[],form:{create:{title:"新建",width:450,request:b,show:!0,confirmLoading:!1,data:{id:"",name:"",ifaceId:"",ifaceName:"",workMode:1,upValue:null,ip:"",userName:"",enable:!0},rules:{name:f["a"].name,workMode:f["a"].select,ifaceId:f["a"].select,upValue:f["a"].format27,ip:f["a"].ip1,userName:f["a"].input}},modify:{title:"修改",width:450,request:U,show:!0,confirmLoading:!1,data:{id:"",name:"",ifaceId:"",ifaceName:"",workMode:"",upValue:null,ip:"",userName:"",enable:!0},rules:{name:f["a"].name,workMode:f["a"].select,upValue:f["a"].format27,ip:f["a"].ip1,userName:f["a"].input}},view:{title:"查看详情",width:450,request:"",show:!0,data:{id:"",name:"",ifaceId:"",ifaceName:"",workMode:1,upValue:null,ip:"",userName:"",enable:!0},rules:{}},delete:{title:"删除",width:420,isDelete:!0,request:y,show:!0,confirmLoading:!1,data:{id:""},rules:{}},dispatch:{title:"下发",width:420,isDelete:!0,request:S,show:!0,confirmLoading:!1,data:{id:""},rules:{}},remove:{title:"移除",width:420,isDelete:!0,request:_,show:!0,confirmLoading:!1,data:{id:""},rules:{}},restore:{title:"手动恢复",width:420,isDelete:!0,request:C,show:!0,confirmLoading:!1,data:{id:""},rules:{}},batchDelete:{title:"批量删除",width:700,isDelete:!0,show:!0,data:{msg:"",rows:[]},rules:{}},batchDispatch:{title:"批量下发",width:700,isDelete:!0,show:!0,data:{msg:"",rows:[]},rules:{}},batchRemove:{title:"批量移除",width:700,isDelete:!0,show:!0,data:{msg:"",rows:[]},rules:{}},import:{title:"导入",width:700,isDelete:!0,show:!0,data:{msg:"",rows:[]},rules:{}},config:{title:"配置",width:450,request:M,show:!0,confirmLoading:!1,data:{rate:10,duration:10,ge:600,tg:6},rules:{rate:f["a"].input,duration:f["a"].input,ge:f["a"].input,tg:f["a"].input}},state:{title:"带宽使用情况",width:700,isDelete:!0,show:!0,data:{rows:[]}}}}},created:function(){var t=this;this.showDialog(this.state,this.params),"create"==this.state||"modify"==this.state||"view"==this.state?Object(m["b"])("tool/border-device-net-iface/work-ifaces?workType=2",m["a"].GET).then((function(e){t.ifaceList=e})):"state"==this.state&&(this.form.init.data.rows=this.params)},watch:{},methods:{getOKText:function(){var t="确定";switch(this.form.init.name){case"delete":t="确定";break;case"create":t="保存";break}return t},beforeShowDialog:function(){},beforeSave:function(){},close:function(){this.form.init.show=!1},choseIfaceId:function(t,e){var a=e.data;this.form.init.data.ifaceName=a.attrs.text||""},update:function(){var t=this;t.parent.update()}}},W=q,G=a("2877"),J=Object(G["a"])(W,p,d,!1,null,"0a45fc16",null),F=J.exports,Q=new l["a"](F),Y=a("d9f9"),X=[{title:"通道名称",dataIndex:"name"},{title:"IP地址",dataIndex:"ip"},{title:"模式",ellipsis:!0,scopedSlots:{customRender:"workMode"}},{title:"带宽大小(Mbps)",dataIndex:"upValue"},{title:"用户名",dataIndex:"userName"},{title:"下发状态",ellipsis:!0,scopedSlots:{customRender:"workState"}},{title:"通道状态",ellipsis:!0,scopedSlots:{customRender:"channelState"}},{title:"操作",scopedSlots:{customRender:"operations"}}],Z={name:"networkResource",components:{BFixedTable:u["a"]},mixins:[c["a"]],filters:{convertLimitSpeedMode:Y["r"],convertWorkMode:Y["G"],convertWorkState:Y["H"]},props:{},data:function(){return{readOnly:!1,columns:X,loading:!1,spinning:!1,downloadUrl:"protection/networkResource.xlsx",importUrl:"protection/resource/import-data",exportUrl:"protection/resource/export-data",batchDeleteUrl:D,batchDispatchUrl:I,batchRemoveUrl:z,getRecord:N,dialog:Q,table:{data:[],total:0},search:{name:"",workMode:void 0,ip:"",workState:void 0,channelState:void 0,userName:""}}},created:function(){this.readOnly=JSON.parse(localStorage.getItem("resource"))||!1},computed:Object(o["a"])({},Object(s["b"])("account",["user"])),mounted:function(){},methods:{clickSearch1:function(){this.update()},resetSearch1:function(){this.search={name:"",workMode:void 0,ip:"",workState:void 0,channelState:void 0,userName:""},this.update()},handleImportChange:function(t){this.spinning=!0,"done"==t.file.status&&t.file.response.state&&("SUCCESS"==t.file.response.state&&(t.file.response.data.rows.length>0?(this.spinning=!1,this.dialog.open({state:"import",params:t.file.response.data,parent:this}),this.clickSearch()):(this.$message.success(t.file.response.data.msg),this.spinning=!1,this.clickSearch())),"FAIL"==t.file.response.state&&(this.$message.error(t.file.response.msg),this.spinning=!1,this.clickSearch()))},networkResourceCreate:function(){var t=this;t.dialog.open({state:"create",parent:t})},networkResourceConfig:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:a=e.sent,t.dialog.open({state:"config",parent:t,params:a.data}),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()},bandwidthUsage:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H();case 3:a=e.sent,t.dialog.open({state:"state",parent:t,params:a.data}),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()},networkResourceModify:function(t){var e=this;e.dialog.open({state:"modify",parent:e,params:t})},networkResourceView:function(t){var e=this;e.dialog.open({state:"view",parent:e,params:t})},networkResourceDelete:function(t){var e=this;e.dialog.open({state:"delete",parent:e,params:{id:t}})},networkResourceDispatch:function(t){var e=this;e.dialog.open({state:"dispatch",parent:e,params:{id:t}})},networkResourceRemove:function(t){var e=this;e.dialog.open({state:"remove",parent:e,params:{id:t}})},networkResourceRestore:function(t){var e=this;e.dialog.open({state:"restore",parent:e,params:{id:t}})},batchDispatch:function(){var t=this,e="".concat(t.operations.selectedRowKeys)||"";if(!e)return t.$message.warn("请选择需要批量下发的项！");t.$confirm({content:"确认批量下发吗？",okText:"确认",cancelText:"取消",onOk:function(){t.batchDispatchUrl({ids:e}).then((function(e){var a=e.data,n=e.state,r=e.msg;"SUCCESS"==n?a.rows.length>0?t.dialog.open({state:"batchDispatch",params:a,parent:t}):t.$message.success("批量下发成功！"):t.$message.error(r)}))},onCancel:function(){}})},batchRemove:function(){var t=this,e="".concat(t.operations.selectedRowKeys)||"";if(!e)return t.$message.warn("请选择需要批量移除的项！");t.$confirm({content:"确认批量移除吗？",okText:"确认",cancelText:"取消",onOk:function(){t.batchRemoveUrl({ids:e}).then((function(e){var a=e.data,n=e.state,r=e.msg;"SUCCESS"==n?(a.rows.length>0?t.dialog.open({state:"batchRemove",params:a,parent:t}):t.$message.success("批量移除成功！"),t.update(1)):t.$message.error(r)}))},onCancel:function(){}})},batchDelete:function(){var t=this,e="".concat(t.operations.selectedRowKeys)||"";if(!e)return t.$message.warn("请选择需要批量删除的项！");t.$confirm({content:"确认批量删除吗？",okText:"确认",cancelText:"取消",onOk:function(){t.batchDeleteUrl({ids:e}).then((function(e){var a=e.data,n=e.state,r=e.msg;"SUCCESS"==n?(a.rows.length>0?t.dialog.open({state:"batchDelete",params:a,parent:t}):t.$message.success("批量删除成功！"),t.update(1)):t.$message.error(r)}))},onCancel:function(){}})},update:function(t,e){var a=this;a.operations={selectedRowKeys:[],page:1,selectedRows:[],state:!0,loading:!1},this.page=t||this.page,this.pageSize=e||this.pageSize,this.loading=!0;var n=encodeURIComponent(JSON.stringify(a.search));v(this.page,this.pageSize,n).then((function(t){var e=t.data;e&&(a.table.total=null==e.total?0:e.total,a.table.data=e.rows,a.loading=!1)})).catch((function(){a.loading=!1}))}},watch:{$route:function(t,e){var a=this;e.path!==t.path&&this.$nextTick((function(){a.dialog&&a.dialog.close()}))}},beforeDestroy:function(){this.dialog&&this.dialog.close()}},tt=Z,et=(a("ea75"),Object(G["a"])(tt,n,r,!1,null,"4257b730",null));e["default"]=et.exports},"7cdf":function(t,e,a){},d9f9:function(t,e,a){"use strict";a.d(e,"w",(function(){return i})),a.d(e,"H",(function(){return o})),a.d(e,"I",(function(){return s})),a.d(e,"h",(function(){return c})),a.d(e,"B",(function(){return u})),a.d(e,"J",(function(){return l})),a.d(e,"l",(function(){return d})),a.d(e,"m",(function(){return m})),a.d(e,"a",(function(){return v})),a.d(e,"r",(function(){return g})),a.d(e,"G",(function(){return b})),a.d(e,"x",(function(){return w})),a.d(e,"s",(function(){return y})),a.d(e,"o",(function(){return k})),a.d(e,"C",(function(){return S})),a.d(e,"t",(function(){return x})),a.d(e,"F",(function(){return _})),a.d(e,"n",(function(){return R})),a.d(e,"i",(function(){return C})),a.d(e,"q",(function(){return D})),a.d(e,"y",(function(){return $})),a.d(e,"z",(function(){return I})),a.d(e,"D",(function(){return j})),a.d(e,"A",(function(){return z})),a.d(e,"g",(function(){return L})),a.d(e,"p",(function(){return T})),a.d(e,"j",(function(){return U})),a.d(e,"u",(function(){return B})),a.d(e,"E",(function(){return E})),a.d(e,"c",(function(){return H})),a.d(e,"b",(function(){return V})),a.d(e,"d",(function(){return K})),a.d(e,"e",(function(){return q})),a.d(e,"v",(function(){return W})),a.d(e,"k",(function(){return G})),a.d(e,"f",(function(){return J}));a("99af"),a("d81d"),a("ac1f"),a("1276"),a("b680"),a("a9e3");var n=a("c1df"),r=a.n(n);function i(t){var e={1:"正常",2:"异常",3:"离线",4:"异常及离线"};return e[t]||"未知"}function o(t){var e={"-1":"未下发",1:"已下发",2:"未生效",3:"已生效",4:"已移除",5:"下发审批中",6:"下发审批不通过",7:"下发审批通过",8:"移除审批中",9:"移除审批不通过",10:"移除审批通过",11:"下发失败",12:"移除失败",13:"未审批",14:"申请下发撤回",15:"申请移除撤回"};return e[t]||"-"}function s(t){var e={true:"启用",false:"禁用"};return e[t]||"-"}function c(t){var e={1:"BASE64"};return e[t]||""}function u(t){var e={1:"浏览安全策略",2:"文件传输策略",3:"邮件策略",4:"定制应用策略",5:"内容审查策略",6:"流量控制策略",7:"网络安全策略",8:"域间标记策略",9:"SQL审查策略",10:"RTSP过滤",11:"SIP过滤",12:"应用安全标记",13:"文件名称过滤",14:"文件后缀名过滤",15:"文件类型过滤",16:"虚拟桌面协议过滤策略"};return e[t]||"-"}function l(t){var e={1:"#faa351",3:"#47b596",2:"#f05252"};return'<span style="color: '.concat(e[t]||"#000",';">').concat(o(t),"</span>")}function p(t){var e={false:"否",true:"是"};return e[t]||"-"}function d(t){var e={true:"#12a130",false:"#d42d33"};return'<span style="color: '.concat(e[t]||"#000",';cursor: pointer;">').concat(p(t),"</span>")}function f(t){var e={false:"禁用",true:"启用"};return e[t]||"-"}function m(t){var e={true:"#12a130",false:"#d42d33"};return'<span style="color: '.concat(e[t]||"#000",';cursor: pointer;">').concat(f(t),"</span>")}function h(t){var e={false:"未开启",true:"已开启"};return e[t]||"未开启"}function v(t){var e={true:"#12a130",false:"#d42d33"};return'<span style="color: '.concat(e[t]||"#d42d33",';cursor: pointer;">').concat(h(t),"</span>")}function g(t){var e={1:"限速",2:"限容"};return e[t]||"-"}function b(t){var e={2:"独享模式",1:"共享模式"};return e[t]||"-"}function w(t){var e={1:"信息级",2:"低危级",3:"中危级",4:"高危级",5:"严重级"};return e[t]||"-"}function y(t){var e={1:"转换",2:"透传",3:"去标"};return e[t]||"-"}function k(t){var e={1:"正在执行",2:"执行结束",3:"执行错误",4:"取消执行"};return e[t]||"-"}function S(t,e){return e=e||"YYYY-MM-DD HH:mm:ss",t?r()(t).format(e):"-"}function x(t){var e={1:"type1",2:"type2",3:"type3",4:"type4",5:"type5",6:"type6",7:"type7"};return e[t]||"-"}function _(t){var e={1:"机密性",2:"完整性"};return e[t]||"-"}function R(t){var e={1:"允许",2:"阻断"};return e[t]||"-"}function C(t){var e="";return t=t||[],t.map((function(a,n){e+=a+(t[n+1]?"; ":"")})),e}function O(t){var e={1:"UP",2:"DOWN"};return e[t]||"DOWN"}function D(t){var e={1:"#47b596"};return'<span style="color: '.concat(e[t]||"#f05252",';">').concat(O(t),"</span>")}function $(t){var e={true:"启用",false:"禁用"};return e[t]||"-"}function I(t){var e={true:"#12a130",false:"#d42d33"};return'<span style="color: '.concat(e[t]||"#000",';">').concat($(t),"</span>")}function j(t){var e={1:"时间模式",2:"超时模式",3:"周期模式"};return e[t]||"-"}function z(t){var e={1:"URI",2:"邮件地址",3:"内容关键字",4:"邮件主题关键字"};return e[t]||"-"}function L(t){var e=t?t.split(","):[],a=[];return e&&e[0]&&e.map((function(t){a.push(N(t))})),M(a)}function N(t){var e={main:"主通道",display:"显示通道",inputs:"输入通道",cursor:"光标通道",playback:"播放通道",record:"录音通道",tunnel:"隧道通道",smartcard:"SMARTCARD通道",usbredir:"USB通道",port:"PORT通道",webdav:"WEBDAV通道"};return e[t]||"-"}function T(t){var e={1:"A->B",2:"B->A"};return e[t]||"-"}function U(t){var e={1:"数据业务",2:"管理业务"};return e[t]||"-"}function P(t){var e={1:"忽略大小写",2:"包含换行符",3:"多行锚定",4:"仅匹配模式",5:"逻辑组合"};return e[t]||"-"}function M(t){var e="";return t.map((function(a,n){e+=a+(t[n+1]?";":"")})),e}function B(t){var e=t?t.split(";"):[],a=[];return e&&e[0]&&e.map((function(t){a.push(P(t))})),M(a)}function E(t){var e=t?t.split(","):[],a=[];return e&&e[0]&&e.map((function(t){a.push(A(t))})),M(a)}function A(t){var e={Insert:"插入",Update:"更新",Delete:"删除"};return e[t]||"-"}function H(t){var e={1:"管控登录告警",2:"域间标记告警",3:"网络访问控制告警",4:"应用安全告警",5:"设备离线告警",6:"设备异常告警",7:"日志容量告警",8:"设备状态告警",9:"入侵检测告警",10:"认证告警",11:"基线核查告警",12:"文件过滤告警",13:"IP/MAC绑定告警",14:"DDoS攻击防护告警",15:"病毒防护告警",16:"WAF告警",17:"关键字过滤告警",18:"自定义协议检查告警",19:"虚拟桌面协议过滤告警",20:"数据加解密告警"};return e[t]||"-"}function V(t){var e={1:"全部",2:"邮件"};return e[t]||"-"}function K(t){var e=t?t.split(";"):[],a=[];return e&&e[0]&&e.map((function(t){a.push(w(Number(t)))})),M(a)}function q(t){var e={1:"登录异常",2:"流量异常",3:"标记拒绝",4:"ACL命中",5:"网页访问拒绝",6:"文件传输拒绝",7:"邮件传输拒绝",8:"定制策略拒绝",9:"DDoS攻击防御",10:"CC攻击防御",11:"WAF防御"};return e[t]||"-"}function W(t){var e={1:"已通知",2:"未通知"};return e[t]||"-"}function G(t){var e={1:"已处理",2:"处理中",3:"未处理"};return e[t]||"-"}function J(t){var e={0:"轮询均衡模式",1:"主备模式",2:"HASH均衡模式",3:"广播模式",4:"动态链接模式",5:"发送负载均衡模式",6:"收发负载均衡模式"};return e[t]||"-"}},ea75:function(t,e,a){"use strict";a("7cdf")}}]);