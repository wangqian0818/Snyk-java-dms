(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-da36dc08"],{"5cf6":function(a,t,e){"use strict";e.d(t,"d",(function(){return s})),e.d(t,"c",(function(){return l})),e.d(t,"j",(function(){return d})),e.d(t,"i",(function(){return u})),e.d(t,"f",(function(){return f})),e.d(t,"e",(function(){return v})),e.d(t,"l",(function(){return p})),e.d(t,"k",(function(){return x})),e.d(t,"a",(function(){return C})),e.d(t,"b",(function(){return _})),e.d(t,"g",(function(){return z})),e.d(t,"h",(function(){return N}));var i=e("1da1"),r=(e("96cf"),e("b775"));function s(a){return n.apply(this,arguments)}function n(){return n=Object(i["a"])(regeneratorRuntime.mark((function a(t){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r["f"])("system/defaut-config",r["a"].PUT,t));case 1:case"end":return a.stop()}}),a)}))),n.apply(this,arguments)}function l(){return o.apply(this,arguments)}function o(){return o=Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r["f"])("system/defaut-config",r["a"].GET));case 1:case"end":return a.stop()}}),a)}))),o.apply(this,arguments)}function d(a){return c.apply(this,arguments)}function c(){return c=Object(i["a"])(regeneratorRuntime.mark((function a(t){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r["f"])("system/password-config",r["a"].PUT,t));case 1:case"end":return a.stop()}}),a)}))),c.apply(this,arguments)}function u(){return m.apply(this,arguments)}function m(){return m=Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r["f"])("system/password-config",r["a"].GET));case 1:case"end":return a.stop()}}),a)}))),m.apply(this,arguments)}function f(a){return g.apply(this,arguments)}function g(){return g=Object(i["a"])(regeneratorRuntime.mark((function a(t){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r["f"])("system/email-config",r["a"].PUT,t));case 1:case"end":return a.stop()}}),a)}))),g.apply(this,arguments)}function v(){return h.apply(this,arguments)}function h(){return h=Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r["f"])("system/email-config",r["a"].GET));case 1:case"end":return a.stop()}}),a)}))),h.apply(this,arguments)}function p(a){return b.apply(this,arguments)}function b(){return b=Object(i["a"])(regeneratorRuntime.mark((function a(t){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r["f"])("system/syslog-config",r["a"].PUT,t));case 1:case"end":return a.stop()}}),a)}))),b.apply(this,arguments)}function x(){return y.apply(this,arguments)}function y(){return y=Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r["f"])("system/syslog-config",r["a"].GET));case 1:case"end":return a.stop()}}),a)}))),y.apply(this,arguments)}function C(){return w.apply(this,arguments)}function w(){return w=Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r["f"])("system/audit-config",r["a"].GET));case 1:case"end":return a.stop()}}),a)}))),w.apply(this,arguments)}function _(a){return k.apply(this,arguments)}function k(){return k=Object(i["a"])(regeneratorRuntime.mark((function a(t){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r["f"])("system/audit-config",r["a"].PUT,t));case 1:case"end":return a.stop()}}),a)}))),k.apply(this,arguments)}function z(){return $.apply(this,arguments)}function $(){return $=Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r["f"])("system/enable-config",r["a"].GET));case 1:case"end":return a.stop()}}),a)}))),$.apply(this,arguments)}function N(a){return E.apply(this,arguments)}function E(){return E=Object(i["a"])(regeneratorRuntime.mark((function a(t){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r["f"])("system/enable-config",r["a"].PUT,t));case 1:case"end":return a.stop()}}),a)}))),E.apply(this,arguments)}},"8aef":function(a,t,e){},"8bef":function(a,t,e){"use strict";e.r(t);var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"search",staticStyle:{"padding-left":"0","margin-top":"30px"}},[e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"body"},[e("div",{staticClass:"buttons"},[e("a-radio-group",{attrs:{value:a.settings},on:{change:a.handleMenuChange}},[a._l(a.menuLists,(function(t,i){return[a.permissionDeviceMenu.includes(t.id)?e("a-radio-button",{key:i,attrs:{value:t.value}},[a._v(a._s(t.menuName))]):a._e()]}))],2)],1),e("a-row",{staticClass:"table"},[e("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[e("a-spin",{attrs:{spinning:a.spinning}},["email"===a.settings?e("div",{staticClass:"ant-col-offset-6 items"},a._l(a.form.email.data,(function(t,i){return e("div",{key:i,staticClass:"item"},["email.protocol"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:"请选择"+t.zhName,"option-filter-prop":"children","filter-option":a.filterOption},model:{value:a.form.email.data[i].val,callback:function(t){a.$set(a.form.email.data[i],"val",t)},expression:"form.email.data[index].val"}},a._l(a.form.email.protocols,(function(t,i){return e("a-select-option",{key:i,attrs:{value:t.id}},[a._v(" "+a._s(t.name)+" ")])})),1)],1)],1):"email.port"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:t.zhName,disabled:!1,maxLength:10},model:{value:a.form.email.data[i].val,callback:function(t){a.$set(a.form.email.data[i],"val",t)},expression:"form.email.data[index].val"}})],1)],1):"email.host"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:t.zhName,disabled:!1,maxLength:63},model:{value:a.form.email.data[i].val,callback:function(t){a.$set(a.form.email.data[i],"val",t)},expression:"form.email.data[index].val"}})],1)],1):"email.password"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-input-password",{attrs:{placeholder:t.zhName,disabled:!1,maxLength:128},model:{value:a.form.email.data[i].val,callback:function(t){a.$set(a.form.email.data[i],"val",t)},expression:"form.email.data[index].val"}})],1)],1):e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-input",{attrs:{placeholder:t.zhName,disabled:!1,maxLength:320},model:{value:a.form.email.data[i].val,callback:function(t){a.$set(a.form.email.data[i],"val",t)},expression:"form.email.data[index].val"}})],1)],1)])})),0):a._e(),"audit"===a.settings?e("div",{staticClass:"ant-col-offset-6 items"},a._l(a.form.audit.data,(function(t,i){return e("div",{key:i,staticClass:"item"},["audit.limit.time"===t.name||"audit.limit.port"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-input",{staticClass:"dialog-input-height",staticStyle:{width:"100%"},attrs:{maxLength:10,placeholder:t.zhName},model:{value:a.form.audit.data[i].val,callback:function(t){a.$set(a.form.audit.data[i],"val",t)},expression:"form.audit.data[index].val"}})],1)],1):"audit.limit.ftp.enable"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",staticStyle:{padding:"15px 10px 5px 10px",height:"52px"},attrs:{hoverable:!1}},[e("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关"},model:{value:a.form.audit.data[i].val,callback:function(t){a.$set(a.form.audit.data[i],"val",t)},expression:"form.audit.data[index].val"}})],1)],1):"audit.limit.capacity"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-input",{staticClass:"dialog-input-height",staticStyle:{width:"100%"},attrs:{maxLength:10,placeholder:t.zhName},model:{value:a.form.audit.data[i].val,callback:function(t){a.$set(a.form.audit.data[i],"val",t)},expression:"form.audit.data[index].val"}})],1)],1):"audit.limit.username"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-input",{staticClass:"dialog-input-height",staticStyle:{width:"100%"},attrs:{maxLength:49,placeholder:t.zhName},model:{value:a.form.audit.data[i].val,callback:function(t){a.$set(a.form.audit.data[i],"val",t)},expression:"form.audit.data[index].val"}})],1)],1):"audit.limit.password"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-input-password",{attrs:{placeholder:t.zhName,disabled:!1,maxLength:127},model:{value:a.form.audit.data[i].val,callback:function(t){a.$set(a.form.audit.data[i],"val",t)},expression:"form.audit.data[index].val"}})],1)],1):"audit.limit.enable"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",staticStyle:{padding:"15px 10px 5px 10px",height:"52px"},attrs:{hoverable:!1}},[e("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关"},model:{value:a.form.audit.data[i].val,callback:function(t){a.$set(a.form.audit.data[i],"val",t)},expression:"form.audit.data[index].val"}})],1)],1):"audit.limit.logCanDeleted"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",staticStyle:{padding:"15px 10px 5px 10px",height:"52px"},attrs:{hoverable:!1}},[e("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否"},model:{value:a.form.audit.data[i].val,callback:function(t){a.$set(a.form.audit.data[i],"val",t)},expression:"form.audit.data[index].val"}})],1)],1):"audit.limit.ftpPath"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-input",{staticClass:"dialog-input-height",staticStyle:{width:"100%"},attrs:{maxLength:248,placeholder:t.zhName},model:{value:a.form.audit.data[i].val,callback:function(t){a.$set(a.form.audit.data[i],"val",t)},expression:"form.audit.data[index].val"}})],1)],1):"audit.limit.dump.pwd"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-input-password",{attrs:{placeholder:t.zhName,disabled:!1,maxLength:127},model:{value:a.form.audit.data[i].val,callback:function(t){a.$set(a.form.audit.data[i],"val",t)},expression:"form.audit.data[index].val"}})],1)],1):e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-input",{attrs:{placeholder:t.zhName,disabled:!1,maxLength:255},model:{value:a.form.audit.data[i].val,callback:function(t){a.$set(a.form.audit.data[i],"val",t)},expression:"form.audit.data[index].val"}})],1)],1)])})),0):a._e(),"syslog"===a.settings?e("div",{staticClass:"ant-col-offset-6 items"},a._l(a.form.syslog.data,(function(t,i){return e("div",{key:i,staticClass:"item"},["syslog.protocol"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:"请选择"+t.zhName,"option-filter-prop":"children","filter-option":a.filterOption},model:{value:a.form.syslog.data[i].val,callback:function(t){a.$set(a.form.syslog.data[i],"val",t)},expression:"form.syslog.data[index].val"}},a._l(a.form.syslog.protocols,(function(t,i){return e("a-select-option",{key:i,attrs:{value:t.id}},[a._v(" "+a._s(t.name)+" ")])})),1)],1)],1):"syslog.port"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"+t.zhName,maxLength:10},model:{value:a.form.syslog.data[i].val,callback:function(t){a.$set(a.form.syslog.data[i],"val",t)},expression:"form.syslog.data[index].val"}})],1)],1):"syslog.enable"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",staticStyle:{padding:"15px 10px 5px 10px",height:"52px"},attrs:{hoverable:!1}},[e("div",[e("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关"},model:{value:a.form.syslog.data[i].val,callback:function(t){a.$set(a.form.syslog.data[i],"val",t)},expression:"form.syslog.data[index].val"}})],1)])],1):"syslog.mode"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:"请选择"+t.zhName,"option-filter-prop":"children","filter-option":a.filterOption},model:{value:a.form.syslog.data[i].val,callback:function(t){a.$set(a.form.syslog.data[i],"val",t)},expression:"form.syslog.data[index].val"}},a._l(a.form.syslog.modes,(function(t,i){return e("a-select-option",{key:i,attrs:{value:t.id}},[a._v(" "+a._s(t.name)+" ")])})),1)],1)],1):e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[e("a-input",{attrs:{placeholder:t.zhName,disabled:!1,maxLength:255},model:{value:a.form.syslog.data[i].val,callback:function(t){a.$set(a.form.syslog.data[i],"val",t)},expression:"form.syslog.data[index].val"}})],1)],1)])})),0):a._e(),"logEnable"===a.settings?e("div",{staticClass:"ant-col-offset-6 items"},a._l(a.form.logEnable.data,(function(t,i){return e("div",{key:i,staticClass:"item"},["audit.log.enable"===t.name?e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",staticStyle:{padding:"15px 10px 5px 10px",height:"52px"},attrs:{hoverable:!1}},[e("div",[e("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关"},on:{change:a.choseEnable},model:{value:a.form.logEnable.data[i].val,callback:function(t){a.$set(a.form.logEnable.data[i],"val",t)},expression:"form.logEnable.data[index].val"}})],1)])],1):e("div",[e("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(t.zhName))]),e("a-card-grid",{staticClass:"grid-content",staticStyle:{padding:"15px 10px 5px 10px",height:"52px"},attrs:{hoverable:!1}},[e("div",[e("a-switch",{attrs:{disabled:0==a.form.logEnable.data[0].val,"checked-children":"开","un-checked-children":"关"},model:{value:a.form.logEnable.data[i].val,callback:function(t){a.$set(a.form.logEnable.data[i],"val",t)},expression:"form.logEnable.data[index].val"}})],1)])],1)])})),0):a._e(),e("div",{staticClass:"tc"},[e("a-button",{staticStyle:{"margin-top":"250px"},attrs:{type:"primary",loading:a.loading},on:{click:function(t){return a.save(a.settings)}}},[a._v("保存")])],1)])],1)],1)],1)])],1)])},r=[],s=(e("d3b7"),e("159b"),e("25eb"),e("a9e3"),e("b0c0"),e("ac1f"),e("00b4"),e("1276"),e("5cf6")),n="sys:m",l={name:"SystemSettings",mixins:[],components:{},data:function(){return{permissionDeviceMenu:[],menuLists:[{id:1,value:"email",menuName:"邮件服务器配置"},{id:2,value:"audit",menuName:"日志存储配置"},{id:3,value:"logEnable",menuName:"审计日志开关"},{id:4,value:"syslog",menuName:"日志服务器配置"}],settings:"",loading:!1,spinning:!1,settingsData:{data:[],total:0},form:{syslog:{title:"日志服务器配置",total:0,protocols:[{id:"",name:"请选择协议"},{id:"UDP",name:"UDP"},{id:"TCP",name:"TCP"}],modes:[{id:"",name:"请选择模式"},{id:"local0",name:"local0"},{id:"local1",name:"local1"},{id:"local2",name:"local2"},{id:"local3",name:"local3"},{id:"local4",name:"local4"},{id:"local5",name:"local5"},{id:"local6",name:"local6"},{id:"local7",name:"local7"}],data:[],rules:{}},email:{title:"邮件服务器配置",total:0,protocols:[{id:"",name:"请选择协议"},{id:"SMTP",name:"SMTP"}],data:[],rules:{}},audit:{title:"日志存储配置",total:0,data:[],rules:{}},logEnable:{title:"审计日志开关",total:0,data:[],rules:{}}}}},filters:{},created:function(){var a=this,t=JSON.parse(localStorage.getItem("auditcof"));t.forEach((function(t){var e="";e=Number.parseInt(t.index),a.permissionDeviceMenu.push(e)}));var e=sessionStorage.getItem(n);if(e)this.settings=e;else{var i=Number.parseInt(this.permissionDeviceMenu[0]);this.menuLists.forEach((function(t){t.id==i&&(a.settings=t.value)}))}this.changeSettings(this.settings)},mounted:function(){},methods:{handleMenuChange:function(a){this.changeSettings(a.target.value),this.settings=a.target.value,sessionStorage.setItem(n,this.settings)},changeSettings:function(a){var t=this;switch(a){case"email":t.getEmailConfig();break;case"audit":t.getAuditConfig();break;case"syslog":t.getSyslogConfig();break;case"logEnable":t.getLogEnableConfig();break}},getEmailConfig:function(){var a=this;a.form.email.total=0,a.form.email.data=[],Object(s["e"])().then((function(t){var e=t.data;a.form.email.total=e.configVOs.length||0,a.form.email.data=e.configVOs||[]}))},getSyslogConfig:function(){var a=this;a.form.syslog.total=0,a.form.syslog.data=[],Object(s["k"])().then((function(t){var e=t.data;a.form.syslog.total=e.configVOs.length||0,a.form.syslog.data=e.configVOs||[],a.form.syslog.data.forEach((function(t,e){"false"===t.val?a.form.syslog.data[e].val=!1:"true"===t.val&&(a.form.syslog.data[e].val=!0),"syslog.enable"===t.name&&("0"===t.val?a.form.syslog.data[e].val=!1:"1"===t.val&&(a.form.syslog.data[e].val=!0))}))}))},getAuditConfig:function(){var a=this;a.form.audit.total=0,a.form.audit.data=[],Object(s["a"])().then((function(t){var e=t.data;a.form.audit.total=e.configVOs.length||0,a.form.audit.data=e.configVOs||[],a.form.audit.data.forEach((function(t,e){"false"===t.val?a.form.audit.data[e].val=!1:"true"===t.val&&(a.form.audit.data[e].val=!0)}))}))},getLogEnableConfig:function(){var a=this;a.form.logEnable.total=0,a.form.logEnable.data=[],Object(s["g"])().then((function(t){var e=t.data;a.form.logEnable.total=e.configVOs.length||0,a.form.logEnable.data=e.configVOs||[],a.form.logEnable.data.forEach((function(t,e){"false"===t.val?a.form.logEnable.data[e].val=!1:"true"===t.val&&(a.form.logEnable.data[e].val=!0)}))}))},save:function(a){var t=this;switch(t.loading=!0,a){case"email":t.saveEmail();break;case"syslog":t.saveSyslog();break;case"audit":t.saveAudit();break;case"logEnable":t.saveLogEnable();break}},saveEmail:function(){var a=this;a.loading=!0;var t={configVOs:a.form.email.data},e=!0;a.form.email.data.forEach((function(t){if("email.port"==t.name&&""!==t.val&&void 0!==t.val&&null!==t.val){var i=a.testPort(t.val);0==i&&(e=!1,a.$message.error("".concat(t.zhName,"为正整数，且范围在[1-65535]之间，请重新输入")))}if("email.username"==t.name&&""!==t.val&&void 0!==t.val&&null!==t.val)if(/^\w+@[a-z0-9]+\.[a-z]+$/i.test(t.val)){var r=t.val.split("@");(r[0].length>64||r[1].length>255)&&(e=!1,a.$message.error("".concat(t.zhName,"的内容格式为xxx@xxx.xxx，其中，@之前的部分最多64个字符，@之后的部分最多255个字符。")))}else e=!1,a.$message.error("".concat(t.zhName,"的内容格式为xxx@xxx.xxx，其中，@之前的部分最多64个字符，@之后的部分最多255个字符。"));if("email.host"==t.name&&""!==t.val&&void 0!==t.val&&null!==t.val){var s=/^(([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])$/;if(!s.test(t.val)){var n=/^([a-zA-Z0-9][a-zA-Z0-9]{0,62})(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.[a-z]+$/;n.test(t.val)||(e=!1,a.$message.error("".concat(t.zhName,"的输入有误")))}}})),e&&Object(s["f"])(t).then((function(){a.$message.success("保存成功！"),a.getEmailConfig()})),a.loading=!1},saveSyslog:function(){var a=this;a.loading=!0;var t={configVOs:a.form.syslog.data},e=!0;a.form.syslog.data.forEach((function(t){if("syslog.host"==t.name){var i=a.testIP(t.val);0==i&&(e=!1,a.$message.error(t.zhName+"输入有误"),a.loading=!1)}if("syslog.port"==t.name&&""!==t.val&&void 0!==t.val&&null!==t.val){var r=a.testPort(t.val);0==r&&(e=!1,a.$message.error("".concat(t.zhName,"为正整数，且范围在[1-65535]之间，请重新输入")))}})),e&&Object(s["l"])(t).then((function(){a.$message.success("保存成功！"),a.getSyslogConfig()})),a.loading=!1},saveAudit:function(){var a=this,t=this,e=!0,i=!1;if(t.form.audit.data.forEach((function(r){if("audit.limit.time"==r.name&&(/^[0-9]+?$/.test(r.val)?(r.val>365||r.val<180)&&(a.$message.error("日志存储时长范围在[180-365]"),e=!1):(e=!1,t.$message.error("日志存储为正整数，请重新输入"))),"audit.limit.capacity"==r.name&&(/^[0-9]+?$/.test(r.val)?(r.val>1024||r.val<10)&&(a.$message.error("日志存储容量范围在[10-1024]"),e=!1):(e=!1,t.$message.error("日志存储容量为正整数，请重新输入"))),"audit.limit.ftp.enable"==r.name&&(1==r.val?i=!0:0==r.val&&(i=!1)),"audit.limit.hostname"==r.name)if(1==i)if(""==r.val||void 0==r.val||null==r.val)e=!1,t.$message.error("FTP转存打开时，ftp相关配置必填");else{var s=t.testIP(r.val);0==s&&(e=!1,t.$message.error(r.zhName+"输入有误"),t.loading=!1)}else if(""!==r.val&&void 0!==r.val&&null!==r.val){var n=t.testIP(r.val);0==n&&(e=!1,t.$message.error(r.zhName+"输入有误"),t.loading=!1)}if("audit.limit.username"==r.name&&1==i&&(""!=r.val&&void 0!=r.val&&null!=r.val||(e=!1,t.$message.error("FTP转存打开时，ftp相关配置必填"))),"audit.limit.password"==r.name&&1==i&&(""!=r.val&&void 0!=r.val&&null!=r.val||(e=!1,t.$message.error("FTP转存打开时，ftp相关配置必填"))),"audit.limit.ftpPath"==r.name)if(1==i)if(""==r.val||void 0==r.val||null==r.val)e=!1,t.$message.error("FTP转存打开时，ftp相关配置必填");else{var l=t.testPath(r.val);0==l&&(e=!1,t.$message.error(r.zhName+'输入有误,输入样式为“/”开始并且"/"结尾，根目录输入“/”,不能输入数字、字母、中文、"_"和"-"以外的特殊字符'),t.loading=!1)}else if(""!==r.val&&void 0!==r.val&&null!==r.val){var o=t.testPath(r.val);0==o&&(e=!1,t.$message.error(r.zhName+'输入有误,输入样式为“/”开始并且"/"结尾，根目录输入“/”,不能输入数字、字母、中文、"_"和"-"以外的特殊字符'),t.loading=!1)}if("audit.limit.port"==r.name)if(1==i)if(""==r.val||void 0==r.val||null==r.val)e=!1,t.$message.error("FTP转存打开时，ftp相关配置必填");else{var d=t.testPort(r.val);0==d&&(e=!1,t.$message.error("".concat(r.zhName,"为正整数，且范围在[1-65535]之间，请重新输入")),t.loading=!1)}else if(""!==r.val&&void 0!==r.val&&null!==r.val){var c=t.testPort(r.val);0==c&&(e=!1,t.$message.error("".concat(r.zhName,"为正整数，且范围在[1-65535]之间，请重新输入")),t.loading=!1)}if("audit.limit.dump.pwd"==r.name&&""!==r.val&&void 0!==r.val&&null!==r.val){var u=/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[!@~#$?%^&*(){}_+=|:;"'<>,./-])[^\u4e00-\u9fa5]{8,50}$/;u.test(r.val)||(e=!1,t.loading=!1,t.$message.error("".concat(r.zhName,"格式不对，输入必须包含大小写字母、数字以及特殊符号，长度在8到50位之间")))}})),e){t.loading=!0;var r={configVOs:t.form.audit.data};Object(s["b"])(r).then((function(a){"needRelogin"==a.msg?(t.$message.success("保存成功！请重新登录"),t.$router.push("/login")):(t.$message.success("保存成功！"),t.getAuditConfig())}))}t.loading=!1},saveLogEnable:function(){var a=this;a.loading=!0;var t={configVOs:a.form.logEnable.data};Object(s["h"])(t).then((function(t){t&&(a.$message.success("保存成功！"),a.loading=!1,a.getLogEnableConfig())})).catch((function(){a.loading=!1}))},testIP:function(a){var t=/^(([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])$/;return!!t.test(a)},testPort:function(a){return!!/^[0-9]+?$/.test(a)&&(a=Number.parseInt(a),!(a>65535||a<1))},testPath:function(a){if("/"==a)return!0;var t=/^\/([\u4E00-\u9FA5]|[0-9a-zA-Z_-]|\/)+([\u4E00-\u9FA5]|[0-9a-zA-Z])+\/$/;return!!t.test(a)},filterOption:function(a,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(a.toLowerCase())>=0},destroyed:function(){sessionStorage.removeItem(n)},choseEnable:function(a){0==a&&this.form.logEnable.data.forEach((function(a){"audit.log.enable"!=a.name&&(a.val=!1)}))}}},o=l,d=(e("c576"),e("2877")),c=Object(d["a"])(o,i,r,!1,null,"670bcc75",null);t["default"]=c.exports},c576:function(a,t,e){"use strict";e("8aef")}}]);