(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a31285dc"],{"0618":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-table",{ref:"table",staticClass:"AStockOutDetailTable",attrs:{columns:t.columns,dataSource:t.data,rowKey:t.rowKey,bordered:t.bordered,loading:t.loading,size:t.size,"row-selection":t.rowSelection,pagination:{current:t.page,pageSize:t.pageSize,total:t.total,pageSizeOptions:t.pageSizeOptions,onChange:t.onPageChange,onShowSizeChange:t.onShowSizeChange,showSizeChanger:t.showSizeChanger,showQuickJumper:t.showQuickJumper,hideOnSinglePage:t.hideOnSinglePage,showTotal:t.showTotal,size:t.size,showLessItems:t.showLessItems},scroll:{y:t.tableHeight}},scopedSlots:t._u([{key:"number",fn:function(e,a,i){return t.showIndex?[t._v(" "+t._s(i+1)+" ")]:void 0}},t._l(Object.keys(t.$scopedSlots).filter((function(t){return"expandedRowRender"!==t})),(function(e){return{key:e,fn:function(a,i,n){return[t._t(e,null,null,{text:a,record:i,index:n})]}}})),{key:t.$scopedSlots.expandedRowRender?"expandedRowRender":"",fn:function(e,a,i,n){return[t._t(t.$scopedSlots.expandedRowRender?"expandedRowRender":"",null,null,{record:e,index:a,indent:i,expanded:n})]}}],null,!0)},[t._l(Object.keys(t.$slots),(function(e){return a("template",{slot:e},[t._t(e)],2)}))],2)],1)},n=[],o=(a("a9e3"),a("9b10")),r={name:"BFixedTable",mixins:[o["a"]],props:{columns:{type:Array,required:!0},pageSizeOptions:{type:Array,default:function(){return["10","20","50","100","200"]}},showIndex:{type:Boolean,default:!0},rowKey:String,tableHeight:{type:Number,default:550},beautyScroller:{type:Boolean,default:!0},data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},bordered:{type:Boolean,default:!0},initPage:{type:Number,default:1},initPageSize:{type:Number,default:10},showOuterBorder:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},showTotal:{type:Function,default:function(t){return"总共".concat(t,"条")}},showQuickJumper:{type:Boolean,default:!0},showSizeChanger:{type:Boolean,default:!0},hideOnSinglePage:{type:Boolean,default:!1},showLessItems:{type:Boolean,default:!1},size:{type:String,default:"default"},rootData:{type:Object,default:function(){}},rowSelection:{type:Object,default:function(){return null}}},data:function(){return{page:1,pageSize:10}},mounted:function(){this.fixedHeight(),this.updateData(),this.addIndex(),this.beautyScroller&&this.beautyScroll(),this.showOuterBorder&&this.setOutBorder(),this.page=this.initPage,this.pageSize=this.initPageSize},watch:{initPage:function(t){this.page!==t&&(this.page=t,this.updateData())},initPageSize:function(t){this.pageSize!==t&&(this.pageSize=t,this.updateData())},columns:function(){this.addIndex()},total:function(){this.fixedHeight()},tableHeight:function(){this.fixedHeight()}},methods:{addIndex:function(){this.showIndex&&this.columns.length>0&&"序号"!==this.columns[0].title&&this.columns.unshift({title:"序号",scopedSlots:{customRender:"number"},width:80})},fixedHeight:function(){var t=this,e=this.$refs.table.$el;this.total>0?this.modifyStyleByClass(e,"ant-table-body",{"min-height":"".concat(this.tableHeight,"px"),"max-height":"".concat(this.tableHeight,"px")}):(this.modifyStyleByClass(e,"ant-table-body",{"min-height":"0px","max-height":"".concat(this.tableHeight,"px")}),this.$nextTick((function(){t.modifyStyleByClass(e,"ant-table-placeholder",{"min-height":"".concat(t.tableHeight,"px"),"max-height":"".concat(t.tableHeight,"px")})})))},setOutBorder:function(){var t;null===(t=this.$refs.table.$el.classList)||void 0===t||t.add("ant-card-bordered")},beautyScroll:function(){var t=this.$refs.table.$el.querySelector(".ant-table-hide-scrollbar");t&&(t.classList.add("beauty-scroll"),t.style["margin-bottom"]="",t.style["padding-bottom"]="",t.style["min-width"]="");var e=this.$refs.table.$el.querySelector(".ant-table-body");null===e||void 0===e||e.classList.add("beauty-scroll")},onPageChange:function(t,e){this.page=t,this.pageSize=e,this.updateData()},onShowSizeChange:function(t,e){this.page=1,this.pageSize=e,this.updateData()},updateData:function(){this.$emit("change",{page:this.page,pageSize:this.pageSize,rootData:this.rootData})}}},s=r,l=(a("156c"),a("2877")),c=Object(l["a"])(s,i,n,!1,null,"eb2634aa",null);e["a"]=c.exports},"156c":function(t,e,a){"use strict";a("1bbf")},"1bbf":function(t,e,a){},"9b8a":function(t,e,a){"use strict";a("e38e")},e38e:function(t,e,a){},e73d:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{staticStyle:{"margin-top":"30px"}},[a("div",{staticClass:"body"},[a("a-spin",{attrs:{spinning:t.spinning,tip:"正在导入数据，请稍等！"}},[a("div",{staticClass:"buttons"},[t.readOnly?t._e():a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.networkAreaCreate}},[t._v("新建")]),a("a-button",{attrs:{type:"primary",icon:"sync"},on:{click:function(e){return t.clickSearch(1)}}},[t._v("刷新")])],1),a("a-row",{staticClass:"table"},[a("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[a("b-fixed-table",{attrs:{columns:t.columns,rowKey:"id",data:t.table.data,total:t.table.total,loading:t.loading,"init-page":t.page},on:{change:t.tableParamChanged},scopedSlots:t._u([{key:"operations",fn:function(e){var i=e.record;return[t.readOnly?t._e():a("span",{staticClass:"oper"},[a("span",{staticClass:"oper-margin",on:{click:function(e){return t.networkAreaModify(i)}}},[t._v("修改")])]),t.readOnly?t._e():a("span",{staticClass:"oper-margin"},[a("span",{staticClass:"oper red",on:{click:function(e){return t.networkAreaDelete(i.id)}}},[t._v("删除")])])]}}])})],1)],1)],1)],1)])],1)},n=[],o=a("c2f2"),r=a("0618"),s=a("8cff"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.form.init.show?a("div",[a("a-modal",{attrs:{closable:!0,title:t.form.init.title,width:t.form.init.width,"mask-closable":!1,footer:"view"===t.form.name||"import"===t.form.name?null:void 0},model:{value:t.form.init.show,callback:function(e){t.$set(t.form.init,"show",e)},expression:"form.init.show"}},["delete"===t.form.name?a("div",[t._v(" 确定删除？ ")]):"import"===t.form.name?a("div",[a("div",{staticStyle:{height:"50px","line-height":"50px","font-size":"16px",color:"#0ab1c5"}},[a("span",[t._v(t._s(t.form.init.data.msg))])]),a("a-table",{attrs:{pagination:{pageSize:20,size:"small"},rowKey:"number",columns:t.importColumns,"data-source":t.form.init.data.rows}})],1):a("a-form-model",{ref:"form",attrs:{model:t.form.init.data,rules:t.form.init.rules,"label-col":{span:6},"wrapper-col":{span:17}}},[a("a-form-model-item",{attrs:{label:"名称",prop:"name"}},[a("a-input",{staticClass:"dialog-input-height",attrs:{disabled:"create"!==t.form.name,placeholder:"请输入名称",maxLength:20},model:{value:t.form.init.data.name,callback:function(e){t.$set(t.form.init.data,"name",e)},expression:"form.init.data.name"}})],1),a("a-form-model-item",{attrs:{label:"完整性密级",prop:"integrity"}},[a("a-input",{staticClass:"dialog-input-height",staticStyle:{width:"100%"},attrs:{placeholder:"请输入完整性密级",maxLength:28},model:{value:t.form.init.data.integrity,callback:function(e){t.$set(t.form.init.data,"integrity",e)},expression:"form.init.data.integrity"}})],1),a("a-form-model-item",{attrs:{label:"机密性密级",prop:"confidentiality"}},[a("a-input",{staticClass:"dialog-input-height",staticStyle:{width:"100%"},attrs:{placeholder:"请输入机密性密级",maxLength:28},model:{value:t.form.init.data.confidentiality,callback:function(e){t.$set(t.form.init.data,"confidentiality",e)},expression:"form.init.data.confidentiality"}})],1)],1),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary",loading:t.form.init.confirmLoading},on:{click:function(e){return t.clickSave()}}},[t._v(t._s("delete"===t.form.name?"确定":"保存"))]),a("a-button",{on:{click:function(e){return t.clickCancel()}}},[t._v("取消")])],1)],2)],1):t._e()},c=[],d=(a("b0c0"),a("1da1")),u=(a("96cf"),a("99af"),a("b775"));function p(t,e,a){return h.apply(this,arguments)}function h(){return h=Object(d["a"])(regeneratorRuntime.mark((function t(e,a,i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(u["f"])("network/network-areas?offset=".concat((e-1)*a,"&limit=").concat(a).concat(i),u["a"].GET));case 1:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return m=Object(d["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(u["f"])("network/network-area",u["a"].POST,e));case 1:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function g(t){return y.apply(this,arguments)}function y(){return y=Object(d["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.id,t.abrupt("return",Object(u["f"])("network/network-area/".concat(a),u["a"].DELETE));case 2:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}function b(t){return w.apply(this,arguments)}function w(){return w=Object(d["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(u["f"])("network/network-area",u["a"].PUT,e));case 1:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}var S=a("a00a"),x={name:"NetworkAreaDialog",mixins:[o["a"]],comments:{},filters:{},props:{},data:function(){return{show:!1,title:"",width:710,prop:"",id:-1,form:{create:{title:"新建",width:450,isCreate:!0,request:f,show:!0,confirmLoading:!1,data:{name:"",integrity:"",confidentiality:"",description:""},rules:{name:S["a"].name,integrity:S["a"].ci,confidentiality:S["a"].ci}},modify:{title:"修改",width:450,request:b,show:!0,confirmLoading:!1,data:{id:"",name:"",integrity:"",confidentiality:"",description:""},rules:{integrity:S["a"].ci,confidentiality:S["a"].ci}},view:{title:"查看详情",width:450,request:"",show:!0,data:{id:"",name:"",integrity:"",confidentiality:"",description:""},rules:{}},delete:{title:"删除",width:420,isDelete:!0,request:g,show:!0,confirmLoading:!1,data:{id:""},rules:{}},import:{title:"导入",width:700,isDelete:!0,show:!0,data:{msg:"",rows:[]},rules:{}}}}},created:function(){this.showDialog(this.state,this.params)},methods:{close:function(){this.form.init.show=!1},update:function(){this.parent.update()}}},k=x,v=a("2877"),z=Object(v["a"])(k,l,c,!1,null,"9804ae5e",null),O=z.exports,C=new s["a"](O),_=[{title:"区域名称",dataIndex:"name"},{title:"完整性密级",dataIndex:"integrity"},{title:"机密性密级",dataIndex:"confidentiality"},{title:"操作",scopedSlots:{customRender:"operations"}}],$={name:"AreaManage",components:{BFixedTable:r["a"]},mixins:[o["a"]],filters:{},props:{},data:function(){return{readOnly:!1,dialog:C,columns:_,loading:!1,spinning:!1,table:{data:[],total:0}}},created:function(){this.readOnly=JSON.parse(localStorage.getItem("network-area"))||!1},computed:{},mounted:function(){},methods:{handleImportChange:function(t){this.spinning=!0,"done"==t.file.status&&t.file.response.state&&("SUCCESS"==t.file.response.state&&(t.file.response.data.rows.length>0?(this.spinning=!1,this.dialog.open({state:"import",params:t.file.response.data,parent:this}),this.clickSearch()):(this.$message.success(t.file.response.data.msg),this.spinning=!1,this.clickSearch())),"FAIL"==t.file.response.state&&(this.$message.error(t.file.response.msg),this.spinning=!1,this.clickSearch()))},networkAreaCreate:function(){this.dialog.open({state:"create",parent:this})},networkAreaModify:function(t){this.dialog.open({state:"modify",params:t,parent:this})},networkAreaView:function(t){this.dialog.open({state:"view",params:t,parent:this})},networkAreaDelete:function(t){this.dialog.open({state:"delete",parent:this,params:{id:t}})},update:function(t,e){var a=this;this.page=t||this.page,this.pageSize=e||this.pageSize,this.loading=!0,p(this.page,this.pageSize,this.searchParams).then((function(t){var e=t.data;e&&(a.table.total=null==e.total?0:e.total,a.table.data=e.rows,a.loading=!1)})).catch((function(){a.loading=!1}))}},watch:{$route:function(t,e){var a=this;e.path!==t.path&&this.$nextTick((function(){a.dialog&&a.dialog.close()}))}},beforeDestroy:function(){this.dialog&&this.dialog.close()}},R=$,B=(a("9b8a"),Object(v["a"])(R,i,n,!1,null,"ef95ce42",null));e["default"]=B.exports}}]);