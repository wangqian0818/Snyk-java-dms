(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75d29aa8"],{"0198":function(a,e,t){"use strict";t("1086")},1086:function(a,e,t){},"3e25":function(a,e,t){},"8d9f":function(a,e,t){"use strict";t("aa4e")},a068:function(a,e,t){"use strict";t("3e25")},aa4e:function(a,e,t){},fdec:function(a,e,t){"use strict";t.r(e);var n=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("div",{staticClass:"page-menu"},[t("a-radio-group",{attrs:{value:a.menu},on:{change:a.handleMenuChange}},a._l(a.menuLists,(function(e,n){return t("a-radio-button",{key:n,attrs:{value:e.value}},[a._v(a._s(e.menuName))])})),1)],1),t("a-card",{staticStyle:{clear:"both"}},[1==a.menu?t("BbaselineTimeConfig"):2==a.menu?t("BbaselineIpconfig"):a._e()],1)],1)},l=[],o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("div",{staticStyle:{"margin-top":"30px"}},[t("a-card",{attrs:{bordered:!1}},[t("div",{staticClass:"body"},[t("a-row",{staticClass:"table"},[t("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[t("a-spin",{attrs:{spinning:a.spinning}},[t("div",{staticClass:"ant-col-offset-6 items"},a._l(a.form.data,(function(e,n){return t("div",{key:n,staticClass:"item"},["enable"===e.key?t("div",[t("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(e.zhName))]),t("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[t("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关"},model:{value:a.form.data[n].val,callback:function(e){a.$set(a.form.data[n],"val",e)},expression:"form.data[index].val"}})],1)],1):"type"===e.key?t("div",[t("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(e.zhName))]),t("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[t("a-select",{staticStyle:{width:"100%"},attrs:{getPopupContainer:function(a){return a.parentNode},disabled:0==a.form.data.enable,placeholder:"请选择"+e.zhName},on:{change:a.handleTypeChange},model:{value:a.form.data[n].val,callback:function(e){a.$set(a.form.data[n],"val",e)},expression:"form.data[index].val"}},a._l(a.cycleTypes,(function(e,n){return t("a-select-option",{key:n,attrs:{value:e.value}},[a._v(a._s(e.label))])})),1)],1)],1):"day"===e.key?t("div",["weekly"===a.form.data[1].val?t("div",[t("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v("星期")]),t("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[t("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"+e.zhName,getPopupContainer:function(a){return a.parentNode},disabled:"weekly"!=a.form.data[1].val&&"monthly"!=a.form.data[1].val},model:{value:a.form.data[n].val,callback:function(e){a.$set(a.form.data[n],"val",e)},expression:"form.data[index].val"}},a._l(a.weekTypes,(function(e,n){return t("a-select-option",{key:n,attrs:{value:e.value}},[a._v(a._s(e.label))])})),1)],1)],1):t("div",[t("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v("日期")]),t("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[t("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"+e.zhName,getPopupContainer:function(a){return a.parentNode},disabled:"weekly"!=a.form.data[1].val&&"monthly"!=a.form.data[1].val},model:{value:a.form.data[n].val,callback:function(e){a.$set(a.form.data[n],"val",e)},expression:"form.data[index].val"}},a._l(a.dayTypes,(function(e,n){return t("a-select-option",{key:n,attrs:{value:e.value}},[a._v(a._s(e.label))])})),1)],1)],1)]):"hour"===e.key?t("div",[t("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(e.zhName))]),t("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[t("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"+e.zhName,getPopupContainer:function(a){return a.parentNode},disabled:"hourly"==a.form.data[1].val},model:{value:a.form.data[n].val,callback:function(e){a.$set(a.form.data[n],"val",e)},expression:"form.data[index].val"}},a._l(a.hourTypes,(function(e,n){return t("a-select-option",{key:n,attrs:{value:e.value}},[a._v(a._s(e.label))])})),1)],1)],1):"minute"===e.key?t("div",[t("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(e.zhName))]),t("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[t("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"+e.zhName,getPopupContainer:function(a){return a.parentNode},disabled:0==a.form.data.enable},model:{value:a.form.data[n].val,callback:function(e){a.$set(a.form.data[n],"val",e)},expression:"form.data[index].val"}},a._l(a.minuteTypes,(function(e,n){return t("a-select-option",{key:n,attrs:{value:e.value}},[a._v(a._s(e.label))])})),1)],1)],1):"second"===e.key?t("div",[t("a-card-grid",{staticClass:"grid-title",attrs:{hoverable:!1}},[a._v(a._s(e.zhName))]),t("a-card-grid",{staticClass:"grid-content",attrs:{hoverable:!1}},[t("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"+e.zhName,getPopupContainer:function(a){return a.parentNode},disabled:0==a.form.data.enable},model:{value:a.form.data[n].val,callback:function(e){a.$set(a.form.data[n],"val",e)},expression:"form.data[index].val"}},a._l(a.secondTypes,(function(e,n){return t("a-select-option",{key:n,attrs:{value:e.value}},[a._v(a._s(e.label))])})),1)],1)],1):a._e()])})),0),t("div",{staticClass:"tc"},[t("a-button",{staticStyle:{"margin-top":"50px"},attrs:{type:"primary",loading:a.loading},on:{click:a.saveDefault}},[a._v("保存")])],1)])],1)],1)],1)])],1)])},i=[],s=(t("a630"),t("3ca3"),t("d3b7"),t("159b"),t("b775")),r={name:"SystemSettings",data:function(){return{loading:!1,spinning:!1,form:{data:[{zhName:"周期自动基线核查开关",key:"enable",val:!1},{zhName:"周期类型",key:"type",val:""},{zhName:"星期",key:"day",val:""},{zhName:"小时",key:"hour",val:""},{zhName:"分钟",key:"minute",val:""},{zhName:"秒",key:"second",val:""}],rules:{}},cycleTypes:[{label:"每小时",value:"hourly"},{label:"每天",value:"dayly"},{label:"每周",value:"weekly"},{label:"每月",value:"monthly"}],weekTypes:[{label:"周一",value:"1"},{label:"周二",value:"2"},{label:"周三",value:"3"},{label:"周四",value:"4"},{label:"周五",value:"5"},{label:"周六",value:"6"},{label:"周日",value:"7"}],dayTypes:Array.from({length:31},(function(a,e){return{label:"".concat(e+1,"号"),value:"".concat(e+1)}})),hourTypes:Array.from({length:24},(function(a,e){return{label:"".concat(e,"时"),value:"".concat(e)}})),minuteTypes:Array.from({length:60},(function(a,e){return{label:"".concat(e,"分"),value:"".concat(e)}})),secondTypes:Array.from({length:60},(function(a,e){return{label:"".concat(e,"秒"),value:"".concat(e)}}))}},created:function(){this.getConfig()},methods:{getConfig:function(){var a=this;this.spinning=!0,Object(s["b"])("config/cyclejob",s["a"].GET).then((function(e){a.spinning=!1,a.form.data.forEach((function(a){a.val=e[a.key]}))})).catch((function(){a.spinning=!1}))},handleTypeChange:function(a){this.form.data[2].val="",this.form.data[3].val="",this.form.data[4].val="",this.form.data[5].val=""},saveDefault:function(){var a=this,e=!0,t={};this.form.data.forEach((function(a){t[a.key]=a.val})),t.enable&&("hourly"==t.type?""!=t.minute&&""!=t.second||(this.$message.error("分钟 、秒选项必选"),e=!1):("monthly"==t.type?""==t.day&&(this.$message.error("日期选项必选"),e=!1):"weekly"==t.type?""==t.day&&(this.$message.error("星期选项必选"),e=!1):""==t.type&&this.$message.error("周期类型选项必选"),""!=t.hour&&""!=t.minute&&""!=t.second||(this.$message.error("小时、分钟 、秒选项必选"),e=!1))),e&&(this.loading=!0,Object(s["b"])("config/cyclejob",s["a"].POST,t).then((function(e){a.$message.success("保存成功"),a.loading=!1,a.getConfig()})).catch((function(){a.loading=!1})))}}},c=r,d=(t("8d9f"),t("2877")),u=Object(d["a"])(c,o,i,!1,null,"f3f93606",null),m=u.exports,f=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("a-card",{staticStyle:{clear:"both, padding-top 30px"}},[t("div",{staticClass:"body"},[t("a-spin",{attrs:{spinning:a.spinning,tip:"正在导入数据，请稍等！"}},[t("div",{staticClass:"buttons"},[t("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:a.createConfig}},[a._v("新建")])],1),t("div",{staticClass:"title"},[a._v("查询结果")]),t("a-row",{staticClass:"table"},[t("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[t("a-table",{attrs:{columns:a.columns,rowKey:"id",dataSource:a.table.data,loading:a.loading,pagination:!1},scopedSlots:a._u([{key:"operations",fn:function(e){return[t("span",{staticClass:"oper-margin oper"},[t("span",{staticClass:"oper red",on:{click:function(t){return a.deleteConfig(e)}}},[a._v("删除")])])]}}])})],1)],1)],1)],1)]),t("a-modal",{attrs:{title:a.title,width:"700px","confirm-loading":a.confirmLoading,"mask-closable":!1},on:{ok:a.clickSave,cancel:a.handleCancel},model:{value:a.visible,callback:function(e){a.visible=e},expression:"visible"}},[t("a-form-model",{ref:"form",attrs:{model:a.form.data,rules:a.form.rules,"label-col":{span:8},"wrapper-col":{span:16}}},[t("a-form-model-item",{attrs:{label:"核查服务IP",prop:"blsecIp",rules:a.ip}},[t("a-input",{attrs:{placeholder:"请输入核查服务IP",maxLength:20},model:{value:a.form.data.blsecIp,callback:function(e){a.$set(a.form.data,"blsecIp",e)},expression:"form.data.blsecIp"}})],1),t("a-form-model-item",{attrs:{label:"核查服务端口",prop:"blsecPort",rules:a.format}},[t("a-input",{attrs:{placeholder:"请输入核查服务端口",maxLength:5},model:{value:a.form.data.blsecPort,callback:function(e){a.$set(a.form.data,"blsecPort",e)},expression:"form.data.blsecPort"}})],1),t("a-form-model-item",{attrs:{label:"上传报告IP",prop:"dmsIp",rules:a.ip}},[t("a-input",{attrs:{placeholder:"请输入上传报告IP",maxLength:20},model:{value:a.form.data.dmsIp,callback:function(e){a.$set(a.form.data,"dmsIp",e)},expression:"form.data.dmsIp"}})],1),t("a-form-model-item",{attrs:{label:"上传报告端口",prop:"dmsPort",rules:a.format}},[t("a-input",{attrs:{placeholder:"请输入上传报告端口",maxLength:5},model:{value:a.form.data.dmsPort,callback:function(e){a.$set(a.form.data,"dmsPort",e)},expression:"form.data.dmsPort"}})],1),t("a-form-model-item",{attrs:{label:"本机地址",prop:"clientIp",rules:a.select}},[t("a-select",{attrs:{placeholder:"请选择本机地址",getPopupContainer:function(a){return a.parentNode}},model:{value:a.form.data.clientIp,callback:function(e){a.$set(a.form.data,"clientIp",e)},expression:"form.data.clientIp"}},a._l(a.ipList,(function(e,n){return t("a-select-option",{key:n,attrs:{value:e}},[a._v(a._s(e))])})),1)],1)],1)],1)],1)},p=[],v=t("c2f2"),h=t("a00a"),b=[{title:"核查服务IP",dataIndex:"blsecIp"},{title:"核查服务端口",dataIndex:"blsecPort"},{title:"上传报告IP",dataIndex:"dmsIp"},{title:"上传报告端口",dataIndex:"dmsPort"},{title:"本机地址IP",dataIndex:"clientIp"},{title:"操作",scopedSlots:{customRender:"operations"}}],g={name:"baselineInfo",mixins:[v["a"]],components:{},filters:{},data:function(){return{readOnly:"true",columns:b,dialog:"",loading:!1,spinning:!1,confirmLoading:!1,table:{data:[],total:0},form:{data:{dmsIp:"",dmsPort:"",blsecIp:"",blsecPort:"",clientIp:""}},title:"新建",ip:h["a"].ip1,format:h["a"].format,select:h["a"].select,visible:!1,ipList:[]}},created:function(){var a=this;Object(s["b"])("config/report/iplist",s["a"].GET).then((function(e){a.ipList=e})),this.update()},watch:{},methods:{update:function(){var a=this;a.loading=!0,Object(s["b"])("config/report/list",s["a"].GET).then((function(e){e?(a.table.data=e,a.loading=!1):(a.table.total=0,a.table.data=[],a.loading=!1)})).catch((function(){a.loading=!1}))},createConfig:function(){this.visible=!0,this.title="新建"},deleteConfig:function(a){var e=this;e.$confirm({content:"确认删除吗？",okText:"确认",cancelText:"取消",onOk:function(){Object(s["b"])("config/reportDel",s["a"].POST,a).then((function(){e.$message.success("删除成功"),e.update()}))},onCancel:function(){}})},clickSave:function(){var a=this;a.$refs["form"].validate((function(e){e&&(a.confirmLoading=!0,Object(s["b"])("config/report",s["a"].POST,a.form.data).then((function(){a.confirmLoading=!1,a.handleCancel(),a.update()})).catch((function(){a.confirmLoading=!1})))}))},handleCancel:function(){this.visible=!1,this.form.data={dmsIp:"",dmsPort:"",blsecIp:"",blsecPort:"",clientIp:""}}},destroyed:function(){},beforeDestroy:function(){this.dialog&&this.dialog.close()}},y=g,k=(t("a068"),Object(d["a"])(y,f,p,!1,null,"691d7f16",null)),C=k.exports,_="baselineMenu:m",x={name:"baseline",mixins:[],components:{BbaselineTimeConfig:m,BbaselineIpconfig:C},filters:{},data:function(){return{menuLists:[{id:1,value:1,menuName:"核查周期配置"},{id:2,value:2,menuName:"核查上报配置"}],menu:""}},created:function(){this.menu=+sessionStorage.getItem(_)||1,this.switchMenu(this.menu)},watch:{},methods:{handleMenuChange:function(a){this.menu=a.target.value,this.switchMenu(this.menu)},switchMenu:function(a){sessionStorage.setItem(_,this.menu)}},destroyed:function(){localStorage.removeItem("baselineMenu")},beforeDestroy:function(){this.dialog&&this.dialog.close()}},I=x,P=(t("0198"),Object(d["a"])(I,n,l,!1,null,"0019baf7",null));e["default"]=P.exports}}]);