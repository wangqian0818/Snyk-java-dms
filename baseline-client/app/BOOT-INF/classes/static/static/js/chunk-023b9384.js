(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-023b9384"],{"7aaa":function(e,t,n){"use strict";n("b078")},b078:function(e,t,n){},c113:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-card",{staticStyle:{"margin-top":"30px"}},[n("div",{staticClass:"search"},[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"body"},[n("a-row",{staticClass:"table"},[n("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[n("a-spin",{attrs:{spinning:e.spinning}},[n("a-table",{attrs:{columns:e.columns,"data-source":e.table.data,pagination:!1,"row-selection":e.rowSelection,bordered:"",scroll:{y:580},rowKey:"no"}}),n("div",{staticClass:"tc"},[n("a-button",{staticStyle:{"margin-top":"50px"},attrs:{type:"primary",loading:e.loading},on:{click:e.saveConfig}},[e._v("保存")])],1)],1)],1)],1)],1)])],1)])],1)},i=[],r=n("1da1"),s=(n("96cf"),n("d81d"),n("4de4"),n("d3b7"),n("b775")),c={name:"SystemSettings",data:function(){return{loading:!1,spinning:!1,selectedRowKeys:[],columns:[{title:"编号",width:"10%",dataIndex:"no"},{title:"检查项名称",width:"20%",dataIndex:"name"},{title:"检查项说明",width:"35%",dataIndex:"description"},{title:"标准值",width:"15%",dataIndex:"standardValue"},{title:"级别",width:"10%",dataIndex:"level"},{title:"权重",width:"10%",dataIndex:"weight"}],table:{data:[],total:0}}},computed:{rowSelection:function(){var e=this;return{selectedRowKeys:this.selectedRowKeys,onChange:function(t){e.selectedRowKeys=t},getCheckboxProps:function(e){return{defaultChecked:e.enable}}}}},created:function(){this.getConfig()},methods:{getConfig:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.spinning=!0,t.next=4,Object(s["b"])("config/checkList",s["a"].GET);case 4:n=t.sent,e.table.data=n.list||[],e.selectedRowKeys=e.table.data.filter((function(e){return e.enable})).map((function(e){return e.no}));case 7:return t.prev=7,e.spinning=!1,t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[0,,7,10]])})))()},saveConfig:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.selectedRowKeys.length){t.next=4;break}e.$message.error("请选择至少一个检查项"),t.next=18;break;case 4:return t.prev=4,e.loading=!0,t.next=8,Object(s["b"])("config/checkList",s["a"].POST,e.selectedRowKeys);case 8:n=t.sent,n&&(e.$message.success("配置成功"),e.getConfig()),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),e.$message.error("保存失败");case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[4,12,15,18]])})))()}}},o=c,d=(n("7aaa"),n("2877")),l=Object(d["a"])(o,a,i,!1,null,"12ef8162",null);t["default"]=l.exports}}]);